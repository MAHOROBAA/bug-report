(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ju(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const Bt={},Fs=[],wn=()=>{},Wg=()=>!1,Ec=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Zu=n=>n.startsWith("onUpdate:"),de=Object.assign,$u=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Hy=Object.prototype.hasOwnProperty,xt=(n,t)=>Hy.call(n,t),pt=Array.isArray,Bs=n=>Ic(n)==="[object Map]",Yg=n=>Ic(n)==="[object Set]",_t=n=>typeof n=="function",$t=n=>typeof n=="string",zn=n=>typeof n=="symbol",Gt=n=>n!==null&&typeof n=="object",Xg=n=>(Gt(n)||_t(n))&&_t(n.then)&&_t(n.catch),Jg=Object.prototype.toString,Ic=n=>Jg.call(n),Ky=n=>Ic(n).slice(8,-1),Zg=n=>Ic(n)==="[object Object]",th=n=>$t(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Zi=Ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tc=n=>{const t=Object.create(null);return(e=>t[e]||(t[e]=n(e)))},qy=/-\w/g,Er=Tc(n=>n.replace(qy,t=>t.slice(1).toUpperCase())),zy=/\B([A-Z])/g,Sr=Tc(n=>n.replace(zy,"-$1").toLowerCase()),$g=Tc(n=>n.charAt(0).toUpperCase()+n.slice(1)),yl=Tc(n=>n?`on${$g(n)}`:""),dr=(n,t)=>!Object.is(n,t),Ta=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},tm=(n,t,e,r=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:r,value:e})},Zl=n=>{const t=parseFloat(n);return isNaN(t)?n:t},Qy=n=>{const t=$t(n)?Number(n):NaN;return isNaN(t)?n:t};let ld;const bc=()=>ld||(ld=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function eh(n){if(pt(n)){const t={};for(let e=0;e<n.length;e++){const r=n[e],s=$t(r)?Jy(r):eh(r);if(s)for(const i in s)t[i]=s[i]}return t}else if($t(n)||Gt(n))return n}const Wy=/;(?![^(]*\))/g,Yy=/:([^]+)/,Xy=/\/\*[^]*?\*\//g;function Jy(n){const t={};return n.replace(Xy,"").split(Wy).forEach(e=>{if(e){const r=e.split(Yy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function $e(n){let t="";if($t(n))t=n;else if(pt(n))for(let e=0;e<n.length;e++){const r=$e(n[e]);r&&(t+=r+" ")}else if(Gt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const Zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$y=Ju(Zy);function em(n){return!!n||n===""}const nm=n=>!!(n&&n.__v_isRef===!0),ge=n=>$t(n)?n:n==null?"":pt(n)||Gt(n)&&(n.toString===Jg||!_t(n.toString))?nm(n)?ge(n.value):JSON.stringify(n,rm,2):String(n),rm=(n,t)=>nm(t)?rm(n,t.value):Bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[r,s],i)=>(e[Al(r,i)+" =>"]=s,e),{})}:Yg(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Al(e))}:zn(t)?Al(t):Gt(t)&&!pt(t)&&!Zg(t)?String(t):t,Al=(n,t="")=>{var e;return zn(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class t2{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!t&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=je;try{return je=this,t()}finally{je=e}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(this.effects.length=0,e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function e2(){return je}let jt;const vl=new WeakSet;class sm{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vl.has(this)&&(vl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||om(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ud(this),am(this);const t=jt,e=ln;jt=this,ln=!0;try{return this.fn()}finally{cm(this),jt=t,ln=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)sh(t);this.deps=this.depsTail=void 0,ud(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$l(this)&&this.run()}get dirty(){return $l(this)}}let im=0,$i,to;function om(n,t=!1){if(n.flags|=8,t){n.next=to,to=n;return}n.next=$i,$i=n}function nh(){im++}function rh(){if(--im>0)return;if(to){let t=to;for(to=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;$i;){let t=$i;for($i=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){n||(n=r)}t=e}}if(n)throw n}function am(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cm(n){let t,e=n.depsTail,r=e;for(;r;){const s=r.prevDep;r.version===-1?(r===e&&(e=s),sh(r),n2(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}n.deps=t,n.depsTail=e}function $l(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(lm(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function lm(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===_o)||(n.globalVersion=_o,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!$l(n))))return;n.flags|=2;const t=n.dep,e=jt,r=ln;jt=n,ln=!0;try{am(n);const s=n.fn(n._value);(t.version===0||dr(s,n._value))&&(n.flags|=128,n._value=s,t.version++)}catch(s){throw t.version++,s}finally{jt=e,ln=r,cm(n),n.flags&=-3}}function sh(n,t=!1){const{dep:e,prevSub:r,nextSub:s}=n;if(r&&(r.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=r,n.nextSub=void 0),e.subs===n&&(e.subs=r,!r&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)sh(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function n2(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let ln=!0;const um=[];function jn(){um.push(ln),ln=!1}function Gn(){const n=um.pop();ln=n===void 0?!0:n}function ud(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=jt;jt=void 0;try{t()}finally{jt=e}}}let _o=0;class r2{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ih{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!jt||!ln||jt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==jt)e=this.activeLink=new r2(jt,this),jt.deps?(e.prevDep=jt.depsTail,jt.depsTail.nextDep=e,jt.depsTail=e):jt.deps=jt.depsTail=e,hm(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const r=e.nextDep;r.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=r),e.prevDep=jt.depsTail,e.nextDep=void 0,jt.depsTail.nextDep=e,jt.depsTail=e,jt.deps===e&&(jt.deps=r)}return e}trigger(t){this.version++,_o++,this.notify(t)}notify(t){nh();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{rh()}}}function hm(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)hm(r)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const tu=new WeakMap,es=Symbol(""),eu=Symbol(""),yo=Symbol("");function be(n,t,e){if(ln&&jt){let r=tu.get(n);r||tu.set(n,r=new Map);let s=r.get(e);s||(r.set(e,s=new ih),s.map=r,s.key=e),s.track()}}function On(n,t,e,r,s,i){const o=tu.get(n);if(!o){_o++;return}const c=l=>{l&&l.trigger()};if(nh(),t==="clear")o.forEach(c);else{const l=pt(n),u=l&&th(e);if(l&&e==="length"){const f=Number(r);o.forEach((d,g)=>{(g==="length"||g===yo||!zn(g)&&g>=f)&&c(d)})}else switch((e!==void 0||o.has(void 0))&&c(o.get(e)),u&&c(o.get(yo)),t){case"add":l?u&&c(o.get("length")):(c(o.get(es)),Bs(n)&&c(o.get(eu)));break;case"delete":l||(c(o.get(es)),Bs(n)&&c(o.get(eu)));break;case"set":Bs(n)&&c(o.get(es));break}}rh()}function Ts(n){const t=St(n);return t===n?t:(be(t,"iterate",yo),rn(n)?t:t.map(_e))}function wc(n){return be(n=St(n),"iterate",yo),n}const s2={__proto__:null,[Symbol.iterator](){return El(this,Symbol.iterator,_e)},concat(...n){return Ts(this).concat(...n.map(t=>pt(t)?Ts(t):t))},entries(){return El(this,"entries",n=>(n[1]=_e(n[1]),n))},every(n,t){return xn(this,"every",n,t,void 0,arguments)},filter(n,t){return xn(this,"filter",n,t,e=>e.map(_e),arguments)},find(n,t){return xn(this,"find",n,t,_e,arguments)},findIndex(n,t){return xn(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return xn(this,"findLast",n,t,_e,arguments)},findLastIndex(n,t){return xn(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return xn(this,"forEach",n,t,void 0,arguments)},includes(...n){return Il(this,"includes",n)},indexOf(...n){return Il(this,"indexOf",n)},join(n){return Ts(this).join(n)},lastIndexOf(...n){return Il(this,"lastIndexOf",n)},map(n,t){return xn(this,"map",n,t,void 0,arguments)},pop(){return Oi(this,"pop")},push(...n){return Oi(this,"push",n)},reduce(n,...t){return hd(this,"reduce",n,t)},reduceRight(n,...t){return hd(this,"reduceRight",n,t)},shift(){return Oi(this,"shift")},some(n,t){return xn(this,"some",n,t,void 0,arguments)},splice(...n){return Oi(this,"splice",n)},toReversed(){return Ts(this).toReversed()},toSorted(n){return Ts(this).toSorted(n)},toSpliced(...n){return Ts(this).toSpliced(...n)},unshift(...n){return Oi(this,"unshift",n)},values(){return El(this,"values",_e)}};function El(n,t,e){const r=wc(n),s=r[t]();return r!==n&&!rn(n)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=e(i.value)),i}),s}const i2=Array.prototype;function xn(n,t,e,r,s,i){const o=wc(n),c=o!==n&&!rn(n),l=o[t];if(l!==i2[t]){const d=l.apply(n,i);return c?_e(d):d}let u=e;o!==n&&(c?u=function(d,g){return e.call(this,_e(d),g,n)}:e.length>2&&(u=function(d,g){return e.call(this,d,g,n)}));const f=l.call(o,u,r);return c&&s?s(f):f}function hd(n,t,e,r){const s=wc(n);let i=e;return s!==n&&(rn(n)?e.length>3&&(i=function(o,c,l){return e.call(this,o,c,l,n)}):i=function(o,c,l){return e.call(this,o,_e(c),l,n)}),s[t](i,...r)}function Il(n,t,e){const r=St(n);be(r,"iterate",yo);const s=r[t](...e);return(s===-1||s===!1)&&ch(e[0])?(e[0]=St(e[0]),r[t](...e)):s}function Oi(n,t,e=[]){jn(),nh();const r=St(n)[t].apply(n,e);return rh(),Gn(),r}const o2=Ju("__proto__,__v_isRef,__isVue"),fm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(zn));function a2(n){zn(n)||(n=String(n));const t=St(this);return be(t,"has",n),t.hasOwnProperty(n)}class dm{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,r){if(e==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!s;if(e==="__v_isReadonly")return s;if(e==="__v_isShallow")return i;if(e==="__v_raw")return r===(s?i?_2:_m:i?mm:gm).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=pt(t);if(!s){let l;if(o&&(l=s2[e]))return l;if(e==="hasOwnProperty")return a2}const c=Reflect.get(t,e,Se(t)?t:r);if((zn(e)?fm.has(e):o2(e))||(s||be(t,"get",e),i))return c;if(Se(c)){const l=o&&th(e)?c:c.value;return s&&Gt(l)?ru(l):l}return Gt(c)?s?ru(c):Rc(c):c}}class pm extends dm{constructor(t=!1){super(!1,t)}set(t,e,r,s){let i=t[e];if(!this._isShallow){const l=Ir(i);if(!rn(r)&&!Ir(r)&&(i=St(i),r=St(r)),!pt(t)&&Se(i)&&!Se(r))return l||(i.value=r),!0}const o=pt(t)&&th(e)?Number(e)<t.length:xt(t,e),c=Reflect.set(t,e,r,Se(t)?t:s);return t===St(s)&&(o?dr(r,i)&&On(t,"set",e,r):On(t,"add",e,r)),c}deleteProperty(t,e){const r=xt(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&r&&On(t,"delete",e,void 0),s}has(t,e){const r=Reflect.has(t,e);return(!zn(e)||!fm.has(e))&&be(t,"has",e),r}ownKeys(t){return be(t,"iterate",pt(t)?"length":es),Reflect.ownKeys(t)}}class c2 extends dm{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const l2=new pm,u2=new c2,h2=new pm(!0);const nu=n=>n,ua=n=>Reflect.getPrototypeOf(n);function f2(n,t,e){return function(...r){const s=this.__v_raw,i=St(s),o=Bs(i),c=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,u=s[n](...r),f=e?nu:t?ja:_e;return!t&&be(i,"iterate",l?eu:es),{next(){const{value:d,done:g}=u.next();return g?{value:d,done:g}:{value:c?[f(d[0]),f(d[1])]:f(d),done:g}},[Symbol.iterator](){return this}}}}function ha(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function d2(n,t){const e={get(s){const i=this.__v_raw,o=St(i),c=St(s);n||(dr(s,c)&&be(o,"get",s),be(o,"get",c));const{has:l}=ua(o),u=t?nu:n?ja:_e;if(l.call(o,s))return u(i.get(s));if(l.call(o,c))return u(i.get(c));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!n&&be(St(s),"iterate",es),s.size},has(s){const i=this.__v_raw,o=St(i),c=St(s);return n||(dr(s,c)&&be(o,"has",s),be(o,"has",c)),s===c?i.has(s):i.has(s)||i.has(c)},forEach(s,i){const o=this,c=o.__v_raw,l=St(c),u=t?nu:n?ja:_e;return!n&&be(l,"iterate",es),c.forEach((f,d)=>s.call(i,u(f),u(d),o))}};return de(e,n?{add:ha("add"),set:ha("set"),delete:ha("delete"),clear:ha("clear")}:{add(s){!t&&!rn(s)&&!Ir(s)&&(s=St(s));const i=St(this);return ua(i).has.call(i,s)||(i.add(s),On(i,"add",s,s)),this},set(s,i){!t&&!rn(i)&&!Ir(i)&&(i=St(i));const o=St(this),{has:c,get:l}=ua(o);let u=c.call(o,s);u||(s=St(s),u=c.call(o,s));const f=l.call(o,s);return o.set(s,i),u?dr(i,f)&&On(o,"set",s,i):On(o,"add",s,i),this},delete(s){const i=St(this),{has:o,get:c}=ua(i);let l=o.call(i,s);l||(s=St(s),l=o.call(i,s)),c&&c.call(i,s);const u=i.delete(s);return l&&On(i,"delete",s,void 0),u},clear(){const s=St(this),i=s.size!==0,o=s.clear();return i&&On(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=f2(s,n,t)}),e}function oh(n,t){const e=d2(n,t);return(r,s,i)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?r:Reflect.get(xt(e,s)&&s in r?e:r,s,i)}const p2={get:oh(!1,!1)},g2={get:oh(!1,!0)},m2={get:oh(!0,!1)};const gm=new WeakMap,mm=new WeakMap,_m=new WeakMap,_2=new WeakMap;function y2(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function A2(n){return n.__v_skip||!Object.isExtensible(n)?0:y2(Ky(n))}function Rc(n){return Ir(n)?n:ah(n,!1,l2,p2,gm)}function ym(n){return ah(n,!1,h2,g2,mm)}function ru(n){return ah(n,!0,u2,m2,_m)}function ah(n,t,e,r,s){if(!Gt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=A2(n);if(i===0)return n;const o=s.get(n);if(o)return o;const c=new Proxy(n,i===2?r:e);return s.set(n,c),c}function Us(n){return Ir(n)?Us(n.__v_raw):!!(n&&n.__v_isReactive)}function Ir(n){return!!(n&&n.__v_isReadonly)}function rn(n){return!!(n&&n.__v_isShallow)}function ch(n){return n?!!n.__v_raw:!1}function St(n){const t=n&&n.__v_raw;return t?St(t):n}function v2(n){return!xt(n,"__v_skip")&&Object.isExtensible(n)&&tm(n,"__v_skip",!0),n}const _e=n=>Gt(n)?Rc(n):n,ja=n=>Gt(n)?ru(n):n;function Se(n){return n?n.__v_isRef===!0:!1}function Pt(n){return Am(n,!1)}function E2(n){return Am(n,!0)}function Am(n,t){return Se(n)?n:new I2(n,t)}class I2{constructor(t,e){this.dep=new ih,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:St(t),this._value=e?t:_e(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,r=this.__v_isShallow||rn(t)||Ir(t);t=r?t:St(t),dr(t,e)&&(this._rawValue=t,this._value=r?t:_e(t),this.dep.trigger())}}function mt(n){return Se(n)?n.value:n}const T2={get:(n,t,e)=>t==="__v_raw"?n:mt(Reflect.get(n,t,e)),set:(n,t,e,r)=>{const s=n[t];return Se(s)&&!Se(e)?(s.value=e,!0):Reflect.set(n,t,e,r)}};function vm(n){return Us(n)?n:new Proxy(n,T2)}class b2{constructor(t,e,r){this.fn=t,this.setter=e,this._value=void 0,this.dep=new ih(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_o-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&jt!==this)return om(this,!0),!0}get value(){const t=this.dep.track();return lm(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function w2(n,t,e=!1){let r,s;return _t(n)?r=n:(r=n.get,s=n.set),new b2(r,s,e)}const fa={},Ga=new WeakMap;let Kr;function R2(n,t=!1,e=Kr){if(e){let r=Ga.get(e);r||Ga.set(e,r=[]),r.push(n)}}function C2(n,t,e=Bt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:c,call:l}=e,u=q=>s?q:rn(q)||s===!1||s===0?Ln(q,1):Ln(q);let f,d,g,m,C=!1,x=!1;if(Se(n)?(d=()=>n.value,C=rn(n)):Us(n)?(d=()=>u(n),C=!0):pt(n)?(x=!0,C=n.some(q=>Us(q)||rn(q)),d=()=>n.map(q=>{if(Se(q))return q.value;if(Us(q))return u(q);if(_t(q))return l?l(q,2):q()})):_t(n)?t?d=l?()=>l(n,2):n:d=()=>{if(g){jn();try{g()}finally{Gn()}}const q=Kr;Kr=f;try{return l?l(n,3,[m]):n(m)}finally{Kr=q}}:d=wn,t&&s){const q=d,tt=s===!0?1/0:s;d=()=>Ln(q(),tt)}const k=e2(),G=()=>{f.stop(),k&&k.active&&$u(k.effects,f)};if(i&&t){const q=t;t=(...tt)=>{q(...tt),G()}}let B=x?new Array(n.length).fill(fa):fa;const U=q=>{if(!(!(f.flags&1)||!f.dirty&&!q))if(t){const tt=f.run();if(s||C||(x?tt.some((rt,I)=>dr(rt,B[I])):dr(tt,B))){g&&g();const rt=Kr;Kr=f;try{const I=[tt,B===fa?void 0:x&&B[0]===fa?[]:B,m];B=tt,l?l(t,3,I):t(...I)}finally{Kr=rt}}}else f.run()};return c&&c(U),f=new sm(d),f.scheduler=o?()=>o(U,!1):U,m=q=>R2(q,!1,f),g=f.onStop=()=>{const q=Ga.get(f);if(q){if(l)l(q,4);else for(const tt of q)tt();Ga.delete(f)}},t?r?U(!0):B=f.run():o?o(U.bind(null,!0),!0):f.run(),G.pause=f.pause.bind(f),G.resume=f.resume.bind(f),G.stop=G,G}function Ln(n,t=1/0,e){if(t<=0||!Gt(n)||n.__v_skip||(e=e||new Map,(e.get(n)||0)>=t))return n;if(e.set(n,t),t--,Se(n))Ln(n.value,t,e);else if(pt(n))for(let r=0;r<n.length;r++)Ln(n[r],t,e);else if(Yg(n)||Bs(n))n.forEach(r=>{Ln(r,t,e)});else if(Zg(n)){for(const r in n)Ln(n[r],t,e);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Ln(n[r],t,e)}return n}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ko(n,t,e,r){try{return r?n(...r):n()}catch(s){Cc(s,t,e)}}function fn(n,t,e,r){if(_t(n)){const s=Ko(n,t,e,r);return s&&Xg(s)&&s.catch(i=>{Cc(i,t,e)}),s}if(pt(n)){const s=[];for(let i=0;i<n.length;i++)s.push(fn(n[i],t,e,r));return s}}function Cc(n,t,e,r=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Bt;if(t){let c=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;c;){const f=c.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](n,l,u)===!1)return}c=c.parent}if(i){jn(),Ko(i,null,10,[n,l,u]),Gn();return}}S2(n,e,s,r,o)}function S2(n,t,e,r=!0,s=!1){if(s)throw n;console.error(n)}const ke=[];let yn=-1;const js=[];let ar=null,xs=0;const Em=Promise.resolve();let Ha=null;function Im(n){const t=Ha||Em;return n?t.then(this?n.bind(this):n):t}function P2(n){let t=yn+1,e=ke.length;for(;t<e;){const r=t+e>>>1,s=ke[r],i=Ao(s);i<n||i===n&&s.flags&2?t=r+1:e=r}return t}function lh(n){if(!(n.flags&1)){const t=Ao(n),e=ke[ke.length-1];!e||!(n.flags&2)&&t>=Ao(e)?ke.push(n):ke.splice(P2(t),0,n),n.flags|=1,Tm()}}function Tm(){Ha||(Ha=Em.then(wm))}function V2(n){pt(n)?js.push(...n):ar&&n.id===-1?ar.splice(xs+1,0,n):n.flags&1||(js.push(n),n.flags|=1),Tm()}function fd(n,t,e=yn+1){for(;e<ke.length;e++){const r=ke[e];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;ke.splice(e,1),e--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bm(n){if(js.length){const t=[...new Set(js)].sort((e,r)=>Ao(e)-Ao(r));if(js.length=0,ar){ar.push(...t);return}for(ar=t,xs=0;xs<ar.length;xs++){const e=ar[xs];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}ar=null,xs=0}}const Ao=n=>n.id==null?n.flags&2?-1:1/0:n.id;function wm(n){try{for(yn=0;yn<ke.length;yn++){const t=ke[yn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ko(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yn<ke.length;yn++){const t=ke[yn];t&&(t.flags&=-2)}yn=-1,ke.length=0,bm(),Ha=null,(ke.length||js.length)&&wm()}}let Ce=null,Rm=null;function Ka(n){const t=Ce;return Ce=n,Rm=n&&n.type.__scopeId||null,t}function as(n,t=Ce,e){if(!t||n._n)return n;const r=(...s)=>{r._d&&Qa(-1);const i=Ka(t);let o;try{o=n(...s)}finally{Ka(i),r._d&&Qa(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function An(n,t){if(Ce===null)return n;const e=Nc(Ce),r=n.dirs||(n.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,c,l=Bt]=t[s];i&&(_t(i)&&(i={mounted:i,updated:i}),i.deep&&Ln(o),r.push({dir:i,instance:e,value:o,oldValue:void 0,arg:c,modifiers:l}))}return n}function Br(n,t,e,r){const s=n.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const c=s[o];i&&(c.oldValue=i[o].value);let l=c.dir[r];l&&(jn(),fn(l,e,8,[n.el,c,n,t]),Gn())}}const x2=Symbol("_vte"),Cm=n=>n.__isTeleport,Mn=Symbol("_leaveCb"),da=Symbol("_enterCb");function D2(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cs(()=>{n.isMounted=!0}),Eo(()=>{n.isUnmounting=!0}),n}const en=[Function,Array],Sm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:en,onEnter:en,onAfterEnter:en,onEnterCancelled:en,onBeforeLeave:en,onLeave:en,onAfterLeave:en,onLeaveCancelled:en,onBeforeAppear:en,onAppear:en,onAfterAppear:en,onAppearCancelled:en},Pm=n=>{const t=n.subTree;return t.component?Pm(t.component):t},N2={name:"BaseTransition",props:Sm,setup(n,{slots:t}){const e=n1(),r=D2();return()=>{const s=t.default&&Dm(t.default(),!0);if(!s||!s.length)return;const i=Vm(s),o=St(n),{mode:c}=o;if(r.isLeaving)return Tl(i);const l=dd(i);if(!l)return Tl(i);let u=su(l,o,r,e,d=>u=d);l.type!==we&&vo(l,u);let f=e.subTree&&dd(e.subTree);if(f&&f.type!==we&&!Wr(f,l)&&Pm(e).type!==we){let d=su(f,o,r,e);if(vo(f,d),c==="out-in"&&l.type!==we)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,e.job.flags&8||e.update(),delete d.afterLeave,f=void 0},Tl(i);c==="in-out"&&l.type!==we?d.delayLeave=(g,m,C)=>{const x=xm(r,f);x[String(f.key)]=f,g[Mn]=()=>{m(),g[Mn]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{C(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function Vm(n){let t=n[0];if(n.length>1){for(const e of n)if(e.type!==we){t=e;break}}return t}const k2=N2;function xm(n,t){const{leavingVNodes:e}=n;let r=e.get(t.type);return r||(r=Object.create(null),e.set(t.type,r)),r}function su(n,t,e,r,s){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:g,onLeave:m,onAfterLeave:C,onLeaveCancelled:x,onBeforeAppear:k,onAppear:G,onAfterAppear:B,onAppearCancelled:U}=t,q=String(n.key),tt=xm(e,n),rt=(y,R)=>{y&&fn(y,r,9,R)},I=(y,R)=>{const w=R[1];rt(y,R),pt(y)?y.every(T=>T.length<=1)&&w():y.length<=1&&w()},A={mode:o,persisted:c,beforeEnter(y){let R=l;if(!e.isMounted)if(i)R=k||l;else return;y[Mn]&&y[Mn](!0);const w=tt[q];w&&Wr(n,w)&&w.el[Mn]&&w.el[Mn](),rt(R,[y])},enter(y){let R=u,w=f,T=d;if(!e.isMounted)if(i)R=G||u,w=B||f,T=U||d;else return;let v=!1;const vt=y[da]=Lt=>{v||(v=!0,Lt?rt(T,[y]):rt(w,[y]),A.delayedLeave&&A.delayedLeave(),y[da]=void 0)};R?I(R,[y,vt]):vt()},leave(y,R){const w=String(n.key);if(y[da]&&y[da](!0),e.isUnmounting)return R();rt(g,[y]);let T=!1;const v=y[Mn]=vt=>{T||(T=!0,R(),vt?rt(x,[y]):rt(C,[y]),y[Mn]=void 0,tt[w]===n&&delete tt[w])};tt[w]=n,m?I(m,[y,v]):v()},clone(y){const R=su(y,t,e,r,s);return s&&s(R),R}};return A}function Tl(n){if(Sc(n))return n=Tr(n),n.children=null,n}function dd(n){if(!Sc(n))return Cm(n.type)&&n.children?Vm(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:t,children:e}=n;if(e){if(t&16)return e[0];if(t&32&&_t(e.default))return e.default()}}function vo(n,t){n.shapeFlag&6&&n.component?(n.transition=t,vo(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Dm(n,t=!1,e){let r=[],s=0;for(let i=0;i<n.length;i++){let o=n[i];const c=e==null?o.key:String(e)+String(o.key!=null?o.key:i);o.type===Xt?(o.patchFlag&128&&s++,r=r.concat(Dm(o.children,t,c))):(t||o.type!==we)&&r.push(c!=null?Tr(o,{key:c}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Nm(n,t){return _t(n)?de({name:n.name},t,{setup:n}):n}function km(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}const qa=new WeakMap;function eo(n,t,e,r,s=!1){if(pt(n)){n.forEach((C,x)=>eo(C,t&&(pt(t)?t[x]:t),e,r,s));return}if(Gs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&eo(n,t,e,r.component.subTree);return}const i=r.shapeFlag&4?Nc(r.component):r.el,o=s?null:i,{i:c,r:l}=n,u=t&&t.r,f=c.refs===Bt?c.refs={}:c.refs,d=c.setupState,g=St(d),m=d===Bt?Wg:C=>xt(g,C);if(u!=null&&u!==l){if(pd(t),$t(u))f[u]=null,m(u)&&(d[u]=null);else if(Se(u)){u.value=null;const C=t;C.k&&(f[C.k]=null)}}if(_t(l))Ko(l,c,12,[o,f]);else{const C=$t(l),x=Se(l);if(C||x){const k=()=>{if(n.f){const G=C?m(l)?d[l]:f[l]:l.value;if(s)pt(G)&&$u(G,i);else if(pt(G))G.includes(i)||G.push(i);else if(C)f[l]=[i],m(l)&&(d[l]=f[l]);else{const B=[i];l.value=B,n.k&&(f[n.k]=B)}}else C?(f[l]=o,m(l)&&(d[l]=o)):x&&(l.value=o,n.k&&(f[n.k]=o))};if(o){const G=()=>{k(),qa.delete(n)};G.id=-1,qa.set(n,G),We(G,e)}else pd(n),k()}}}function pd(n){const t=qa.get(n);t&&(t.flags|=8,qa.delete(n))}bc().requestIdleCallback;bc().cancelIdleCallback;const Gs=n=>!!n.type.__asyncLoader,Sc=n=>n.type.__isKeepAlive;function M2(n,t){Mm(n,"a",t)}function O2(n,t){Mm(n,"da",t)}function Mm(n,t,e=Me){const r=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(Pc(t,r,e),e){let s=e.parent;for(;s&&s.parent;)Sc(s.parent.vnode)&&L2(r,t,e,s),s=s.parent}}function L2(n,t,e,r){const s=Pc(t,n,r,!0);Vc(()=>{$u(r[t],s)},e)}function Pc(n,t,e=Me,r=!1){if(e){const s=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...o)=>{jn();const c=qo(e),l=fn(t,e,n,o);return c(),Gn(),l});return r?s.unshift(i):s.push(i),i}}const Qn=n=>(t,e=Me)=>{(!bo||n==="sp")&&Pc(n,(...r)=>t(...r),e)},F2=Qn("bm"),cs=Qn("m"),B2=Qn("bu"),U2=Qn("u"),Eo=Qn("bum"),Vc=Qn("um"),j2=Qn("sp"),G2=Qn("rtg"),H2=Qn("rtc");function K2(n,t=Me){Pc("ec",n,t)}const q2=Symbol.for("v-ndc");function ba(n,t,e,r){let s;const i=e,o=pt(n);if(o||$t(n)){const c=o&&Us(n);let l=!1,u=!1;c&&(l=!rn(n),u=Ir(n),n=wc(n)),s=new Array(n.length);for(let f=0,d=n.length;f<d;f++)s[f]=t(l?u?ja(_e(n[f])):_e(n[f]):n[f],f,void 0,i)}else if(typeof n=="number"){s=new Array(n);for(let c=0;c<n;c++)s[c]=t(c+1,c,void 0,i)}else if(Gt(n))if(n[Symbol.iterator])s=Array.from(n,(c,l)=>t(c,l,void 0,i));else{const c=Object.keys(n);s=new Array(c.length);for(let l=0,u=c.length;l<u;l++){const f=c[l];s[l]=t(n[f],f,l,i)}}else s=[];return s}function gd(n,t,e={},r,s){if(Ce.ce||Ce.parent&&Gs(Ce.parent)&&Ce.parent.ce){const u=Object.keys(e).length>0;return t!=="default"&&(e.name=t),at(),un(Xt,null,[Ut("slot",e,r)],u?-2:64)}let i=n[t];i&&i._c&&(i._d=!1),at();const o=i&&Om(i(e)),c=e.key||o&&o.key,l=un(Xt,{key:(c&&!zn(c)?c:`_${t}`)+(!o&&r?"_fb":"")},o||[],o&&n._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Om(n){return n.some(t=>To(t)?!(t.type===we||t.type===Xt&&!Om(t.children)):!0)?n:null}const iu=n=>n?r1(n)?Nc(n):iu(n.parent):null,no=de(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>iu(n.parent),$root:n=>iu(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Fm(n),$forceUpdate:n=>n.f||(n.f=()=>{lh(n.update)}),$nextTick:n=>n.n||(n.n=Im.bind(n.proxy)),$watch:n=>fA.bind(n)}),bl=(n,t)=>n!==Bt&&!n.__isScriptSetup&&xt(n,t),z2={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:r,data:s,props:i,accessCache:o,type:c,appContext:l}=n;let u;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return e[t];case 3:return i[t]}else{if(bl(r,t))return o[t]=1,r[t];if(s!==Bt&&xt(s,t))return o[t]=2,s[t];if((u=n.propsOptions[0])&&xt(u,t))return o[t]=3,i[t];if(e!==Bt&&xt(e,t))return o[t]=4,e[t];ou&&(o[t]=0)}}const f=no[t];let d,g;if(f)return t==="$attrs"&&be(n.attrs,"get",""),f(n);if((d=c.__cssModules)&&(d=d[t]))return d;if(e!==Bt&&xt(e,t))return o[t]=4,e[t];if(g=l.config.globalProperties,xt(g,t))return g[t]},set({_:n},t,e){const{data:r,setupState:s,ctx:i}=n;return bl(s,t)?(s[t]=e,!0):r!==Bt&&xt(r,t)?(r[t]=e,!0):xt(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:r,appContext:s,propsOptions:i,type:o}},c){let l,u;return!!(e[c]||n!==Bt&&c[0]!=="$"&&xt(n,c)||bl(t,c)||(l=i[0])&&xt(l,c)||xt(r,c)||xt(no,c)||xt(s.config.globalProperties,c)||(u=o.__cssModules)&&u[c])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:xt(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function md(n){return pt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let ou=!0;function Q2(n){const t=Fm(n),e=n.proxy,r=n.ctx;ou=!1,t.beforeCreate&&_d(t.beforeCreate,n,"bc");const{data:s,computed:i,methods:o,watch:c,provide:l,inject:u,created:f,beforeMount:d,mounted:g,beforeUpdate:m,updated:C,activated:x,deactivated:k,beforeDestroy:G,beforeUnmount:B,destroyed:U,unmounted:q,render:tt,renderTracked:rt,renderTriggered:I,errorCaptured:A,serverPrefetch:y,expose:R,inheritAttrs:w,components:T,directives:v,filters:vt}=t;if(u&&W2(u,r,null),o)for(const Rt in o){const Et=o[Rt];_t(Et)&&(r[Rt]=Et.bind(e))}if(s){const Rt=s.call(e,e);Gt(Rt)&&(n.data=Rc(Rt))}if(ou=!0,i)for(const Rt in i){const Et=i[Rt],ye=_t(Et)?Et.bind(e,e):_t(Et.get)?Et.get.bind(e,e):wn,Ke=!_t(Et)&&_t(Et.set)?Et.set.bind(e):wn,Ve=Oe({get:ye,set:Ke});Object.defineProperty(r,Rt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:se=>Ve.value=se})}if(c)for(const Rt in c)Lm(c[Rt],r,e,Rt);if(l){const Rt=_t(l)?l.call(e):l;Reflect.ownKeys(Rt).forEach(Et=>{wa(Et,Rt[Et])})}f&&_d(f,n,"c");function Dt(Rt,Et){pt(Et)?Et.forEach(ye=>Rt(ye.bind(e))):Et&&Rt(Et.bind(e))}if(Dt(F2,d),Dt(cs,g),Dt(B2,m),Dt(U2,C),Dt(M2,x),Dt(O2,k),Dt(K2,A),Dt(H2,rt),Dt(G2,I),Dt(Eo,B),Dt(Vc,q),Dt(j2,y),pt(R))if(R.length){const Rt=n.exposed||(n.exposed={});R.forEach(Et=>{Object.defineProperty(Rt,Et,{get:()=>e[Et],set:ye=>e[Et]=ye,enumerable:!0})})}else n.exposed||(n.exposed={});tt&&n.render===wn&&(n.render=tt),w!=null&&(n.inheritAttrs=w),T&&(n.components=T),v&&(n.directives=v),y&&km(n)}function W2(n,t,e=wn){pt(n)&&(n=au(n));for(const r in n){const s=n[r];let i;Gt(s)?"default"in s?i=Un(s.from||r,s.default,!0):i=Un(s.from||r):i=Un(s),Se(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function _d(n,t,e){fn(pt(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,e)}function Lm(n,t,e,r){let s=r.includes(".")?Jm(e,r):()=>e[r];if($t(n)){const i=t[n];_t(i)&&ro(s,i)}else if(_t(n))ro(s,n.bind(e));else if(Gt(n))if(pt(n))n.forEach(i=>Lm(i,t,e,r));else{const i=_t(n.handler)?n.handler.bind(e):t[n.handler];_t(i)&&ro(s,i,n)}}function Fm(n){const t=n.type,{mixins:e,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,c=i.get(t);let l;return c?l=c:!s.length&&!e&&!r?l=t:(l={},s.length&&s.forEach(u=>za(l,u,o,!0)),za(l,t,o)),Gt(t)&&i.set(t,l),l}function za(n,t,e,r=!1){const{mixins:s,extends:i}=t;i&&za(n,i,e,!0),s&&s.forEach(o=>za(n,o,e,!0));for(const o in t)if(!(r&&o==="expose")){const c=Y2[o]||e&&e[o];n[o]=c?c(n[o],t[o]):t[o]}return n}const Y2={data:yd,props:Ad,emits:Ad,methods:zi,computed:zi,beforeCreate:De,created:De,beforeMount:De,mounted:De,beforeUpdate:De,updated:De,beforeDestroy:De,beforeUnmount:De,destroyed:De,unmounted:De,activated:De,deactivated:De,errorCaptured:De,serverPrefetch:De,components:zi,directives:zi,watch:J2,provide:yd,inject:X2};function yd(n,t){return t?n?function(){return de(_t(n)?n.call(this,this):n,_t(t)?t.call(this,this):t)}:t:n}function X2(n,t){return zi(au(n),au(t))}function au(n){if(pt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function De(n,t){return n?[...new Set([].concat(n,t))]:t}function zi(n,t){return n?de(Object.create(null),n,t):t}function Ad(n,t){return n?pt(n)&&pt(t)?[...new Set([...n,...t])]:de(Object.create(null),md(n),md(t??{})):t}function J2(n,t){if(!n)return t;if(!t)return n;const e=de(Object.create(null),n);for(const r in t)e[r]=De(n[r],t[r]);return e}function Bm(){return{app:null,config:{isNativeTag:Wg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z2=0;function $2(n,t){return function(r,s=null){_t(r)||(r=de({},r)),s!=null&&!Gt(s)&&(s=null);const i=Bm(),o=new WeakSet,c=[];let l=!1;const u=i.app={_uid:Z2++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:kA,get config(){return i.config},set config(f){},use(f,...d){return o.has(f)||(f&&_t(f.install)?(o.add(f),f.install(u,...d)):_t(f)&&(o.add(f),f(u,...d))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,d){return d?(i.components[f]=d,u):i.components[f]},directive(f,d){return d?(i.directives[f]=d,u):i.directives[f]},mount(f,d,g){if(!l){const m=u._ceVNode||Ut(r,s);return m.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),n(m,f,g),l=!0,u._container=f,f.__vue_app__=u,Nc(m.component)}},onUnmount(f){c.push(f)},unmount(){l&&(fn(c,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(f,d){return i.provides[f]=d,u},runWithContext(f){const d=Hs;Hs=u;try{return f()}finally{Hs=d}}};return u}}let Hs=null;function wa(n,t){if(Me){let e=Me.provides;const r=Me.parent&&Me.parent.provides;r===e&&(e=Me.provides=Object.create(r)),e[n]=t}}function Un(n,t,e=!1){const r=n1();if(r||Hs){let s=Hs?Hs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return e&&_t(t)?t.call(r&&r.proxy):t}}const Um={},jm=()=>Object.create(Um),Gm=n=>Object.getPrototypeOf(n)===Um;function tA(n,t,e,r=!1){const s={},i=jm();n.propsDefaults=Object.create(null),Hm(n,t,s,i);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=r?s:ym(s):n.type.props?n.props=s:n.props=i,n.attrs=i}function eA(n,t,e,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=n,c=St(s),[l]=n.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let d=0;d<f.length;d++){let g=f[d];if(xc(n.emitsOptions,g))continue;const m=t[g];if(l)if(xt(i,g))m!==i[g]&&(i[g]=m,u=!0);else{const C=Er(g);s[C]=cu(l,c,C,m,n,!1)}else m!==i[g]&&(i[g]=m,u=!0)}}}else{Hm(n,t,s,i)&&(u=!0);let f;for(const d in c)(!t||!xt(t,d)&&((f=Sr(d))===d||!xt(t,f)))&&(l?e&&(e[d]!==void 0||e[f]!==void 0)&&(s[d]=cu(l,c,d,void 0,n,!0)):delete s[d]);if(i!==c)for(const d in i)(!t||!xt(t,d))&&(delete i[d],u=!0)}u&&On(n.attrs,"set","")}function Hm(n,t,e,r){const[s,i]=n.propsOptions;let o=!1,c;if(t)for(let l in t){if(Zi(l))continue;const u=t[l];let f;s&&xt(s,f=Er(l))?!i||!i.includes(f)?e[f]=u:(c||(c={}))[f]=u:xc(n.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=St(e),u=c||Bt;for(let f=0;f<i.length;f++){const d=i[f];e[d]=cu(s,l,d,u[d],n,!xt(u,d))}}return o}function cu(n,t,e,r,s,i){const o=n[e];if(o!=null){const c=xt(o,"default");if(c&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&_t(l)){const{propsDefaults:u}=s;if(e in u)r=u[e];else{const f=qo(s);r=u[e]=l.call(null,t),f()}}else r=l;s.ce&&s.ce._setProp(e,r)}o[0]&&(i&&!c?r=!1:o[1]&&(r===""||r===Sr(e))&&(r=!0))}return r}const nA=new WeakMap;function Km(n,t,e=!1){const r=e?nA:t.propsCache,s=r.get(n);if(s)return s;const i=n.props,o={},c=[];let l=!1;if(!_t(n)){const f=d=>{l=!0;const[g,m]=Km(d,t,!0);de(o,g),m&&c.push(...m)};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!i&&!l)return Gt(n)&&r.set(n,Fs),Fs;if(pt(i))for(let f=0;f<i.length;f++){const d=Er(i[f]);vd(d)&&(o[d]=Bt)}else if(i)for(const f in i){const d=Er(f);if(vd(d)){const g=i[f],m=o[d]=pt(g)||_t(g)?{type:g}:de({},g),C=m.type;let x=!1,k=!0;if(pt(C))for(let G=0;G<C.length;++G){const B=C[G],U=_t(B)&&B.name;if(U==="Boolean"){x=!0;break}else U==="String"&&(k=!1)}else x=_t(C)&&C.name==="Boolean";m[0]=x,m[1]=k,(x||xt(m,"default"))&&c.push(d)}}const u=[o,c];return Gt(n)&&r.set(n,u),u}function vd(n){return n[0]!=="$"&&!Zi(n)}const uh=n=>n==="_"||n==="_ctx"||n==="$stable",hh=n=>pt(n)?n.map(En):[En(n)],rA=(n,t,e)=>{if(t._n)return t;const r=as((...s)=>hh(t(...s)),e);return r._c=!1,r},qm=(n,t,e)=>{const r=n._ctx;for(const s in n){if(uh(s))continue;const i=n[s];if(_t(i))t[s]=rA(s,i,r);else if(i!=null){const o=hh(i);t[s]=()=>o}}},zm=(n,t)=>{const e=hh(t);n.slots.default=()=>e},Qm=(n,t,e)=>{for(const r in t)(e||!uh(r))&&(n[r]=t[r])},sA=(n,t,e)=>{const r=n.slots=jm();if(n.vnode.shapeFlag&32){const s=t._;s?(Qm(r,t,e),e&&tm(r,"_",s,!0)):qm(t,r)}else t&&zm(n,t)},iA=(n,t,e)=>{const{vnode:r,slots:s}=n;let i=!0,o=Bt;if(r.shapeFlag&32){const c=t._;c?e&&c===1?i=!1:Qm(s,t,e):(i=!t.$stable,qm(t,s)),o=t}else t&&(zm(n,t),o={default:1});if(i)for(const c in s)!uh(c)&&o[c]==null&&delete s[c]},We=vA;function oA(n){return aA(n)}function aA(n,t){const e=bc();e.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:c,createComment:l,setText:u,setElementText:f,parentNode:d,nextSibling:g,setScopeId:m=wn,insertStaticContent:C}=n,x=(E,b,S,H=null,K=null,j=null,$=void 0,Y=null,Q=!!b.dynamicChildren)=>{if(E===b)return;E&&!Wr(E,b)&&(H=P(E),se(E,K,j,!0),E=null),b.patchFlag===-2&&(Q=!1,b.dynamicChildren=null);const{type:W,ref:ht,shapeFlag:nt}=b;switch(W){case Dc:k(E,b,S,H);break;case we:G(E,b,S,H);break;case Ra:E==null&&B(b,S,H,$);break;case Xt:T(E,b,S,H,K,j,$,Y,Q);break;default:nt&1?tt(E,b,S,H,K,j,$,Y,Q):nt&6?v(E,b,S,H,K,j,$,Y,Q):(nt&64||nt&128)&&W.process(E,b,S,H,K,j,$,Y,Q,st)}ht!=null&&K?eo(ht,E&&E.ref,j,b||E,!b):ht==null&&E&&E.ref!=null&&eo(E.ref,null,j,E,!0)},k=(E,b,S,H)=>{if(E==null)r(b.el=c(b.children),S,H);else{const K=b.el=E.el;b.children!==E.children&&u(K,b.children)}},G=(E,b,S,H)=>{E==null?r(b.el=l(b.children||""),S,H):b.el=E.el},B=(E,b,S,H)=>{[E.el,E.anchor]=C(E.children,b,S,H,E.el,E.anchor)},U=({el:E,anchor:b},S,H)=>{let K;for(;E&&E!==b;)K=g(E),r(E,S,H),E=K;r(b,S,H)},q=({el:E,anchor:b})=>{let S;for(;E&&E!==b;)S=g(E),s(E),E=S;s(b)},tt=(E,b,S,H,K,j,$,Y,Q)=>{b.type==="svg"?$="svg":b.type==="math"&&($="mathml"),E==null?rt(b,S,H,K,j,$,Y,Q):y(E,b,K,j,$,Y,Q)},rt=(E,b,S,H,K,j,$,Y)=>{let Q,W;const{props:ht,shapeFlag:nt,transition:ut,dirs:ft}=E;if(Q=E.el=o(E.type,j,ht&&ht.is,ht),nt&8?f(Q,E.children):nt&16&&A(E.children,Q,null,H,K,wl(E,j),$,Y),ft&&Br(E,null,H,"created"),I(Q,E,E.scopeId,$,H),ht){for(const Nt in ht)Nt!=="value"&&!Zi(Nt)&&i(Q,Nt,null,ht[Nt],j,H);"value"in ht&&i(Q,"value",null,ht.value,j),(W=ht.onVnodeBeforeMount)&&_n(W,H,E)}ft&&Br(E,null,H,"beforeMount");const It=cA(K,ut);It&&ut.beforeEnter(Q),r(Q,b,S),((W=ht&&ht.onVnodeMounted)||It||ft)&&We(()=>{W&&_n(W,H,E),It&&ut.enter(Q),ft&&Br(E,null,H,"mounted")},K)},I=(E,b,S,H,K)=>{if(S&&m(E,S),H)for(let j=0;j<H.length;j++)m(E,H[j]);if(K){let j=K.subTree;if(b===j||$m(j.type)&&(j.ssContent===b||j.ssFallback===b)){const $=K.vnode;I(E,$,$.scopeId,$.slotScopeIds,K.parent)}}},A=(E,b,S,H,K,j,$,Y,Q=0)=>{for(let W=Q;W<E.length;W++){const ht=E[W]=Y?cr(E[W]):En(E[W]);x(null,ht,b,S,H,K,j,$,Y)}},y=(E,b,S,H,K,j,$)=>{const Y=b.el=E.el;let{patchFlag:Q,dynamicChildren:W,dirs:ht}=b;Q|=E.patchFlag&16;const nt=E.props||Bt,ut=b.props||Bt;let ft;if(S&&Ur(S,!1),(ft=ut.onVnodeBeforeUpdate)&&_n(ft,S,b,E),ht&&Br(b,E,S,"beforeUpdate"),S&&Ur(S,!0),(nt.innerHTML&&ut.innerHTML==null||nt.textContent&&ut.textContent==null)&&f(Y,""),W?R(E.dynamicChildren,W,Y,S,H,wl(b,K),j):$||Et(E,b,Y,null,S,H,wl(b,K),j,!1),Q>0){if(Q&16)w(Y,nt,ut,S,K);else if(Q&2&&nt.class!==ut.class&&i(Y,"class",null,ut.class,K),Q&4&&i(Y,"style",nt.style,ut.style,K),Q&8){const It=b.dynamicProps;for(let Nt=0;Nt<It.length;Nt++){const Ct=It[Nt],Ae=nt[Ct],ve=ut[Ct];(ve!==Ae||Ct==="value")&&i(Y,Ct,Ae,ve,K,S)}}Q&1&&E.children!==b.children&&f(Y,b.children)}else!$&&W==null&&w(Y,nt,ut,S,K);((ft=ut.onVnodeUpdated)||ht)&&We(()=>{ft&&_n(ft,S,b,E),ht&&Br(b,E,S,"updated")},H)},R=(E,b,S,H,K,j,$)=>{for(let Y=0;Y<b.length;Y++){const Q=E[Y],W=b[Y],ht=Q.el&&(Q.type===Xt||!Wr(Q,W)||Q.shapeFlag&198)?d(Q.el):S;x(Q,W,ht,null,H,K,j,$,!0)}},w=(E,b,S,H,K)=>{if(b!==S){if(b!==Bt)for(const j in b)!Zi(j)&&!(j in S)&&i(E,j,b[j],null,K,H);for(const j in S){if(Zi(j))continue;const $=S[j],Y=b[j];$!==Y&&j!=="value"&&i(E,j,Y,$,K,H)}"value"in S&&i(E,"value",b.value,S.value,K)}},T=(E,b,S,H,K,j,$,Y,Q)=>{const W=b.el=E?E.el:c(""),ht=b.anchor=E?E.anchor:c("");let{patchFlag:nt,dynamicChildren:ut,slotScopeIds:ft}=b;ft&&(Y=Y?Y.concat(ft):ft),E==null?(r(W,S,H),r(ht,S,H),A(b.children||[],S,ht,K,j,$,Y,Q)):nt>0&&nt&64&&ut&&E.dynamicChildren?(R(E.dynamicChildren,ut,S,K,j,$,Y),(b.key!=null||K&&b===K.subTree)&&Wm(E,b,!0)):Et(E,b,S,ht,K,j,$,Y,Q)},v=(E,b,S,H,K,j,$,Y,Q)=>{b.slotScopeIds=Y,E==null?b.shapeFlag&512?K.ctx.activate(b,S,H,$,Q):vt(b,S,H,K,j,$,Q):Lt(E,b,Q)},vt=(E,b,S,H,K,j,$)=>{const Y=E.component=SA(E,H,K);if(Sc(E)&&(Y.ctx.renderer=st),PA(Y,!1,$),Y.asyncDep){if(K&&K.registerDep(Y,Dt,$),!E.el){const Q=Y.subTree=Ut(we);G(null,Q,b,S),E.placeholder=Q.el}}else Dt(Y,E,b,S,K,j,$)},Lt=(E,b,S)=>{const H=b.component=E.component;if(yA(E,b,S))if(H.asyncDep&&!H.asyncResolved){Rt(H,b,S);return}else H.next=b,H.update();else b.el=E.el,H.vnode=b},Dt=(E,b,S,H,K,j,$)=>{const Y=()=>{if(E.isMounted){let{next:nt,bu:ut,u:ft,parent:It,vnode:Nt}=E;{const ze=Ym(E);if(ze){nt&&(nt.el=Nt.el,Rt(E,nt,$)),ze.asyncDep.then(()=>{E.isUnmounted||Y()});return}}let Ct=nt,Ae;Ur(E,!1),nt?(nt.el=Nt.el,Rt(E,nt,$)):nt=Nt,ut&&Ta(ut),(Ae=nt.props&&nt.props.onVnodeBeforeUpdate)&&_n(Ae,It,nt,Nt),Ur(E,!0);const ve=Id(E),qe=E.subTree;E.subTree=ve,x(qe,ve,d(qe.el),P(qe),E,K,j),nt.el=ve.el,Ct===null&&AA(E,ve.el),ft&&We(ft,K),(Ae=nt.props&&nt.props.onVnodeUpdated)&&We(()=>_n(Ae,It,nt,Nt),K)}else{let nt;const{el:ut,props:ft}=b,{bm:It,m:Nt,parent:Ct,root:Ae,type:ve}=E,qe=Gs(b);Ur(E,!1),It&&Ta(It),!qe&&(nt=ft&&ft.onVnodeBeforeMount)&&_n(nt,Ct,b),Ur(E,!0);{Ae.ce&&Ae.ce._def.shadowRoot!==!1&&Ae.ce._injectChildStyle(ve);const ze=E.subTree=Id(E);x(null,ze,S,H,E,K,j),b.el=ze.el}if(Nt&&We(Nt,K),!qe&&(nt=ft&&ft.onVnodeMounted)){const ze=b;We(()=>_n(nt,Ct,ze),K)}(b.shapeFlag&256||Ct&&Gs(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&E.a&&We(E.a,K),E.isMounted=!0,b=S=H=null}};E.scope.on();const Q=E.effect=new sm(Y);E.scope.off();const W=E.update=Q.run.bind(Q),ht=E.job=Q.runIfDirty.bind(Q);ht.i=E,ht.id=E.uid,Q.scheduler=()=>lh(ht),Ur(E,!0),W()},Rt=(E,b,S)=>{b.component=E;const H=E.vnode.props;E.vnode=b,E.next=null,eA(E,b.props,H,S),iA(E,b.children,S),jn(),fd(E),Gn()},Et=(E,b,S,H,K,j,$,Y,Q=!1)=>{const W=E&&E.children,ht=E?E.shapeFlag:0,nt=b.children,{patchFlag:ut,shapeFlag:ft}=b;if(ut>0){if(ut&128){Ke(W,nt,S,H,K,j,$,Y,Q);return}else if(ut&256){ye(W,nt,S,H,K,j,$,Y,Q);return}}ft&8?(ht&16&&ce(W,K,j),nt!==W&&f(S,nt)):ht&16?ft&16?Ke(W,nt,S,H,K,j,$,Y,Q):ce(W,K,j,!0):(ht&8&&f(S,""),ft&16&&A(nt,S,H,K,j,$,Y,Q))},ye=(E,b,S,H,K,j,$,Y,Q)=>{E=E||Fs,b=b||Fs;const W=E.length,ht=b.length,nt=Math.min(W,ht);let ut;for(ut=0;ut<nt;ut++){const ft=b[ut]=Q?cr(b[ut]):En(b[ut]);x(E[ut],ft,S,null,K,j,$,Y,Q)}W>ht?ce(E,K,j,!0,!1,nt):A(b,S,H,K,j,$,Y,Q,nt)},Ke=(E,b,S,H,K,j,$,Y,Q)=>{let W=0;const ht=b.length;let nt=E.length-1,ut=ht-1;for(;W<=nt&&W<=ut;){const ft=E[W],It=b[W]=Q?cr(b[W]):En(b[W]);if(Wr(ft,It))x(ft,It,S,null,K,j,$,Y,Q);else break;W++}for(;W<=nt&&W<=ut;){const ft=E[nt],It=b[ut]=Q?cr(b[ut]):En(b[ut]);if(Wr(ft,It))x(ft,It,S,null,K,j,$,Y,Q);else break;nt--,ut--}if(W>nt){if(W<=ut){const ft=ut+1,It=ft<ht?b[ft].el:H;for(;W<=ut;)x(null,b[W]=Q?cr(b[W]):En(b[W]),S,It,K,j,$,Y,Q),W++}}else if(W>ut)for(;W<=nt;)se(E[W],K,j,!0),W++;else{const ft=W,It=W,Nt=new Map;for(W=It;W<=ut;W++){const pe=b[W]=Q?cr(b[W]):En(b[W]);pe.key!=null&&Nt.set(pe.key,W)}let Ct,Ae=0;const ve=ut-It+1;let qe=!1,ze=0;const on=new Array(ve);for(W=0;W<ve;W++)on[W]=0;for(W=ft;W<=nt;W++){const pe=E[W];if(Ae>=ve){se(pe,K,j,!0);continue}let le;if(pe.key!=null)le=Nt.get(pe.key);else for(Ct=It;Ct<=ut;Ct++)if(on[Ct-It]===0&&Wr(pe,b[Ct])){le=Ct;break}le===void 0?se(pe,K,j,!0):(on[le-It]=W+1,le>=ze?ze=le:qe=!0,x(pe,b[le],S,null,K,j,$,Y,Q),Ae++)}const As=qe?lA(on):Fs;for(Ct=As.length-1,W=ve-1;W>=0;W--){const pe=It+W,le=b[pe],Ei=b[pe+1],kr=pe+1<ht?Ei.el||Ei.placeholder:H;on[W]===0?x(null,le,S,kr,K,j,$,Y,Q):qe&&(Ct<0||W!==As[Ct]?Ve(le,S,kr,2):Ct--)}}},Ve=(E,b,S,H,K=null)=>{const{el:j,type:$,transition:Y,children:Q,shapeFlag:W}=E;if(W&6){Ve(E.component.subTree,b,S,H);return}if(W&128){E.suspense.move(b,S,H);return}if(W&64){$.move(E,b,S,st);return}if($===Xt){r(j,b,S);for(let nt=0;nt<Q.length;nt++)Ve(Q[nt],b,S,H);r(E.anchor,b,S);return}if($===Ra){U(E,b,S);return}if(H!==2&&W&1&&Y)if(H===0)Y.beforeEnter(j),r(j,b,S),We(()=>Y.enter(j),K);else{const{leave:nt,delayLeave:ut,afterLeave:ft}=Y,It=()=>{E.ctx.isUnmounted?s(j):r(j,b,S)},Nt=()=>{j._isLeaving&&j[Mn](!0),nt(j,()=>{It(),ft&&ft()})};ut?ut(j,It,Nt):Nt()}else r(j,b,S)},se=(E,b,S,H=!1,K=!1)=>{const{type:j,props:$,ref:Y,children:Q,dynamicChildren:W,shapeFlag:ht,patchFlag:nt,dirs:ut,cacheIndex:ft}=E;if(nt===-2&&(K=!1),Y!=null&&(jn(),eo(Y,null,S,E,!0),Gn()),ft!=null&&(b.renderCache[ft]=void 0),ht&256){b.ctx.deactivate(E);return}const It=ht&1&&ut,Nt=!Gs(E);let Ct;if(Nt&&(Ct=$&&$.onVnodeBeforeUnmount)&&_n(Ct,b,E),ht&6)Ue(E.component,S,H);else{if(ht&128){E.suspense.unmount(S,H);return}It&&Br(E,null,b,"beforeUnmount"),ht&64?E.type.remove(E,b,S,st,H):W&&!W.hasOnce&&(j!==Xt||nt>0&&nt&64)?ce(W,b,S,!1,!0):(j===Xt&&nt&384||!K&&ht&16)&&ce(Q,b,S),H&&sn(E)}(Nt&&(Ct=$&&$.onVnodeUnmounted)||It)&&We(()=>{Ct&&_n(Ct,b,E),It&&Br(E,null,b,"unmounted")},S)},sn=E=>{const{type:b,el:S,anchor:H,transition:K}=E;if(b===Xt){Be(S,H);return}if(b===Ra){q(E);return}const j=()=>{s(S),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(E.shapeFlag&1&&K&&!K.persisted){const{leave:$,delayLeave:Y}=K,Q=()=>$(S,j);Y?Y(E.el,j,Q):Q()}else j()},Be=(E,b)=>{let S;for(;E!==b;)S=g(E),s(E),E=S;s(b)},Ue=(E,b,S)=>{const{bum:H,scope:K,job:j,subTree:$,um:Y,m:Q,a:W}=E;Ed(Q),Ed(W),H&&Ta(H),K.stop(),j&&(j.flags|=8,se($,E,b,S)),Y&&We(Y,b),We(()=>{E.isUnmounted=!0},b)},ce=(E,b,S,H=!1,K=!1,j=0)=>{for(let $=j;$<E.length;$++)se(E[$],b,S,H,K)},P=E=>{if(E.shapeFlag&6)return P(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const b=g(E.anchor||E.el),S=b&&b[x2];return S?g(S):b};let L=!1;const M=(E,b,S)=>{E==null?b._vnode&&se(b._vnode,null,null,!0):x(b._vnode||null,E,b,null,null,null,S),b._vnode=E,L||(L=!0,fd(),bm(),L=!1)},st={p:x,um:se,m:Ve,r:sn,mt:vt,mc:A,pc:Et,pbc:R,n:P,o:n};return{render:M,hydrate:void 0,createApp:$2(M)}}function wl({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function Ur({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function cA(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function Wm(n,t,e=!1){const r=n.children,s=t.children;if(pt(r)&&pt(s))for(let i=0;i<r.length;i++){const o=r[i];let c=s[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[i]=cr(s[i]),c.el=o.el),!e&&c.patchFlag!==-2&&Wm(o,c)),c.type===Dc&&c.patchFlag!==-1&&(c.el=o.el),c.type===we&&!c.el&&(c.el=o.el)}}function lA(n){const t=n.slice(),e=[0];let r,s,i,o,c;const l=n.length;for(r=0;r<l;r++){const u=n[r];if(u!==0){if(s=e[e.length-1],n[s]<u){t[r]=s,e.push(r);continue}for(i=0,o=e.length-1;i<o;)c=i+o>>1,n[e[c]]<u?i=c+1:o=c;u<n[e[i]]&&(i>0&&(t[r]=e[i-1]),e[i]=r)}}for(i=e.length,o=e[i-1];i-- >0;)e[i]=o,o=t[o];return e}function Ym(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ym(t)}function Ed(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const uA=Symbol.for("v-scx"),hA=()=>Un(uA);function ro(n,t,e){return Xm(n,t,e)}function Xm(n,t,e=Bt){const{immediate:r,deep:s,flush:i,once:o}=e,c=de({},e),l=t&&r||!t&&i!=="post";let u;if(bo){if(i==="sync"){const m=hA();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=wn,m.resume=wn,m.pause=wn,m}}const f=Me;c.call=(m,C,x)=>fn(m,f,C,x);let d=!1;i==="post"?c.scheduler=m=>{We(m,f&&f.suspense)}:i!=="sync"&&(d=!0,c.scheduler=(m,C)=>{C?m():lh(m)}),c.augmentJob=m=>{t&&(m.flags|=4),d&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const g=C2(n,t,c);return bo&&(u?u.push(g):l&&g()),g}function fA(n,t,e){const r=this.proxy,s=$t(n)?n.includes(".")?Jm(r,n):()=>r[n]:n.bind(r,r);let i;_t(t)?i=t:(i=t.handler,e=t);const o=qo(this),c=Xm(s,i.bind(r),e);return o(),c}function Jm(n,t){const e=t.split(".");return()=>{let r=n;for(let s=0;s<e.length&&r;s++)r=r[e[s]];return r}}const dA=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${Er(t)}Modifiers`]||n[`${Sr(t)}Modifiers`];function pA(n,t,...e){if(n.isUnmounted)return;const r=n.vnode.props||Bt;let s=e;const i=t.startsWith("update:"),o=i&&dA(r,t.slice(7));o&&(o.trim&&(s=e.map(f=>$t(f)?f.trim():f)),o.number&&(s=e.map(Zl)));let c,l=r[c=yl(t)]||r[c=yl(Er(t))];!l&&i&&(l=r[c=yl(Sr(t))]),l&&fn(l,n,6,s);const u=r[c+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[c])return;n.emitted[c]=!0,fn(u,n,6,s)}}const gA=new WeakMap;function Zm(n,t,e=!1){const r=e?gA:t.emitsCache,s=r.get(n);if(s!==void 0)return s;const i=n.emits;let o={},c=!1;if(!_t(n)){const l=u=>{const f=Zm(u,t,!0);f&&(c=!0,de(o,f))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!c?(Gt(n)&&r.set(n,null),null):(pt(i)?i.forEach(l=>o[l]=null):de(o,i),Gt(n)&&r.set(n,o),o)}function xc(n,t){return!n||!Ec(t)?!1:(t=t.slice(2).replace(/Once$/,""),xt(n,t[0].toLowerCase()+t.slice(1))||xt(n,Sr(t))||xt(n,t))}function Id(n){const{type:t,vnode:e,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:c,emit:l,render:u,renderCache:f,props:d,data:g,setupState:m,ctx:C,inheritAttrs:x}=n,k=Ka(n);let G,B;try{if(e.shapeFlag&4){const q=s||r,tt=q;G=En(u.call(tt,q,f,d,m,g,C)),B=c}else{const q=t;G=En(q.length>1?q(d,{attrs:c,slots:o,emit:l}):q(d,null)),B=t.props?c:mA(c)}}catch(q){so.length=0,Cc(q,n,1),G=Ut(we)}let U=G;if(B&&x!==!1){const q=Object.keys(B),{shapeFlag:tt}=U;q.length&&tt&7&&(i&&q.some(Zu)&&(B=_A(B,i)),U=Tr(U,B,!1,!0))}return e.dirs&&(U=Tr(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(e.dirs):e.dirs),e.transition&&vo(U,e.transition),G=U,Ka(k),G}const mA=n=>{let t;for(const e in n)(e==="class"||e==="style"||Ec(e))&&((t||(t={}))[e]=n[e]);return t},_A=(n,t)=>{const e={};for(const r in n)(!Zu(r)||!(r.slice(9)in t))&&(e[r]=n[r]);return e};function yA(n,t,e){const{props:r,children:s,component:i}=n,{props:o,children:c,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return r?Td(r,o,u):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const g=f[d];if(o[g]!==r[g]&&!xc(u,g))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===o?!1:r?o?Td(r,o,u):!0:!!o;return!1}function Td(n,t,e){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==n[i]&&!xc(e,i))return!0}return!1}function AA({vnode:n,parent:t},e){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=t.vnode).el=e,t=t.parent;else break}}const $m=n=>n.__isSuspense;function vA(n,t){t&&t.pendingBranch?pt(n)?t.effects.push(...n):t.effects.push(n):V2(n)}const Xt=Symbol.for("v-fgt"),Dc=Symbol.for("v-txt"),we=Symbol.for("v-cmt"),Ra=Symbol.for("v-stc"),so=[];let Xe=null;function at(n=!1){so.push(Xe=n?null:[])}function EA(){so.pop(),Xe=so[so.length-1]||null}let Io=1;function Qa(n,t=!1){Io+=n,n<0&&Xe&&t&&(Xe.hasOnce=!0)}function t1(n){return n.dynamicChildren=Io>0?Xe||Fs:null,EA(),Io>0&&Xe&&Xe.push(n),n}function dt(n,t,e,r,s,i){return t1(N(n,t,e,r,s,i,!0))}function un(n,t,e,r,s){return t1(Ut(n,t,e,r,s,!0))}function To(n){return n?n.__v_isVNode===!0:!1}function Wr(n,t){return n.type===t.type&&n.key===t.key}const e1=({key:n})=>n??null,Ca=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?$t(n)||Se(n)||_t(n)?{i:Ce,r:n,k:t,f:!!e}:n:null);function N(n,t=null,e=null,r=0,s=null,i=n===Xt?0:1,o=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&e1(t),ref:t&&Ca(t),scopeId:Rm,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ce};return c?(fh(l,e),i&128&&n.normalize(l)):e&&(l.shapeFlag|=$t(e)?8:16),Io>0&&!o&&Xe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Xe.push(l),l}const Ut=IA;function IA(n,t=null,e=null,r=0,s=null,i=!1){if((!n||n===q2)&&(n=we),To(n)){const c=Tr(n,t,!0);return e&&fh(c,e),Io>0&&!i&&Xe&&(c.shapeFlag&6?Xe[Xe.indexOf(n)]=c:Xe.push(c)),c.patchFlag=-2,c}if(NA(n)&&(n=n.__vccOpts),t){t=TA(t);let{class:c,style:l}=t;c&&!$t(c)&&(t.class=$e(c)),Gt(l)&&(ch(l)&&!pt(l)&&(l=de({},l)),t.style=eh(l))}const o=$t(n)?1:$m(n)?128:Cm(n)?64:Gt(n)?4:_t(n)?2:0;return N(n,t,e,r,s,o,i,!0)}function TA(n){return n?ch(n)||Gm(n)?de({},n):n:null}function Tr(n,t,e=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:c,transition:l}=n,u=t?wA(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&e1(u),ref:t&&t.ref?e&&i?pt(i)?i.concat(Ca(t)):[i,Ca(t)]:Ca(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:c,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Xt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Tr(n.ssContent),ssFallback:n.ssFallback&&Tr(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&vo(f,l.clone(f)),f}function bA(n=" ",t=0){return Ut(Dc,null,n,t)}function hn(n,t){const e=Ut(Ra,null,n);return e.staticCount=t,e}function fe(n="",t=!1){return t?(at(),un(we,null,n)):Ut(we,null,n)}function En(n){return n==null||typeof n=="boolean"?Ut(we):pt(n)?Ut(Xt,null,n.slice()):To(n)?cr(n):Ut(Dc,null,String(n))}function cr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Tr(n)}function fh(n,t){let e=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(pt(t))e=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),fh(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!Gm(t)?t._ctx=Ce:s===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:Ce},e=32):(t=String(t),r&64?(e=16,t=[bA(t)]):e=8);n.children=t,n.shapeFlag|=e}function wA(...n){const t={};for(let e=0;e<n.length;e++){const r=n[e];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=$e([t.class,r.class]));else if(s==="style")t.style=eh([t.style,r.style]);else if(Ec(s)){const i=t[s],o=r[s];o&&i!==o&&!(pt(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function _n(n,t,e,r=null){fn(n,t,7,[e,r])}const RA=Bm();let CA=0;function SA(n,t,e){const r=n.type,s=(t?t.appContext:n.appContext)||RA,i={uid:CA++,vnode:n,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new t2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Km(r,s),emitsOptions:Zm(r,s),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:r.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=pA.bind(null,i),n.ce&&n.ce(i),i}let Me=null;const n1=()=>Me||Ce;let Wa,lu;{const n=bc(),t=(e,r)=>{let s;return(s=n[e])||(s=n[e]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Wa=t("__VUE_INSTANCE_SETTERS__",e=>Me=e),lu=t("__VUE_SSR_SETTERS__",e=>bo=e)}const qo=n=>{const t=Me;return Wa(n),n.scope.on(),()=>{n.scope.off(),Wa(t)}},bd=()=>{Me&&Me.scope.off(),Wa(null)};function r1(n){return n.vnode.shapeFlag&4}let bo=!1;function PA(n,t=!1,e=!1){t&&lu(t);const{props:r,children:s}=n.vnode,i=r1(n);tA(n,r,i,t),sA(n,s,e||t);const o=i?VA(n,t):void 0;return t&&lu(!1),o}function VA(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,z2);const{setup:r}=e;if(r){jn();const s=n.setupContext=r.length>1?DA(n):null,i=qo(n),o=Ko(r,n,0,[n.props,s]),c=Xg(o);if(Gn(),i(),(c||n.sp)&&!Gs(n)&&km(n),c){if(o.then(bd,bd),t)return o.then(l=>{wd(n,l)}).catch(l=>{Cc(l,n,0)});n.asyncDep=o}else wd(n,o)}else s1(n)}function wd(n,t,e){_t(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Gt(t)&&(n.setupState=vm(t)),s1(n)}function s1(n,t,e){const r=n.type;n.render||(n.render=r.render||wn);{const s=qo(n);jn();try{Q2(n)}finally{Gn(),s()}}}const xA={get(n,t){return be(n,"get",""),n[t]}};function DA(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,xA),slots:n.slots,emit:n.emit,expose:t}}function Nc(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(vm(v2(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in no)return no[e](n)},has(t,e){return e in t||e in no}})):n.proxy}function NA(n){return _t(n)&&"__vccOpts"in n}const Oe=(n,t)=>w2(n,t,bo);function dh(n,t,e){try{Qa(-1);const r=arguments.length;return r===2?Gt(t)&&!pt(t)?To(t)?Ut(n,null,[t]):Ut(n,t):Ut(n,null,t):(r>3?e=Array.prototype.slice.call(arguments,2):r===3&&To(e)&&(e=[e]),Ut(n,t,e))}finally{Qa(1)}}const kA="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let uu;const Rd=typeof window<"u"&&window.trustedTypes;if(Rd)try{uu=Rd.createPolicy("vue",{createHTML:n=>n})}catch{}const i1=uu?n=>uu.createHTML(n):n=>n,MA="http://www.w3.org/2000/svg",OA="http://www.w3.org/1998/Math/MathML",kn=typeof document<"u"?document:null,Cd=kn&&kn.createElement("template"),LA={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,r)=>{const s=t==="svg"?kn.createElementNS(MA,n):t==="mathml"?kn.createElementNS(OA,n):e?kn.createElement(n,{is:e}):kn.createElement(n);return n==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:n=>kn.createTextNode(n),createComment:n=>kn.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>kn.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,r,s,i){const o=e?e.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===i||!(s=s.nextSibling)););else{Cd.innerHTML=i1(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const c=Cd.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},nr="transition",Li="animation",wo=Symbol("_vtc"),o1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},FA=de({},Sm,o1),BA=n=>(n.displayName="Transition",n.props=FA,n),Ro=BA((n,{slots:t})=>dh(k2,UA(n),t)),jr=(n,t=[])=>{pt(n)?n.forEach(e=>e(...t)):n&&n(...t)},Sd=n=>n?pt(n)?n.some(t=>t.length>1):n.length>1:!1;function UA(n){const t={};for(const T in n)T in o1||(t[T]=n[T]);if(n.css===!1)return t;const{name:e="v",type:r,duration:s,enterFromClass:i=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:c=`${e}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:f=c,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:g=`${e}-leave-active`,leaveToClass:m=`${e}-leave-to`}=n,C=jA(s),x=C&&C[0],k=C&&C[1],{onBeforeEnter:G,onEnter:B,onEnterCancelled:U,onLeave:q,onLeaveCancelled:tt,onBeforeAppear:rt=G,onAppear:I=B,onAppearCancelled:A=U}=t,y=(T,v,vt,Lt)=>{T._enterCancelled=Lt,Gr(T,v?f:c),Gr(T,v?u:o),vt&&vt()},R=(T,v)=>{T._isLeaving=!1,Gr(T,d),Gr(T,m),Gr(T,g),v&&v()},w=T=>(v,vt)=>{const Lt=T?I:B,Dt=()=>y(v,T,vt);jr(Lt,[v,Dt]),Pd(()=>{Gr(v,T?l:i),Dn(v,T?f:c),Sd(Lt)||Vd(v,r,x,Dt)})};return de(t,{onBeforeEnter(T){jr(G,[T]),Dn(T,i),Dn(T,o)},onBeforeAppear(T){jr(rt,[T]),Dn(T,l),Dn(T,u)},onEnter:w(!1),onAppear:w(!0),onLeave(T,v){T._isLeaving=!0;const vt=()=>R(T,v);Dn(T,d),T._enterCancelled?(Dn(T,g),Nd(T)):(Nd(T),Dn(T,g)),Pd(()=>{T._isLeaving&&(Gr(T,d),Dn(T,m),Sd(q)||Vd(T,r,k,vt))}),jr(q,[T,vt])},onEnterCancelled(T){y(T,!1,void 0,!0),jr(U,[T])},onAppearCancelled(T){y(T,!0,void 0,!0),jr(A,[T])},onLeaveCancelled(T){R(T),jr(tt,[T])}})}function jA(n){if(n==null)return null;if(Gt(n))return[Rl(n.enter),Rl(n.leave)];{const t=Rl(n);return[t,t]}}function Rl(n){return Qy(n)}function Dn(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n[wo]||(n[wo]=new Set)).add(t)}function Gr(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const e=n[wo];e&&(e.delete(t),e.size||(n[wo]=void 0))}function Pd(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let GA=0;function Vd(n,t,e,r){const s=n._endId=++GA,i=()=>{s===n._endId&&r()};if(e!=null)return setTimeout(i,e);const{type:o,timeout:c,propCount:l}=HA(n,t);if(!o)return r();const u=o+"end";let f=0;const d=()=>{n.removeEventListener(u,g),i()},g=m=>{m.target===n&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},c+1),n.addEventListener(u,g)}function HA(n,t){const e=window.getComputedStyle(n),r=C=>(e[C]||"").split(", "),s=r(`${nr}Delay`),i=r(`${nr}Duration`),o=xd(s,i),c=r(`${Li}Delay`),l=r(`${Li}Duration`),u=xd(c,l);let f=null,d=0,g=0;t===nr?o>0&&(f=nr,d=o,g=i.length):t===Li?u>0&&(f=Li,d=u,g=l.length):(d=Math.max(o,u),f=d>0?o>u?nr:Li:null,g=f?f===nr?i.length:l.length:0);const m=f===nr&&/\b(?:transform|all)(?:,|$)/.test(r(`${nr}Property`).toString());return{type:f,timeout:d,propCount:g,hasTransform:m}}function xd(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,r)=>Dd(e)+Dd(n[r])))}function Dd(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Nd(n){return(n?n.ownerDocument:document).body.offsetHeight}function KA(n,t,e){const r=n[wo];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const Ya=Symbol("_vod"),a1=Symbol("_vsh"),c1={name:"show",beforeMount(n,{value:t},{transition:e}){n[Ya]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Fi(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:r}){!t!=!e&&(r?t?(r.beforeEnter(n),Fi(n,!0),r.enter(n)):r.leave(n,()=>{Fi(n,!1)}):Fi(n,t))},beforeUnmount(n,{value:t}){Fi(n,t)}};function Fi(n,t){n.style.display=t?n[Ya]:"none",n[a1]=!t}const qA=Symbol(""),zA=/(?:^|;)\s*display\s*:/;function QA(n,t,e){const r=n.style,s=$t(e);let i=!1;if(e&&!s){if(t)if($t(t))for(const o of t.split(";")){const c=o.slice(0,o.indexOf(":")).trim();e[c]==null&&Sa(r,c,"")}else for(const o in t)e[o]==null&&Sa(r,o,"");for(const o in e)o==="display"&&(i=!0),Sa(r,o,e[o])}else if(s){if(t!==e){const o=r[qA];o&&(e+=";"+o),r.cssText=e,i=zA.test(e)}}else t&&n.removeAttribute("style");Ya in n&&(n[Ya]=i?r.display:"",n[a1]&&(r.display="none"))}const kd=/\s*!important$/;function Sa(n,t,e){if(pt(e))e.forEach(r=>Sa(n,t,r));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const r=WA(n,t);kd.test(e)?n.setProperty(Sr(r),e.replace(kd,""),"important"):n[r]=e}}const Md=["Webkit","Moz","ms"],Cl={};function WA(n,t){const e=Cl[t];if(e)return e;let r=Er(t);if(r!=="filter"&&r in n)return Cl[t]=r;r=$g(r);for(let s=0;s<Md.length;s++){const i=Md[s]+r;if(i in n)return Cl[t]=i}return t}const Od="http://www.w3.org/1999/xlink";function Ld(n,t,e,r,s,i=$y(t)){r&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(Od,t.slice(6,t.length)):n.setAttributeNS(Od,t,e):e==null||i&&!em(e)?n.removeAttribute(t):n.setAttribute(t,i?"":zn(e)?String(e):e)}function Fd(n,t,e,r,s){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?i1(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(c!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const c=typeof n[t];c==="boolean"?e=em(e):e==null&&c==="string"?(e="",o=!0):c==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(s||t)}function Ds(n,t,e,r){n.addEventListener(t,e,r)}function YA(n,t,e,r){n.removeEventListener(t,e,r)}const Bd=Symbol("_vei");function XA(n,t,e,r,s=null){const i=n[Bd]||(n[Bd]={}),o=i[t];if(r&&o)o.value=r;else{const[c,l]=JA(t);if(r){const u=i[t]=tv(r,s);Ds(n,c,u,l)}else o&&(YA(n,c,o,l),i[t]=void 0)}}const Ud=/(?:Once|Passive|Capture)$/;function JA(n){let t;if(Ud.test(n)){t={};let r;for(;r=n.match(Ud);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Sr(n.slice(2)),t]}let Sl=0;const ZA=Promise.resolve(),$A=()=>Sl||(ZA.then(()=>Sl=0),Sl=Date.now());function tv(n,t){const e=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=e.attached)return;fn(ev(r,e.value),t,5,[r])};return e.value=n,e.attached=$A(),e}function ev(n,t){if(pt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const jd=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,nv=(n,t,e,r,s,i)=>{const o=s==="svg";t==="class"?KA(n,r,o):t==="style"?QA(n,e,r):Ec(t)?Zu(t)||XA(n,t,e,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):rv(n,t,r,o))?(Fd(n,t,r),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ld(n,t,r,o,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!$t(r))?Fd(n,Er(t),r,i,t):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),Ld(n,t,r,o))};function rv(n,t,e,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&jd(t)&&_t(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return jd(t)&&$t(e)?!1:t in n}const Gd=n=>{const t=n.props["onUpdate:modelValue"]||!1;return pt(t)?e=>Ta(t,e):t};function sv(n){n.target.composing=!0}function Hd(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pl=Symbol("_assign"),lr={created(n,{modifiers:{lazy:t,trim:e,number:r}},s){n[Pl]=Gd(s);const i=r||s.props&&s.props.type==="number";Ds(n,t?"change":"input",o=>{if(o.target.composing)return;let c=n.value;e&&(c=c.trim()),i&&(c=Zl(c)),n[Pl](c)}),e&&Ds(n,"change",()=>{n.value=n.value.trim()}),t||(Ds(n,"compositionstart",sv),Ds(n,"compositionend",Hd),Ds(n,"change",Hd))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:r,trim:s,number:i}},o){if(n[Pl]=Gd(o),n.composing)return;const c=(i||n.type==="number")&&!/^0\d/.test(n.value)?Zl(n.value):n.value,l=t??"";c!==l&&(document.activeElement===n&&n.type!=="range"&&(r&&t===e||s&&n.value.trim()===l)||(n.value=l))}},iv=["ctrl","shift","alt","meta"],ov={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>iv.some(e=>n[`${e}Key`]&&!t.includes(e))},ph=(n,t)=>{const e=n._withMods||(n._withMods={}),r=t.join(".");return e[r]||(e[r]=((s,...i)=>{for(let o=0;o<t.length;o++){const c=ov[t[o]];if(c&&c(s,t))return}return n(s,...i)}))},av={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},cv=(n,t)=>{const e=n._withKeys||(n._withKeys={}),r=t.join(".");return e[r]||(e[r]=(s=>{if(!("key"in s))return;const i=Sr(s.key);if(t.some(o=>o===i||av[o]===i))return n(s)}))},lv=de({patchProp:nv},LA);let Kd;function uv(){return Kd||(Kd=oA(lv))}const hv=((...n)=>{const t=uv().createApp(...n),{mount:e}=t;return t.mount=r=>{const s=dv(r);if(!s)return;const i=t._component;!_t(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=e(s,!1,fv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t});function fv(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function dv(n){return $t(n)?document.querySelector(n):n}const ms=(n,t)=>{const e=n.__vccOpts||n;for(const[r,s]of t)e[r]=s;return e},pv={},gv={style:{padding:"40px","font-size":"20px",color:"#000"}};function mv(n,t){return at(),dt("div",gv," here is app ")}const _v=ms(pv,[["render",mv]]);/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Bi=typeof document<"u";function l1(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function yv(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&l1(n.default)}const qt=Object.assign;function Vl(n,t){const e={};for(const r in t){const s=t[r];e[r]=dn(s)?s.map(n):n(s)}return e}const io=()=>{},dn=Array.isArray;function qd(n,t){const e={};for(const r in n)e[r]=r in t?t[r]:n[r];return e}const u1=/#/g,Av=/&/g,vv=/\//g,Ev=/=/g,Iv=/\?/g,h1=/\+/g,Tv=/%5B/g,bv=/%5D/g,f1=/%5E/g,wv=/%60/g,d1=/%7B/g,Rv=/%7C/g,p1=/%7D/g,Cv=/%20/g;function gh(n){return n==null?"":encodeURI(""+n).replace(Rv,"|").replace(Tv,"[").replace(bv,"]")}function Sv(n){return gh(n).replace(d1,"{").replace(p1,"}").replace(f1,"^")}function hu(n){return gh(n).replace(h1,"%2B").replace(Cv,"+").replace(u1,"%23").replace(Av,"%26").replace(wv,"`").replace(d1,"{").replace(p1,"}").replace(f1,"^")}function Pv(n){return hu(n).replace(Ev,"%3D")}function Vv(n){return gh(n).replace(u1,"%23").replace(Iv,"%3F")}function xv(n){return Vv(n).replace(vv,"%2F")}function Co(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}function xl(n,t,e="/"){let r,s={},i="",o="";const c=t.indexOf("#");let l=t.indexOf("?");return l=c>=0&&l>c?-1:l,l>=0&&(r=t.slice(0,l),i=t.slice(l,c>0?c:t.length),s=n(i.slice(1))),c>=0&&(r=r||t.slice(0,c),o=t.slice(c,t.length)),r=Mv(r??t,e),{fullPath:r+i+o,path:r,query:s,hash:Co(o)}}function Dv(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function Nv(n,t,e){const r=t.matched.length-1,s=e.matched.length-1;return r>-1&&r===s&&Qs(t.matched[r],e.matched[s])&&g1(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function Qs(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function g1(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!kv(n[e],t[e]))return!1;return!0}function kv(n,t){return dn(n)?zd(n,t):dn(t)?zd(t,n):n===t}function zd(n,t){return dn(t)?n.length===t.length&&n.every((e,r)=>e===t[r]):n.length===1&&n[0]===t}function Mv(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),r=n.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=e.length-1,o,c;for(o=0;o<r.length;o++)if(c=r[o],c!==".")if(c==="..")i>1&&i--;else break;return e.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const rr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Qd=(function(n){return n.pop="pop",n.push="push",n})({});function Ov(n,t){const e=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-e.left-(t.left||0),top:r.top-e.top-(t.top||0)}}const Lv=()=>({left:window.scrollX,top:window.scrollY});function Fv(n){let t;if("el"in n){const e=n.el,r=typeof e=="string"&&e.startsWith("#"),s=typeof e=="string"?r?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!s)return;t=Ov(s,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Wd(n,t){return(history.state?history.state.position-t:-1)+n}const fu=new Map;function Bv(n,t){fu.set(n,t)}function Uv(n){const t=fu.get(n);return fu.delete(n),t}function jv(n){return typeof n=="string"||n&&typeof n=="object"}function m1(n){return typeof n=="string"||typeof n=="symbol"}let Yt=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const _1=Symbol("");Yt.MATCHER_NOT_FOUND+"",Yt.NAVIGATION_GUARD_REDIRECT+"",Yt.NAVIGATION_ABORTED+"",Yt.NAVIGATION_CANCELLED+"",Yt.NAVIGATION_DUPLICATED+"";function Ws(n,t){return qt(new Error,{type:n,[_1]:!0},t)}function Nn(n,t){return n instanceof Error&&_1 in n&&(t==null||!!(n.type&t))}const Gv=["params","query","hash"];function Hv(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const e of Gv)e in n&&(t[e]=n[e]);return JSON.stringify(t,null,2)}function Kv(n){const t={};if(n===""||n==="?")return t;const e=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<e.length;++r){const s=e[r].replace(h1," "),i=s.indexOf("="),o=Co(i<0?s:s.slice(0,i)),c=i<0?null:Co(s.slice(i+1));if(o in t){let l=t[o];dn(l)||(l=t[o]=[l]),l.push(c)}else t[o]=c}return t}function Yd(n){let t="";for(let e in n){const r=n[e];if(e=Pv(e),r==null){r!==void 0&&(t+=(t.length?"&":"")+e);continue}(dn(r)?r.map(s=>s&&hu(s)):[r&&hu(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+e,s!=null&&(t+="="+s))})}return t}function qv(n){const t={};for(const e in n){const r=n[e];r!==void 0&&(t[e]=dn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const zv=Symbol(""),Xd=Symbol(""),mh=Symbol(""),y1=Symbol(""),du=Symbol("");function Ui(){let n=[];function t(r){return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function ur(n,t,e,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,l)=>{const u=g=>{g===!1?l(Ws(Yt.NAVIGATION_ABORTED,{from:e,to:t})):g instanceof Error?l(g):jv(g)?l(Ws(Yt.NAVIGATION_GUARD_REDIRECT,{from:t,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),c())},f=i(()=>n.call(r&&r.instances[s],t,e,u));let d=Promise.resolve(f);n.length<3&&(d=d.then(u)),d.catch(g=>l(g))})}function Dl(n,t,e,r,s=i=>i()){const i=[];for(const o of n)for(const c in o.components){let l=o.components[c];if(!(t!=="beforeRouteEnter"&&!o.instances[c]))if(l1(l)){const u=(l.__vccOpts||l)[t];u&&i.push(ur(u,e,r,o,c,s))}else{let u=l();i.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const d=yv(f)?f.default:f;o.mods[c]=f,o.components[c]=d;const g=(d.__vccOpts||d)[t];return g&&ur(g,e,r,o,c,s)()}))}}return i}function Qv(n,t){const e=[],r=[],s=[],i=Math.max(t.matched.length,n.matched.length);for(let o=0;o<i;o++){const c=t.matched[o];c&&(n.matched.find(u=>Qs(u,c))?r.push(c):e.push(c));const l=n.matched[o];l&&(t.matched.find(u=>Qs(u,l))||s.push(l))}return[e,r,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let $r=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var oe=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(oe||{});const Wv={type:$r.Static,value:""},Yv=/[a-zA-Z0-9_]/;function Xv(n){if(!n)return[[]];if(n==="/")return[[Wv]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(m){throw new Error(`ERR (${e})/"${u}": ${m}`)}let e=oe.Static,r=e;const s=[];let i;function o(){i&&s.push(i),i=[]}let c=0,l,u="",f="";function d(){u&&(e===oe.Static?i.push({type:$r.Static,value:u}):e===oe.Param||e===oe.ParamRegExp||e===oe.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:$r.Param,value:u,regexp:f,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function g(){u+=l}for(;c<n.length;){if(l=n[c++],l==="\\"&&e!==oe.ParamRegExp){r=e,e=oe.EscapeNext;continue}switch(e){case oe.Static:l==="/"?(u&&d(),o()):l===":"?(d(),e=oe.Param):g();break;case oe.EscapeNext:g(),e=r;break;case oe.Param:l==="("?e=oe.ParamRegExp:Yv.test(l)?g():(d(),e=oe.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case oe.ParamRegExp:l===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+l:e=oe.ParamRegExpEnd:f+=l;break;case oe.ParamRegExpEnd:d(),e=oe.Static,l!=="*"&&l!=="?"&&l!=="+"&&c--,f="";break;default:t("Unknown state");break}}return e===oe.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),s}const Jd="[^/]+?",Jv={sensitive:!1,strict:!1,start:!0,end:!0};var Ne=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Ne||{});const Zv=/[.+*?^${}()[\]/\\]/g;function $v(n,t){const e=qt({},Jv,t),r=[];let s=e.start?"^":"";const i=[];for(const u of n){const f=u.length?[]:[Ne.Root];e.strict&&!u.length&&(s+="/");for(let d=0;d<u.length;d++){const g=u[d];let m=Ne.Segment+(e.sensitive?Ne.BonusCaseSensitive:0);if(g.type===$r.Static)d||(s+="/"),s+=g.value.replace(Zv,"\\$&"),m+=Ne.Static;else if(g.type===$r.Param){const{value:C,repeatable:x,optional:k,regexp:G}=g;i.push({name:C,repeatable:x,optional:k});const B=G||Jd;if(B!==Jd){m+=Ne.BonusCustomRegExp;try{`${B}`}catch(q){throw new Error(`Invalid custom RegExp for param "${C}" (${B}): `+q.message)}}let U=x?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;d||(U=k&&u.length<2?`(?:/${U})`:"/"+U),k&&(U+="?"),s+=U,m+=Ne.Dynamic,k&&(m+=Ne.BonusOptional),x&&(m+=Ne.BonusRepeatable),B===".*"&&(m+=Ne.BonusWildcard)}f.push(m)}r.push(f)}if(e.strict&&e.end){const u=r.length-1;r[u][r[u].length-1]+=Ne.BonusStrict}e.strict||(s+="/?"),e.end?s+="$":e.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,e.sensitive?"":"i");function c(u){const f=u.match(o),d={};if(!f)return null;for(let g=1;g<f.length;g++){const m=f[g]||"",C=i[g-1];d[C.name]=m&&C.repeatable?m.split("/"):m}return d}function l(u){let f="",d=!1;for(const g of n){(!d||!f.endsWith("/"))&&(f+="/"),d=!1;for(const m of g)if(m.type===$r.Static)f+=m.value;else if(m.type===$r.Param){const{value:C,repeatable:x,optional:k}=m,G=C in u?u[C]:"";if(dn(G)&&!x)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const B=dn(G)?G.join("/"):G;if(!B)if(k)g.length<2&&(f.endsWith("/")?f=f.slice(0,-1):d=!0);else throw new Error(`Missing required param "${C}"`);f+=B}}return f||"/"}return{re:o,score:r,keys:i,parse:c,stringify:l}}function tE(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=t[e]-n[e];if(r)return r;e++}return n.length<t.length?n.length===1&&n[0]===Ne.Static+Ne.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===Ne.Static+Ne.Segment?1:-1:0}function A1(n,t){let e=0;const r=n.score,s=t.score;for(;e<r.length&&e<s.length;){const i=tE(r[e],s[e]);if(i)return i;e++}if(Math.abs(s.length-r.length)===1){if(Zd(r))return 1;if(Zd(s))return-1}return s.length-r.length}function Zd(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const eE={strict:!1,end:!0,sensitive:!1};function nE(n,t,e){const r=$v(Xv(n.path),e),s=qt(r,{record:n,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function rE(n,t){const e=[],r=new Map;t=qd(eE,t);function s(d){return r.get(d)}function i(d,g,m){const C=!m,x=tp(d);x.aliasOf=m&&m.record;const k=qd(t,d),G=[x];if("alias"in d){const q=typeof d.alias=="string"?[d.alias]:d.alias;for(const tt of q)G.push(tp(qt({},x,{components:m?m.record.components:x.components,path:tt,aliasOf:m?m.record:x})))}let B,U;for(const q of G){const{path:tt}=q;if(g&&tt[0]!=="/"){const rt=g.record.path,I=rt[rt.length-1]==="/"?"":"/";q.path=g.record.path+(tt&&I+tt)}if(B=nE(q,g,k),m?m.alias.push(B):(U=U||B,U!==B&&U.alias.push(B),C&&d.name&&!ep(B)&&o(d.name)),v1(B)&&l(B),x.children){const rt=x.children;for(let I=0;I<rt.length;I++)i(rt[I],B,m&&m.children[I])}m=m||B}return U?()=>{o(U)}:io}function o(d){if(m1(d)){const g=r.get(d);g&&(r.delete(d),e.splice(e.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=e.indexOf(d);g>-1&&(e.splice(g,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function c(){return e}function l(d){const g=oE(d,e);e.splice(g,0,d),d.record.name&&!ep(d)&&r.set(d.record.name,d)}function u(d,g){let m,C={},x,k;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw Ws(Yt.MATCHER_NOT_FOUND,{location:d});k=m.record.name,C=qt($d(g.params,m.keys.filter(U=>!U.optional).concat(m.parent?m.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),d.params&&$d(d.params,m.keys.map(U=>U.name))),x=m.stringify(C)}else if(d.path!=null)x=d.path,m=e.find(U=>U.re.test(x)),m&&(C=m.parse(x),k=m.record.name);else{if(m=g.name?r.get(g.name):e.find(U=>U.re.test(g.path)),!m)throw Ws(Yt.MATCHER_NOT_FOUND,{location:d,currentLocation:g});k=m.record.name,C=qt({},g.params,d.params),x=m.stringify(C)}const G=[];let B=m;for(;B;)G.unshift(B.record),B=B.parent;return{name:k,path:x,params:C,matched:G,meta:iE(G)}}n.forEach(d=>i(d));function f(){e.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:c,getRecordMatcher:s}}function $d(n,t){const e={};for(const r of t)r in n&&(e[r]=n[r]);return e}function tp(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:sE(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function sE(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const r in n.components)t[r]=typeof e=="object"?e[r]:e;return t}function ep(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function iE(n){return n.reduce((t,e)=>qt(t,e.meta),{})}function oE(n,t){let e=0,r=t.length;for(;e!==r;){const i=e+r>>1;A1(n,t[i])<0?r=i:e=i+1}const s=aE(n);return s&&(r=t.lastIndexOf(s,r-1)),r}function aE(n){let t=n;for(;t=t.parent;)if(v1(t)&&A1(n,t)===0)return t}function v1({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function np(n){const t=Un(mh),e=Un(y1),r=Oe(()=>{const l=mt(n.to);return t.resolve(l)}),s=Oe(()=>{const{matched:l}=r.value,{length:u}=l,f=l[u-1],d=e.matched;if(!f||!d.length)return-1;const g=d.findIndex(Qs.bind(null,f));if(g>-1)return g;const m=rp(l[u-2]);return u>1&&rp(f)===m&&d[d.length-1].path!==m?d.findIndex(Qs.bind(null,l[u-2])):g}),i=Oe(()=>s.value>-1&&fE(e.params,r.value.params)),o=Oe(()=>s.value>-1&&s.value===e.matched.length-1&&g1(e.params,r.value.params));function c(l={}){if(hE(l)){const u=t[mt(n.replace)?"replace":"push"](mt(n.to)).catch(io);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Oe(()=>r.value.href),isActive:i,isExactActive:o,navigate:c}}function cE(n){return n.length===1?n[0]:n}const lE=Nm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:np,setup(n,{slots:t}){const e=Rc(np(n)),{options:r}=Un(mh),s=Oe(()=>({[sp(n.activeClass,r.linkActiveClass,"router-link-active")]:e.isActive,[sp(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const i=t.default&&cE(t.default(e));return n.custom?i:dh("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:s.value},i)}}}),uE=lE;function hE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function fE(n,t){for(const e in t){const r=t[e],s=n[e];if(typeof r=="string"){if(r!==s)return!1}else if(!dn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function rp(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const sp=(n,t,e)=>n??t??e,dE=Nm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const r=Un(du),s=Oe(()=>n.route||r.value),i=Un(Xd,0),o=Oe(()=>{let u=mt(i);const{matched:f}=s.value;let d;for(;(d=f[u])&&!d.components;)u++;return u}),c=Oe(()=>s.value.matched[o.value]);wa(Xd,Oe(()=>o.value+1)),wa(zv,c),wa(du,s);const l=Pt();return ro(()=>[l.value,c.value,n.name],([u,f,d],[g,m,C])=>{f&&(f.instances[d]=u,m&&m!==f&&u&&u===g&&(f.leaveGuards.size||(f.leaveGuards=m.leaveGuards),f.updateGuards.size||(f.updateGuards=m.updateGuards))),u&&f&&(!m||!Qs(f,m)||!g)&&(f.enterCallbacks[d]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=s.value,f=n.name,d=c.value,g=d&&d.components[f];if(!g)return ip(e.default,{Component:g,route:u});const m=d.props[f],C=m?m===!0?u.params:typeof m=="function"?m(u):m:null,k=dh(g,qt({},C,t,{onVnodeUnmounted:G=>{G.component.isUnmounted&&(d.instances[f]=null)},ref:l}));return ip(e.default,{Component:k,route:u})||k}}});function ip(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const pE=dE;function gE(n){const t=rE(n.routes,n),e=n.parseQuery||Kv,r=n.stringifyQuery||Yd,s=n.history,i=Ui(),o=Ui(),c=Ui(),l=E2(rr);let u=rr;Bi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Vl.bind(null,P=>""+P),d=Vl.bind(null,xv),g=Vl.bind(null,Co);function m(P,L){let M,st;return m1(P)?(M=t.getRecordMatcher(P),st=L):st=P,t.addRoute(st,M)}function C(P){const L=t.getRecordMatcher(P);L&&t.removeRoute(L)}function x(){return t.getRoutes().map(P=>P.record)}function k(P){return!!t.getRecordMatcher(P)}function G(P,L){if(L=qt({},L||l.value),typeof P=="string"){const S=xl(e,P,L.path),H=t.resolve({path:S.path},L),K=s.createHref(S.fullPath);return qt(S,H,{params:g(H.params),hash:Co(S.hash),redirectedFrom:void 0,href:K})}let M;if(P.path!=null)M=qt({},P,{path:xl(e,P.path,L.path).path});else{const S=qt({},P.params);for(const H in S)S[H]==null&&delete S[H];M=qt({},P,{params:d(S)}),L.params=d(L.params)}const st=t.resolve(M,L),et=P.hash||"";st.params=f(g(st.params));const E=Dv(r,qt({},P,{hash:Sv(et),path:st.path})),b=s.createHref(E);return qt({fullPath:E,hash:et,query:r===Yd?qv(P.query):P.query||{}},st,{redirectedFrom:void 0,href:b})}function B(P){return typeof P=="string"?xl(e,P,l.value.path):qt({},P)}function U(P,L){if(u!==P)return Ws(Yt.NAVIGATION_CANCELLED,{from:L,to:P})}function q(P){return I(P)}function tt(P){return q(qt(B(P),{replace:!0}))}function rt(P,L){const M=P.matched[P.matched.length-1];if(M&&M.redirect){const{redirect:st}=M;let et=typeof st=="function"?st(P,L):st;return typeof et=="string"&&(et=et.includes("?")||et.includes("#")?et=B(et):{path:et},et.params={}),qt({query:P.query,hash:P.hash,params:et.path!=null?{}:P.params},et)}}function I(P,L){const M=u=G(P),st=l.value,et=P.state,E=P.force,b=P.replace===!0,S=rt(M,st);if(S)return I(qt(B(S),{state:typeof S=="object"?qt({},et,S.state):et,force:E,replace:b}),L||M);const H=M;H.redirectedFrom=L;let K;return!E&&Nv(r,st,M)&&(K=Ws(Yt.NAVIGATION_DUPLICATED,{to:H,from:st}),Ve(st,st,!0,!1)),(K?Promise.resolve(K):R(H,st)).catch(j=>Nn(j)?Nn(j,Yt.NAVIGATION_GUARD_REDIRECT)?j:Ke(j):Et(j,H,st)).then(j=>{if(j){if(Nn(j,Yt.NAVIGATION_GUARD_REDIRECT))return I(qt({replace:b},B(j.to),{state:typeof j.to=="object"?qt({},et,j.to.state):et,force:E}),L||H)}else j=T(H,st,!0,b,et);return w(H,st,j),j})}function A(P,L){const M=U(P,L);return M?Promise.reject(M):Promise.resolve()}function y(P){const L=Be.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(P):P()}function R(P,L){let M;const[st,et,E]=Qv(P,L);M=Dl(st.reverse(),"beforeRouteLeave",P,L);for(const S of st)S.leaveGuards.forEach(H=>{M.push(ur(H,P,L))});const b=A.bind(null,P,L);return M.push(b),ce(M).then(()=>{M=[];for(const S of i.list())M.push(ur(S,P,L));return M.push(b),ce(M)}).then(()=>{M=Dl(et,"beforeRouteUpdate",P,L);for(const S of et)S.updateGuards.forEach(H=>{M.push(ur(H,P,L))});return M.push(b),ce(M)}).then(()=>{M=[];for(const S of E)if(S.beforeEnter)if(dn(S.beforeEnter))for(const H of S.beforeEnter)M.push(ur(H,P,L));else M.push(ur(S.beforeEnter,P,L));return M.push(b),ce(M)}).then(()=>(P.matched.forEach(S=>S.enterCallbacks={}),M=Dl(E,"beforeRouteEnter",P,L,y),M.push(b),ce(M))).then(()=>{M=[];for(const S of o.list())M.push(ur(S,P,L));return M.push(b),ce(M)}).catch(S=>Nn(S,Yt.NAVIGATION_CANCELLED)?S:Promise.reject(S))}function w(P,L,M){c.list().forEach(st=>y(()=>st(P,L,M)))}function T(P,L,M,st,et){const E=U(P,L);if(E)return E;const b=L===rr,S=Bi?history.state:{};M&&(st||b?s.replace(P.fullPath,qt({scroll:b&&S&&S.scroll},et)):s.push(P.fullPath,et)),l.value=P,Ve(P,L,M,b),Ke()}let v;function vt(){v||(v=s.listen((P,L,M)=>{if(!Ue.listening)return;const st=G(P),et=rt(st,Ue.currentRoute.value);if(et){I(qt(et,{replace:!0,force:!0}),st).catch(io);return}u=st;const E=l.value;Bi&&Bv(Wd(E.fullPath,M.delta),Lv()),R(st,E).catch(b=>Nn(b,Yt.NAVIGATION_ABORTED|Yt.NAVIGATION_CANCELLED)?b:Nn(b,Yt.NAVIGATION_GUARD_REDIRECT)?(I(qt(B(b.to),{force:!0}),st).then(S=>{Nn(S,Yt.NAVIGATION_ABORTED|Yt.NAVIGATION_DUPLICATED)&&!M.delta&&M.type===Qd.pop&&s.go(-1,!1)}).catch(io),Promise.reject()):(M.delta&&s.go(-M.delta,!1),Et(b,st,E))).then(b=>{b=b||T(st,E,!1),b&&(M.delta&&!Nn(b,Yt.NAVIGATION_CANCELLED)?s.go(-M.delta,!1):M.type===Qd.pop&&Nn(b,Yt.NAVIGATION_ABORTED|Yt.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),w(st,E,b)}).catch(io)}))}let Lt=Ui(),Dt=Ui(),Rt;function Et(P,L,M){Ke(P);const st=Dt.list();return st.length?st.forEach(et=>et(P,L,M)):console.error(P),Promise.reject(P)}function ye(){return Rt&&l.value!==rr?Promise.resolve():new Promise((P,L)=>{Lt.add([P,L])})}function Ke(P){return Rt||(Rt=!P,vt(),Lt.list().forEach(([L,M])=>P?M(P):L()),Lt.reset()),P}function Ve(P,L,M,st){const{scrollBehavior:et}=n;if(!Bi||!et)return Promise.resolve();const E=!M&&Uv(Wd(P.fullPath,0))||(st||!M)&&history.state&&history.state.scroll||null;return Im().then(()=>et(P,L,E)).then(b=>b&&Fv(b)).catch(b=>Et(b,P,L))}const se=P=>s.go(P);let sn;const Be=new Set,Ue={currentRoute:l,listening:!0,addRoute:m,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:x,resolve:G,options:n,push:q,replace:tt,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:Dt.add,isReady:ye,install(P){P.component("RouterLink",uE),P.component("RouterView",pE),P.config.globalProperties.$router=Ue,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>mt(l)}),Bi&&!sn&&l.value===rr&&(sn=!0,q(s.location).catch(st=>{}));const L={};for(const st in rr)Object.defineProperty(L,st,{get:()=>l.value[st],enumerable:!0});P.provide(mh,Ue),P.provide(y1,ym(L)),P.provide(du,l);const M=P.unmount;Be.add(P),P.unmount=function(){Be.delete(P),Be.size<1&&(u=rr,v&&v(),v=null,l.value=rr,sn=!1,Rt=!1),M()}}};function ce(P){return P.reduce((L,M)=>L.then(()=>y(M)),Promise.resolve())}return Ue}const mE={},_E={class:"logo_wrapper"};function yE(n,t){return at(),dt("div",_E,[...t[0]||(t[0]=[hn('<div class="logo" data-v-d65b5259><svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d65b5259><g clip-path="url(#clip0_17_220)" data-v-d65b5259><path d="M24 27H48" stroke="#535765" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" data-v-d65b5259></path><path d="M24 39H34.5" stroke="#535765" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" data-v-d65b5259></path><path d="M31.5 58.5L27 54H18C15.6131 54 13.3239 53.0518 11.636 51.364C9.94821 49.6761 9 47.3869 9 45V21C9 18.6131 9.94821 16.3239 11.636 14.636C13.3239 12.9482 15.6131 12 18 12H54C56.3869 12 58.6761 12.9482 60.364 14.636C62.0518 16.3239 63 18.6131 63 21V33" stroke="#535765" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" data-v-d65b5259></path><path d="M54 66L64.05 56.148C64.6663 55.5499 65.1565 54.8345 65.4918 54.0438C65.827 53.2532 66.0004 52.4034 66.0018 51.5446C66.0032 50.6859 65.8326 49.8355 65.4999 49.0438C65.1672 48.2521 64.6793 47.535 64.065 46.935C62.8114 45.709 61.1286 45.021 59.3751 45.0177C57.6217 45.0143 55.9363 45.6958 54.678 46.917L54.006 47.577L53.337 46.917C52.0835 45.6919 50.4014 45.0045 48.6486 45.0011C46.8959 44.9977 45.2111 45.6787 43.953 46.899C43.3365 47.4968 42.846 48.2121 42.5105 49.0026C42.175 49.7932 42.0013 50.6429 41.9996 51.5017C41.998 52.3604 42.1684 53.2108 42.5008 54.0027C42.8332 54.7945 43.3208 55.5117 43.935 56.112L54 66Z" stroke="#7B509F" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" data-v-d65b5259></path></g><defs data-v-d65b5259><clipPath id="clip0_17_220" data-v-d65b5259><rect width="72" height="72" fill="white" data-v-d65b5259></rect></clipPath></defs></svg><p data-v-d65b5259>BUG REPORT</p></div>',1)])])}const AE=ms(mE,[["render",yE],["__scopeId","data-v-d65b5259"]]),vE={},EE={class:"signup_wrapper"};function IE(n,t){return at(),dt("div",EE,[...t[0]||(t[0]=[N("div",{class:"title_wrapper"},[N("p",{class:"title"},"BUG REPORT"),N("p",{class:"subtitle"},"     .")],-1),N("button",null,[N("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[N("g",{"clip-path":"url(#paint0_angular_9_531_clip_path)","data-figma-skip-parse":"true"},[N("g",{transform:"matrix(0.0103686 -0.00599018 0.00598508 0.0103774 9.05612 10.8032)"},[N("foreignObject",{x:"-1728.83",y:"-1728.83",width:"3457.66",height:"3457.66"},[N("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:`conic-gradient(\r
                    from 90deg,\r
                    rgba(222, 71, 66, 1) 0deg,\r
                    rgba(66, 133, 244, 1) 22.5deg,\r
                    rgba(66, 133, 244, 1) 44.855deg,\r
                    rgba(66, 133, 244, 1) 63.6458deg,\r
                    rgba(10, 153, 187, 1) 79.974deg,\r
                    rgba(52, 163, 83, 1) 92.4419deg,\r
                    rgba(52, 163, 83, 1) 114.043deg,\r
                    rgba(168, 197, 0, 1) 152.174deg,\r
                    rgba(251, 188, 5, 1) 177.896deg,\r
                    rgba(251, 188, 5, 1) 208.082deg,\r
                    rgba(251, 188, 5, 1) 228.415deg,\r
                    rgba(255, 145, 21, 1) 259.788deg,\r
                    rgba(255, 92, 49, 1) 283.929deg,\r
                    rgba(234, 67, 53, 1) 300.907deg,\r
                    rgba(234, 67, 53, 1) 318.092deg,\r
                    rgba(234, 67, 53, 1) 358.332deg,\r
                    rgba(222, 71, 66, 1) 360deg\r
                  )`,height:"100%",width:"100%",opacity:"1"}})])])]),N("path",{d:"M24 12.5338C24 11.6648 23.9221 10.8292 23.7774 10.0271L15.3191 10.0271V14.7732L18.8349 14.7732C18.5455 16.2996 17.6772 17.592 16.3748 18.461V21.5471H20.3488C22.6642 19.408 24 16.2662 24 12.5338Z","data-figma-gradient-fill":'{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"stopsVar":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"transform":{"m00":20.737148284912109,"m01":11.970166206359863,"m02":-7.2975344657897949,"m10":-11.980353355407715,"m11":20.754795074462891,"m12":6.4159717559814453},"opacity":1.0,"blendMode":"NORMAL","visible":true}'}),N("g",{"clip-path":"url(#paint1_angular_9_531_clip_path)","data-figma-skip-parse":"true"},[N("g",{transform:"matrix(0.0103686 -0.00599018 0.00598508 0.0103774 9.05612 10.8032)"},[N("foreignObject",{x:"-1728.83",y:"-1728.83",width:"3457.66",height:"3457.66"},[N("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:`conic-gradient(\r
                    from 90deg,\r
                    rgba(222, 71, 66, 1) 0deg,\r
                    rgba(66, 133, 244, 1) 22.5deg,\r
                    rgba(66, 133, 244, 1) 44.855deg,\r
                    rgba(66, 133, 244, 1) 63.6458deg,\r
                    rgba(10, 153, 187, 1) 79.974deg,\r
                    rgba(52, 163, 83, 1) 92.4419deg,\r
                    rgba(52, 163, 83, 1) 114.043deg,\r
                    rgba(168, 197, 0, 1) 152.174deg,\r
                    rgba(251, 188, 5, 1) 177.896deg,\r
                    rgba(251, 188, 5, 1) 208.082deg,\r
                    rgba(251, 188, 5, 1) 228.415deg,\r
                    rgba(255, 145, 21, 1) 259.788deg,\r
                    rgba(255, 92, 49, 1) 283.929deg,\r
                    rgba(234, 67, 53, 1) 300.907deg,\r
                    rgba(234, 67, 53, 1) 318.092deg,\r
                    rgba(234, 67, 53, 1) 358.332deg,\r
                    rgba(222, 71, 66, 1) 360deg\r
                  )`,height:"100%",width:"100%",opacity:"1"}})])])]),N("path",{d:"M12.2449 24.5106C15.551 24.5106 18.3228 23.4188 20.3488 21.5471L16.3748 18.461C15.2839 19.1963 13.8924 19.6419 12.2449 19.6419C9.06122 19.6419 6.35622 17.4917 5.38776 14.595H1.31354V17.7591C3.32839 21.7588 7.45826 24.5106 12.2449 24.5106Z","data-figma-gradient-fill":'{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"stopsVar":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"transform":{"m00":20.737148284912109,"m01":11.970166206359863,"m02":-7.2975344657897949,"m10":-11.980353355407715,"m11":20.754795074462891,"m12":6.4159717559814453},"opacity":1.0,"blendMode":"NORMAL","visible":true}'}),N("g",{"clip-path":"url(#paint2_angular_9_531_clip_path)","data-figma-skip-parse":"true"},[N("g",{transform:"matrix(0.0103686 -0.00599018 0.00598508 0.0103774 9.05612 10.8032)"},[N("foreignObject",{x:"-1728.83",y:"-1728.83",width:"3457.66",height:"3457.66"},[N("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:`conic-gradient(\r
                    from 90deg,\r
                    rgba(222, 71, 66, 1) 0deg,\r
                    rgba(66, 133, 244, 1) 22.5deg,\r
                    rgba(66, 133, 244, 1) 44.855deg,\r
                    rgba(66, 133, 244, 1) 63.6458deg,\r
                    rgba(10, 153, 187, 1) 79.974deg,\r
                    rgba(52, 163, 83, 1) 92.4419deg,\r
                    rgba(52, 163, 83, 1) 114.043deg,\r
                    rgba(168, 197, 0, 1) 152.174deg,\r
                    rgba(251, 188, 5, 1) 177.896deg,\r
                    rgba(251, 188, 5, 1) 208.082deg,\r
                    rgba(251, 188, 5, 1) 228.415deg,\r
                    rgba(255, 145, 21, 1) 259.788deg,\r
                    rgba(255, 92, 49, 1) 283.929deg,\r
                    rgba(234, 67, 53, 1) 300.907deg,\r
                    rgba(234, 67, 53, 1) 318.092deg,\r
                    rgba(234, 67, 53, 1) 358.332deg,\r
                    rgba(222, 71, 66, 1) 360deg\r
                  )`,height:"100%",width:"100%",opacity:"1"}})])])]),N("path",{d:"M5.38776 14.5838C5.14286 13.8485 4.99814 13.0686 4.99814 12.2553C4.99814 11.442 5.14286 10.6621 5.38776 9.92681V6.76271H1.31354C0.478664 8.41161 0 10.2722 0 12.2553C0 14.2385 0.478664 16.099 1.31354 17.7479L4.48609 15.2746L5.38776 14.5838Z","data-figma-gradient-fill":'{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"stopsVar":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"transform":{"m00":20.737148284912109,"m01":11.970166206359863,"m02":-7.2975344657897949,"m10":-11.980353355407715,"m11":20.754795074462891,"m12":6.4159717559814453},"opacity":1.0,"blendMode":"NORMAL","visible":true}'}),N("g",{"clip-path":"url(#paint3_angular_9_531_clip_path)","data-figma-skip-parse":"true"},[N("g",{transform:"matrix(0.0103686 -0.00599018 0.00598508 0.0103774 9.05612 10.8032)"},[N("foreignObject",{x:"-1728.83",y:"-1728.83",width:"3457.66",height:"3457.66"},[N("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:`conic-gradient(\r
                    from 90deg,\r
                    rgba(222, 71, 66, 1) 0deg,\r
                    rgba(66, 133, 244, 1) 22.5deg,\r
                    rgba(66, 133, 244, 1) 44.855deg,\r
                    rgba(66, 133, 244, 1) 63.6458deg,\r
                    rgba(10, 153, 187, 1) 79.974deg,\r
                    rgba(52, 163, 83, 1) 92.4419deg,\r
                    rgba(52, 163, 83, 1) 114.043deg,\r
                    rgba(168, 197, 0, 1) 152.174deg,\r
                    rgba(251, 188, 5, 1) 177.896deg,\r
                    rgba(251, 188, 5, 1) 208.082deg,\r
                    rgba(251, 188, 5, 1) 228.415deg,\r
                    rgba(255, 145, 21, 1) 259.788deg,\r
                    rgba(255, 92, 49, 1) 283.929deg,\r
                    rgba(234, 67, 53, 1) 300.907deg,\r
                    rgba(234, 67, 53, 1) 318.092deg,\r
                    rgba(234, 67, 53, 1) 358.332deg,\r
                    rgba(222, 71, 66, 1) 360deg\r
                  )`,height:"100%",width:"100%",opacity:"1"}})])])]),N("path",{d:"M12.2449 4.87985C14.0482 4.87985 15.6512 5.50375 16.9314 6.707L20.4379 3.19752C18.3117 1.21439 15.551 0 12.2449 0C7.45826 0 3.32839 2.75188 1.31354 6.76271L5.38776 9.92681C6.35622 7.0301 9.06122 4.87985 12.2449 4.87985Z","data-figma-gradient-fill":'{"type":"GRADIENT_ANGULAR","stops":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"stopsVar":[{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.06250},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.12459725886583328},{"color":{"r":0.25882354378700256,"g":0.52156865596771240,"b":0.95686274766921997,"a":1.0},"position":0.17679402232170105},{"color":{"r":0.039215687662363052,"g":0.60000002384185791,"b":0.73333334922790527,"a":1.0},"position":0.22215011715888977},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.25678315758705139},{"color":{"r":0.20392157137393951,"g":0.63921570777893066,"b":0.32549020648002625,"a":1.0},"position":0.31678476929664612},{"color":{"r":0.65882354974746704,"g":0.77254903316497803,"b":0.0,"a":1.0},"position":0.42270514369010925},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.49415481090545654},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.57800447940826416},{"color":{"r":0.98431372642517090,"g":0.73725491762161255,"b":0.019607843831181526,"a":1.0},"position":0.63448750972747803},{"color":{"r":1.0,"g":0.56862747669219971,"b":0.082352943718433380,"a":1.0},"position":0.72163331508636475},{"color":{"r":1.0,"g":0.36078432202339172,"b":0.19215686619281769,"a":1.0},"position":0.78869134187698364},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.83585250377655029},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.88358932733535767},{"color":{"r":0.91764706373214722,"g":0.26274511218070984,"b":0.20784313976764679,"a":1.0},"position":0.99536776542663574}],"transform":{"m00":20.737148284912109,"m01":11.970166206359863,"m02":-7.2975344657897949,"m10":-11.980353355407715,"m11":20.754795074462891,"m12":6.4159717559814453},"opacity":1.0,"blendMode":"NORMAL","visible":true}'}),N("path",{d:"M12.2553 14.465V9.82001H15.3191V14.465H12.2553Z",fill:"#4285F4"}),N("defs",null,[N("clipPath",{id:"paint0_angular_9_531_clip_path"},[N("path",{d:"M24 12.5338C24 11.6648 23.9221 10.8292 23.7774 10.0271L15.3191 10.0271V14.7732L18.8349 14.7732C18.5455 16.2996 17.6772 17.592 16.3748 18.461V21.5471H20.3488C22.6642 19.408 24 16.2662 24 12.5338Z"})]),N("clipPath",{id:"paint1_angular_9_531_clip_path"},[N("path",{d:"M12.2449 24.5106C15.551 24.5106 18.3228 23.4188 20.3488 21.5471L16.3748 18.461C15.2839 19.1963 13.8924 19.6419 12.2449 19.6419C9.06122 19.6419 6.35622 17.4917 5.38776 14.595H1.31354V17.7591C3.32839 21.7588 7.45826 24.5106 12.2449 24.5106Z"})]),N("clipPath",{id:"paint2_angular_9_531_clip_path"},[N("path",{d:"M5.38776 14.5838C5.14286 13.8485 4.99814 13.0686 4.99814 12.2553C4.99814 11.442 5.14286 10.6621 5.38776 9.92681V6.76271H1.31354C0.478664 8.41161 0 10.2722 0 12.2553C0 14.2385 0.478664 16.099 1.31354 17.7479L4.48609 15.2746L5.38776 14.5838Z"})]),N("clipPath",{id:"paint3_angular_9_531_clip_path"},[N("path",{d:"M12.2449 4.87985C14.0482 4.87985 15.6512 5.50375 16.9314 6.707L20.4379 3.19752C18.3117 1.21439 15.551 0 12.2449 0C7.45826 0 3.32839 2.75188 1.31354 6.76271L5.38776 9.92681C6.35622 7.0301 9.06122 4.87985 12.2449 4.87985Z"})])])]),N("p",null,"Sign in with Google")],-1)])])}const TE=ms(vE,[["render",IE],["__scopeId","data-v-66e1e6f3"]]),bE="data:image/png;base64,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",wE="data:image/png;base64,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",RE={class:"header"},CE={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},SE={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},PE={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_h={__name:"Header",props:{title:{type:String,required:!0},leftIcon:{type:String,default:null},rightIcon:{type:String,default:null}},setup(n){return(t,e)=>(at(),dt("header",RE,[n.leftIcon?(at(),dt("button",{key:0,class:"icon_btn left",onClick:e[0]||(e[0]=r=>t.$emit("left-action")),"aria-label":"left button"},[n.leftIcon==="close-menu"?(at(),dt("svg",CE,[...e[2]||(e[2]=[hn('<g clip-path="url(#clip0_22_490)"><path d="M3.93555 6H19.9355" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.93555 12H16.9355" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3.93555 18H13.9355" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_22_490"><rect width="24" height="24" fill="white"></rect></clipPath></defs>',2)])])):n.leftIcon==="close"?(at(),dt("svg",SE,[...e[3]||(e[3]=[N("g",{"clip-path":"url(#clip0_22_459)"},[N("path",{d:"M15 6L9 12L15 18",stroke:"#535765","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),N("defs",null,[N("clipPath",{id:"clip0_22_459"},[N("rect",{width:"24",height:"24",fill:"white"})])],-1)])])):fe("",!0)])):fe("",!0),N("h1",null,ge(n.title),1),n.rightIcon?(at(),dt("button",{key:1,class:"icon_btn right",onClick:e[1]||(e[1]=r=>t.$emit("right-action")),"aria-label":"right button"},[n.rightIcon==="menu"?(at(),dt("svg",PE,[...e[4]||(e[4]=[hn('<g clip-path="url(#clip0_8_377)"><path d="M4 6H20" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4 12H20" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4 18H20" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_8_377"><rect width="24" height="24" fill="white"></rect></clipPath></defs>',2)])])):fe("",!0)])):fe("",!0)]))}},pa=Pt(!1),Nl=Pt("alert"),kl=Pt(""),Ml=Pt(""),Ol=Pt(null),Ll=Pt(null);function yh(){pa.value=!1,Nl.value="alert",kl.value="",Ml.value="",Ol.value=null,Ll.value=null;const n=(s,i,o="",c={})=>{Nl.value=s,kl.value=i,Ml.value=o,Ol.value=c.onConfirm||null,Ll.value=c.onCancel||null,pa.value=!0},t=()=>pa.value=!1;return{isOpen:pa,modalType:Nl,modalTitle:kl,modalMessage:Ml,openModal:n,closeModal:t,confirm:()=>{Ol.value?.(),t()},cancel:()=>{Ll.value?.(),t()}}}function VE(){const n=[" .    .","   .",".    .","     .",",   .","       ."," ,   .","     .","  ,   .","      .",". .","    .  ."," . .","      .","   .","    ."," .     .","    .","   ."," .   ."];return{getRandomMessage:()=>{const e=Math.floor(Math.random()*n.length);return n[e]}}}const xE=()=>{};var op={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},DE=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const s=n[e++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[e++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[e++],o=n[e++],c=n[e++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[e++],o=n[e++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,c=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,f=i>>2,d=(i&3)<<4|c>>4;let g=(c&15)<<2|u>>6,m=u&63;l||(m=64,o||(g=64)),r.push(e[f],e[d],e[g],e[m])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(E1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):DE(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=e[n.charAt(s++)],c=s<n.length?e[n.charAt(s)]:0;++s;const u=s<n.length?e[n.charAt(s)]:64;++s;const d=s<n.length?e[n.charAt(s)]:64;if(++s,i==null||c==null||u==null||d==null)throw new NE;const g=i<<2|c>>4;if(r.push(g),u!==64){const m=c<<4&240|u>>2;if(r.push(m),d!==64){const C=u<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kE=function(n){const t=E1(n);return I1.encodeByteArray(t,!0)},Xa=function(n){return kE(n).replace(/\./g,"")},ME=function(n){try{return I1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=()=>T1().__FIREBASE_DEFAULTS__,LE=()=>{if(typeof process>"u"||typeof op>"u")return;const n=op.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&ME(n[1]);return t&&JSON.parse(t)},Ah=()=>{try{return xE()||OE()||LE()||FE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BE=n=>Ah()?.emulatorHosts?.[n],UE=n=>{const t=BE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},b1=()=>Ah()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xa(JSON.stringify(e)),Xa(JSON.stringify(o)),""].join(".")}const oo={};function HE(){const n={prod:[],emulator:[]};for(const t of Object.keys(oo))oo[t]?n.emulator.push(t):n.prod.push(t);return n}function KE(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ap=!1;function qE(n,t){if(typeof window>"u"||typeof document>"u"||!kc(window.location.host)||oo[n]===t||oo[n]||ap)return;oo[n]=t;function e(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=HE().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ap=!0,o()},g}function f(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function d(){const g=KE(r),m=e("text"),C=document.getElementById(m)||document.createElement("span"),x=e("learnmore"),k=document.getElementById(x)||document.createElement("a"),G=e("preprendIcon"),B=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const U=g.element;c(U),f(k,x);const q=u();l(B,G),U.append(B,C,k,q),document.body.appendChild(U)}i?(C.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R1(){const n=Ah()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C1(){return!R1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S1(){return!R1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function P1(){try{return typeof indexedDB=="object"}catch{return!1}}function zE(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="FirebaseError";class _s extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=QE,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V1.prototype.create)}}class V1{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?WE(i,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new _s(s,c,r)}}function WE(n,t){return n.replace(YE,(e,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const YE=/\{\$([^}]+)}/g;function Za(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const s of e){if(!r.includes(s))return!1;const i=n[s],o=t[s];if(cp(i)&&cp(o)){if(!Za(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!e.includes(s))return!1;return!0}function cp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(n){return n&&n._delegate?n._delegate:n}class Ys{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new jE;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZE(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&o.resolve(s)}return s}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(r)??new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const s of r)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JE(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JE(n){return n===qr?void 0:n}function ZE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new XE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wt||(wt={}));const tI={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},eI=wt.INFO,nI={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},rI=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),s=nI[t];if(s)console[s](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class x1{constructor(t){this.name=t,this._logLevel=eI,this._logHandler=rI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const sI=(n,t)=>t.some(e=>n instanceof e);let lp,up;function iI(){return lp||(lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oI(){return up||(up=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D1=new WeakMap,pu=new WeakMap,N1=new WeakMap,Fl=new WeakMap,vh=new WeakMap;function aI(n){const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{e(pr(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&D1.set(e,n)}).catch(()=>{}),vh.set(t,n),t}function cI(n){if(pu.has(n))return;const t=new Promise((e,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{e(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});pu.set(n,t)}let gu={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return pu.get(n);if(t==="objectStoreNames")return n.objectStoreNames||N1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return pr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function lI(n){gu=n(gu)}function uI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Bl(this),t,...e);return N1.set(r,t.sort?t.sort():[t]),pr(r)}:oI().includes(n)?function(...t){return n.apply(Bl(this),t),pr(D1.get(this))}:function(...t){return pr(n.apply(Bl(this),t))}}function hI(n){return typeof n=="function"?uI(n):(n instanceof IDBTransaction&&cI(n),sI(n,iI())?new Proxy(n,gu):n)}function pr(n){if(n instanceof IDBRequest)return aI(n);if(Fl.has(n))return Fl.get(n);const t=hI(n);return t!==n&&(Fl.set(n,t),vh.set(t,n)),t}const Bl=n=>vh.get(n);function fI(n,t,{blocked:e,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,t),c=pr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pr(o.result),l.oldVersion,l.newVersion,pr(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const dI=["get","getKey","getAll","getAllKeys","count"],pI=["put","add","delete","clear"],Ul=new Map;function hp(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ul.get(t))return Ul.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,s=pI.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dI.includes(e)))return;const i=async function(o,...c){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[e](...c),s&&l.done]))[0]};return Ul.set(t,i),i}lI(n=>({...n,get:(t,e,r)=>hp(t,e)||n.get(t,e,r),has:(t,e)=>!!hp(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(mI(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function mI(n){return n.getComponent()?.type==="VERSION"}const mu="@firebase/app",fp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new x1("@firebase/app"),_I="@firebase/app-compat",yI="@firebase/analytics-compat",AI="@firebase/analytics",vI="@firebase/app-check-compat",EI="@firebase/app-check",II="@firebase/auth",TI="@firebase/auth-compat",bI="@firebase/database",wI="@firebase/data-connect",RI="@firebase/database-compat",CI="@firebase/functions",SI="@firebase/functions-compat",PI="@firebase/installations",VI="@firebase/installations-compat",xI="@firebase/messaging",DI="@firebase/messaging-compat",NI="@firebase/performance",kI="@firebase/performance-compat",MI="@firebase/remote-config",OI="@firebase/remote-config-compat",LI="@firebase/storage",FI="@firebase/storage-compat",BI="@firebase/firestore",UI="@firebase/ai",jI="@firebase/firestore-compat",GI="firebase",HI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="[DEFAULT]",KI={[mu]:"fire-core",[_I]:"fire-core-compat",[AI]:"fire-analytics",[yI]:"fire-analytics-compat",[EI]:"fire-app-check",[vI]:"fire-app-check-compat",[II]:"fire-auth",[TI]:"fire-auth-compat",[bI]:"fire-rtdb",[wI]:"fire-data-connect",[RI]:"fire-rtdb-compat",[CI]:"fire-fn",[SI]:"fire-fn-compat",[PI]:"fire-iid",[VI]:"fire-iid-compat",[xI]:"fire-fcm",[DI]:"fire-fcm-compat",[NI]:"fire-perf",[kI]:"fire-perf-compat",[MI]:"fire-rc",[OI]:"fire-rc-compat",[LI]:"fire-gcs",[FI]:"fire-gcs-compat",[BI]:"fire-fst",[jI]:"fire-fst-compat",[UI]:"fire-vertex","fire-js":"fire-js",[GI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Map,qI=new Map,yu=new Map;function dp(n,t){try{n.container.addComponent(t)}catch(e){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function So(n){const t=n.name;if(yu.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;yu.set(t,n);for(const e of $a.values())dp(e,n);for(const e of qI.values())dp(e,n);return!0}function k1(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function M1(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new V1("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=HI;function L1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:_u,automaticDataCollectionEnabled:!0,...t},s=r.name;if(typeof s!="string"||!s)throw gr.create("bad-app-name",{appName:String(s)});if(e||(e=b1()),!e)throw gr.create("no-options");const i=$a.get(s);if(i){if(Za(e,i.options)&&Za(r,i.config))return i;throw gr.create("duplicate-app",{appName:s})}const o=new $E(s);for(const l of yu.values())o.addComponent(l);const c=new QI(e,r,o);return $a.set(s,c),c}function WI(n=_u){const t=$a.get(n);if(!t&&n===_u&&b1())return L1();if(!t)throw gr.create("no-app",{appName:n});return t}function mr(n,t,e){let r=KI[n]??n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${t}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(o.join(" "));return}So(new Ys(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="firebase-heartbeat-database",XI=1,Po="firebase-heartbeat-store";let jl=null;function F1(){return jl||(jl=fI(YI,XI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Po)}catch(e){console.warn(e)}}}}).catch(n=>{throw gr.create("idb-open",{originalErrorMessage:n.message})})),jl}async function JI(n){try{const e=(await F1()).transaction(Po),r=await e.objectStore(Po).get(B1(n));return await e.done,r}catch(t){if(t instanceof _s)Hn.warn(t.message);else{const e=gr.create("idb-get",{originalErrorMessage:t?.message});Hn.warn(e.message)}}}async function pp(n,t){try{const r=(await F1()).transaction(Po,"readwrite");await r.objectStore(Po).put(t,B1(n)),await r.done}catch(e){if(e instanceof _s)Hn.warn(e.message);else{const r=gr.create("idb-set",{originalErrorMessage:e?.message});Hn.warn(r.message)}}}function B1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1024,$I=30;class t6{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new n6(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>$I){const s=r6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gp(),{heartbeatsToSend:e,unsentEntries:r}=e6(this._heartbeatsCache.heartbeats),s=Xa(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Hn.warn(t),""}}}function gp(){return new Date().toISOString().substring(0,10)}function e6(n,t=ZI){const e=[];let r=n.slice();for(const s of n){const i=e.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),mp(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),mp(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class n6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P1()?zE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JI(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return pp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function mp(n){return Xa(JSON.stringify({version:2,heartbeats:n})).length}function r6(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(n){So(new Ys("platform-logger",t=>new gI(t),"PRIVATE")),So(new Ys("heartbeat",t=>new t6(t),"PRIVATE")),mr(mu,fp,n),mr(mu,fp,"esm2020"),mr("fire-js","")}s6("");var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,U1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,A){function y(){}y.prototype=A.prototype,I.F=A.prototype,I.prototype=new y,I.prototype.constructor=I,I.D=function(R,w,T){for(var v=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)v[vt-2]=arguments[vt];return A.prototype[w].apply(R,v)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,A,y){y||(y=0);const R=Array(16);if(typeof A=="string")for(var w=0;w<16;++w)R[w]=A.charCodeAt(y++)|A.charCodeAt(y++)<<8|A.charCodeAt(y++)<<16|A.charCodeAt(y++)<<24;else for(w=0;w<16;++w)R[w]=A[y++]|A[y++]<<8|A[y++]<<16|A[y++]<<24;A=I.g[0],y=I.g[1],w=I.g[2];let T=I.g[3],v;v=A+(T^y&(w^T))+R[0]+3614090360&4294967295,A=y+(v<<7&4294967295|v>>>25),v=T+(w^A&(y^w))+R[1]+3905402710&4294967295,T=A+(v<<12&4294967295|v>>>20),v=w+(y^T&(A^y))+R[2]+606105819&4294967295,w=T+(v<<17&4294967295|v>>>15),v=y+(A^w&(T^A))+R[3]+3250441966&4294967295,y=w+(v<<22&4294967295|v>>>10),v=A+(T^y&(w^T))+R[4]+4118548399&4294967295,A=y+(v<<7&4294967295|v>>>25),v=T+(w^A&(y^w))+R[5]+1200080426&4294967295,T=A+(v<<12&4294967295|v>>>20),v=w+(y^T&(A^y))+R[6]+2821735955&4294967295,w=T+(v<<17&4294967295|v>>>15),v=y+(A^w&(T^A))+R[7]+4249261313&4294967295,y=w+(v<<22&4294967295|v>>>10),v=A+(T^y&(w^T))+R[8]+1770035416&4294967295,A=y+(v<<7&4294967295|v>>>25),v=T+(w^A&(y^w))+R[9]+2336552879&4294967295,T=A+(v<<12&4294967295|v>>>20),v=w+(y^T&(A^y))+R[10]+4294925233&4294967295,w=T+(v<<17&4294967295|v>>>15),v=y+(A^w&(T^A))+R[11]+2304563134&4294967295,y=w+(v<<22&4294967295|v>>>10),v=A+(T^y&(w^T))+R[12]+1804603682&4294967295,A=y+(v<<7&4294967295|v>>>25),v=T+(w^A&(y^w))+R[13]+4254626195&4294967295,T=A+(v<<12&4294967295|v>>>20),v=w+(y^T&(A^y))+R[14]+2792965006&4294967295,w=T+(v<<17&4294967295|v>>>15),v=y+(A^w&(T^A))+R[15]+1236535329&4294967295,y=w+(v<<22&4294967295|v>>>10),v=A+(w^T&(y^w))+R[1]+4129170786&4294967295,A=y+(v<<5&4294967295|v>>>27),v=T+(y^w&(A^y))+R[6]+3225465664&4294967295,T=A+(v<<9&4294967295|v>>>23),v=w+(A^y&(T^A))+R[11]+643717713&4294967295,w=T+(v<<14&4294967295|v>>>18),v=y+(T^A&(w^T))+R[0]+3921069994&4294967295,y=w+(v<<20&4294967295|v>>>12),v=A+(w^T&(y^w))+R[5]+3593408605&4294967295,A=y+(v<<5&4294967295|v>>>27),v=T+(y^w&(A^y))+R[10]+38016083&4294967295,T=A+(v<<9&4294967295|v>>>23),v=w+(A^y&(T^A))+R[15]+3634488961&4294967295,w=T+(v<<14&4294967295|v>>>18),v=y+(T^A&(w^T))+R[4]+3889429448&4294967295,y=w+(v<<20&4294967295|v>>>12),v=A+(w^T&(y^w))+R[9]+568446438&4294967295,A=y+(v<<5&4294967295|v>>>27),v=T+(y^w&(A^y))+R[14]+3275163606&4294967295,T=A+(v<<9&4294967295|v>>>23),v=w+(A^y&(T^A))+R[3]+4107603335&4294967295,w=T+(v<<14&4294967295|v>>>18),v=y+(T^A&(w^T))+R[8]+1163531501&4294967295,y=w+(v<<20&4294967295|v>>>12),v=A+(w^T&(y^w))+R[13]+2850285829&4294967295,A=y+(v<<5&4294967295|v>>>27),v=T+(y^w&(A^y))+R[2]+4243563512&4294967295,T=A+(v<<9&4294967295|v>>>23),v=w+(A^y&(T^A))+R[7]+1735328473&4294967295,w=T+(v<<14&4294967295|v>>>18),v=y+(T^A&(w^T))+R[12]+2368359562&4294967295,y=w+(v<<20&4294967295|v>>>12),v=A+(y^w^T)+R[5]+4294588738&4294967295,A=y+(v<<4&4294967295|v>>>28),v=T+(A^y^w)+R[8]+2272392833&4294967295,T=A+(v<<11&4294967295|v>>>21),v=w+(T^A^y)+R[11]+1839030562&4294967295,w=T+(v<<16&4294967295|v>>>16),v=y+(w^T^A)+R[14]+4259657740&4294967295,y=w+(v<<23&4294967295|v>>>9),v=A+(y^w^T)+R[1]+2763975236&4294967295,A=y+(v<<4&4294967295|v>>>28),v=T+(A^y^w)+R[4]+1272893353&4294967295,T=A+(v<<11&4294967295|v>>>21),v=w+(T^A^y)+R[7]+4139469664&4294967295,w=T+(v<<16&4294967295|v>>>16),v=y+(w^T^A)+R[10]+3200236656&4294967295,y=w+(v<<23&4294967295|v>>>9),v=A+(y^w^T)+R[13]+681279174&4294967295,A=y+(v<<4&4294967295|v>>>28),v=T+(A^y^w)+R[0]+3936430074&4294967295,T=A+(v<<11&4294967295|v>>>21),v=w+(T^A^y)+R[3]+3572445317&4294967295,w=T+(v<<16&4294967295|v>>>16),v=y+(w^T^A)+R[6]+76029189&4294967295,y=w+(v<<23&4294967295|v>>>9),v=A+(y^w^T)+R[9]+3654602809&4294967295,A=y+(v<<4&4294967295|v>>>28),v=T+(A^y^w)+R[12]+3873151461&4294967295,T=A+(v<<11&4294967295|v>>>21),v=w+(T^A^y)+R[15]+530742520&4294967295,w=T+(v<<16&4294967295|v>>>16),v=y+(w^T^A)+R[2]+3299628645&4294967295,y=w+(v<<23&4294967295|v>>>9),v=A+(w^(y|~T))+R[0]+4096336452&4294967295,A=y+(v<<6&4294967295|v>>>26),v=T+(y^(A|~w))+R[7]+1126891415&4294967295,T=A+(v<<10&4294967295|v>>>22),v=w+(A^(T|~y))+R[14]+2878612391&4294967295,w=T+(v<<15&4294967295|v>>>17),v=y+(T^(w|~A))+R[5]+4237533241&4294967295,y=w+(v<<21&4294967295|v>>>11),v=A+(w^(y|~T))+R[12]+1700485571&4294967295,A=y+(v<<6&4294967295|v>>>26),v=T+(y^(A|~w))+R[3]+2399980690&4294967295,T=A+(v<<10&4294967295|v>>>22),v=w+(A^(T|~y))+R[10]+4293915773&4294967295,w=T+(v<<15&4294967295|v>>>17),v=y+(T^(w|~A))+R[1]+2240044497&4294967295,y=w+(v<<21&4294967295|v>>>11),v=A+(w^(y|~T))+R[8]+1873313359&4294967295,A=y+(v<<6&4294967295|v>>>26),v=T+(y^(A|~w))+R[15]+4264355552&4294967295,T=A+(v<<10&4294967295|v>>>22),v=w+(A^(T|~y))+R[6]+2734768916&4294967295,w=T+(v<<15&4294967295|v>>>17),v=y+(T^(w|~A))+R[13]+1309151649&4294967295,y=w+(v<<21&4294967295|v>>>11),v=A+(w^(y|~T))+R[4]+4149444226&4294967295,A=y+(v<<6&4294967295|v>>>26),v=T+(y^(A|~w))+R[11]+3174756917&4294967295,T=A+(v<<10&4294967295|v>>>22),v=w+(A^(T|~y))+R[2]+718787259&4294967295,w=T+(v<<15&4294967295|v>>>17),v=y+(T^(w|~A))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(w+(v<<21&4294967295|v>>>11))&4294967295,I.g[2]=I.g[2]+w&4294967295,I.g[3]=I.g[3]+T&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const y=A-this.blockSize,R=this.C;let w=this.h,T=0;for(;T<A;){if(w==0)for(;T<=y;)s(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<A;)if(R[w++]=I.charCodeAt(T++),w==this.blockSize){s(this,R),w=0;break}}else for(;T<A;)if(R[w++]=I[T++],w==this.blockSize){s(this,R),w=0;break}}this.h=w,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var y=I.length-8;y<I.length;++y)I[y]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,y=0;y<4;++y)for(let R=0;R<32;R+=8)I[A++]=this.g[y]>>>R&255;return I};function i(I,A){var y=c;return Object.prototype.hasOwnProperty.call(y,I)?y[I]:y[I]=A(I)}function o(I,A){this.h=A;const y=[];let R=!0;for(let w=I.length-1;w>=0;w--){const T=I[w]|0;R&&T==A||(y[w]=T,R=!1)}this.g=y}var c={};function l(I){return-128<=I&&I<128?i(I,function(A){return new o([A|0],A<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(I<0)return k(u(-I));const A=[];let y=1;for(let R=0;I>=y;R++)A[R]=I/y|0,y*=4294967296;return new o(A,0)}function f(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return k(f(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const y=u(Math.pow(A,8));let R=d;for(let T=0;T<I.length;T+=8){var w=Math.min(8,I.length-T);const v=parseInt(I.substring(T,T+w),A);w<8?(w=u(Math.pow(A,w)),R=R.j(w).add(u(v))):(R=R.j(y),R=R.add(u(v)))}return R}var d=l(0),g=l(1),m=l(16777216);n=o.prototype,n.m=function(){if(x(this))return-k(this).m();let I=0,A=1;for(let y=0;y<this.g.length;y++){const R=this.i(y);I+=(R>=0?R:4294967296+R)*A,A*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(x(this))return"-"+k(this).toString(I);const A=u(Math.pow(I,6));var y=this;let R="";for(;;){const w=q(y,A).g;y=G(y,w.j(A));let T=((y.g.length>0?y.g[0]:y.h)>>>0).toString(I);if(y=w,C(y))return T+R;for(;T.length<6;)T="0"+T;R=T+R}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function x(I){return I.h==-1}n.l=function(I){return I=G(this,I),x(I)?-1:C(I)?0:1};function k(I){const A=I.g.length,y=[];for(let R=0;R<A;R++)y[R]=~I.g[R];return new o(y,~I.h).add(g)}n.abs=function(){return x(this)?k(this):this},n.add=function(I){const A=Math.max(this.g.length,I.g.length),y=[];let R=0;for(let w=0;w<=A;w++){let T=R+(this.i(w)&65535)+(I.i(w)&65535),v=(T>>>16)+(this.i(w)>>>16)+(I.i(w)>>>16);R=v>>>16,T&=65535,v&=65535,y[w]=v<<16|T}return new o(y,y[y.length-1]&-2147483648?-1:0)};function G(I,A){return I.add(k(A))}n.j=function(I){if(C(this)||C(I))return d;if(x(this))return x(I)?k(this).j(k(I)):k(k(this).j(I));if(x(I))return k(this.j(k(I)));if(this.l(m)<0&&I.l(m)<0)return u(this.m()*I.m());const A=this.g.length+I.g.length,y=[];for(var R=0;R<2*A;R++)y[R]=0;for(R=0;R<this.g.length;R++)for(let w=0;w<I.g.length;w++){const T=this.i(R)>>>16,v=this.i(R)&65535,vt=I.i(w)>>>16,Lt=I.i(w)&65535;y[2*R+2*w]+=v*Lt,B(y,2*R+2*w),y[2*R+2*w+1]+=T*Lt,B(y,2*R+2*w+1),y[2*R+2*w+1]+=v*vt,B(y,2*R+2*w+1),y[2*R+2*w+2]+=T*vt,B(y,2*R+2*w+2)}for(I=0;I<A;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=A;I<2*A;I++)y[I]=0;return new o(y,0)};function B(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function U(I,A){this.g=I,this.h=A}function q(I,A){if(C(A))throw Error("division by zero");if(C(I))return new U(d,d);if(x(I))return A=q(k(I),A),new U(k(A.g),k(A.h));if(x(A))return A=q(I,k(A)),new U(k(A.g),A.h);if(I.g.length>30){if(x(I)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var y=g,R=A;R.l(I)<=0;)y=tt(y),R=tt(R);var w=rt(y,1),T=rt(R,1);for(R=rt(R,2),y=rt(y,2);!C(R);){var v=T.add(R);v.l(I)<=0&&(w=w.add(y),T=v),R=rt(R,1),y=rt(y,1)}return A=G(I,w.j(A)),new U(w,A)}for(w=d;I.l(A)>=0;){for(y=Math.max(1,Math.floor(I.m()/A.m())),R=Math.ceil(Math.log(y)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),T=u(y),v=T.j(A);x(v)||v.l(I)>0;)y-=R,T=u(y),v=T.j(A);C(T)&&(T=g),w=w.add(T),I=G(I,v)}return new U(w,I)}n.B=function(I){return q(this,I).h},n.and=function(I){const A=Math.max(this.g.length,I.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)&I.i(R);return new o(y,this.h&I.h)},n.or=function(I){const A=Math.max(this.g.length,I.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)|I.i(R);return new o(y,this.h|I.h)},n.xor=function(I){const A=Math.max(this.g.length,I.g.length),y=[];for(let R=0;R<A;R++)y[R]=this.i(R)^I.i(R);return new o(y,this.h^I.h)};function tt(I){const A=I.g.length+1,y=[];for(let R=0;R<A;R++)y[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(y,I.h)}function rt(I,A){const y=A>>5;A%=32;const R=I.g.length-y,w=[];for(let T=0;T<R;T++)w[T]=A>0?I.i(T+y)>>>A|I.i(T+y+1)<<32-A:I.i(T+y);return new o(w,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,U1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,_r=o}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});var ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,Qi,G1,Pa,Au,H1,K1,q1;(function(){var n,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ga=="object"&&ga];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=e(this);function s(a,h){if(h)t:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var D=a[_];if(!(D in p))break t;p=p[D]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&t(p,a,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(h){var p=[],_;for(_ in h)Object.prototype.hasOwnProperty.call(h,_)&&p.push([_,h[_]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function l(a,h,p){return a.call.apply(a.bind,arguments)}function u(a,h,p){return u=l,u.apply(null,arguments)}function f(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function d(a,h){function p(){}p.prototype=h.prototype,a.Z=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(_,D,O){for(var J=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)J[yt-2]=arguments[yt];return h.prototype[D].apply(_,J)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function m(a){const h=a.length;if(h>0){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function C(a,h){for(let _=1;_<arguments.length;_++){const D=arguments[_];var p=typeof D;if(p=p!="object"?p:D?Array.isArray(D)?"array":p:"null",p=="array"||p=="object"&&typeof D.length=="number"){p=a.length||0;const O=D.length||0;a.length=p+O;for(let J=0;J<O;J++)a[p+J]=D[J]}else a.push(D)}}class x{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(a){o.setTimeout(()=>{throw a},0)}function G(){var a=I;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class B{constructor(){this.h=this.g=null}add(h,p){const _=U.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var U=new x(()=>new q,a=>a.reset());class q{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,rt=!1,I=new B,A=()=>{const a=Promise.resolve(void 0);tt=()=>{a.then(y)}};function y(){for(var a;a=G();){try{a.h.call(a.g)}catch(p){k(p)}var h=U;h.j(a),h.h<100&&(h.h++,a.next=h.g,h.g=a)}rt=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var T=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};o.addEventListener("test",p,h),o.removeEventListener("test",p,h)}catch{}return a})();function v(a){return/^[\s\xa0]*$/.test(a)}function vt(a,h){w.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,h)}d(vt,w),vt.prototype.init=function(a,h){const p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget,h||(p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement)),this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Lt="closure_listenable_"+(Math.random()*1e6|0),Dt=0;function Rt(a,h,p,_,D){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=D,this.key=++Dt,this.da=this.fa=!1}function Et(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ye(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function Ke(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function Ve(a){const h={};for(const p in a)h[p]=a[p];return h}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(a,h){let p,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(p in _)a[p]=_[p];for(let O=0;O<se.length;O++)p=se[O],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function Be(a){this.src=a,this.g={},this.h=0}Be.prototype.add=function(a,h,p,_,D){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const J=ce(a,h,_,D);return J>-1?(h=a[J],p||(h.fa=!1)):(h=new Rt(h,this.src,O,!!_,D),h.fa=p,a.push(h)),h};function Ue(a,h){const p=h.type;if(p in a.g){var _=a.g[p],D=Array.prototype.indexOf.call(_,h,void 0),O;(O=D>=0)&&Array.prototype.splice.call(_,D,1),O&&(Et(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function ce(a,h,p,_){for(let D=0;D<a.length;++D){const O=a[D];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==_)return D}return-1}var P="closure_lm_"+(Math.random()*1e6|0),L={};function M(a,h,p,_,D){if(Array.isArray(h)){for(let O=0;O<h.length;O++)M(a,h[O],p,_,D);return null}return p=$(p),a&&a[Lt]?a.J(h,p,c(_)?!!_.capture:!1,D):st(a,h,p,!1,_,D)}function st(a,h,p,_,D,O){if(!h)throw Error("Invalid event type");const J=c(D)?!!D.capture:!!D;let yt=K(a);if(yt||(a[P]=yt=new Be(a)),p=yt.add(h,p,_,J,O),p.proxy)return p;if(_=et(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)T||(D=J),D===void 0&&(D=!1),a.addEventListener(h.toString(),_,D);else if(a.attachEvent)a.attachEvent(S(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function et(){function a(p){return h.call(a.src,a.listener,p)}const h=H;return a}function E(a,h,p,_,D){if(Array.isArray(h))for(var O=0;O<h.length;O++)E(a,h[O],p,_,D);else _=c(_)?!!_.capture:!!_,p=$(p),a&&a[Lt]?(a=a.i,O=String(h).toString(),O in a.g&&(h=a.g[O],p=ce(h,p,_,D),p>-1&&(Et(h[p]),Array.prototype.splice.call(h,p,1),h.length==0&&(delete a.g[O],a.h--)))):a&&(a=K(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ce(h,p,_,D)),(p=a>-1?h[a]:null)&&b(p))}function b(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Lt])Ue(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(S(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=K(h))?(Ue(p,a),p.h==0&&(p.src=null,h[P]=null)):Et(a)}}}function S(a){return a in L?L[a]:L[a]="on"+a}function H(a,h){if(a.da)a=!0;else{h=new vt(h,this);const p=a.listener,_=a.ha||a.src;a.fa&&b(a),a=p.call(_,h)}return a}function K(a){return a=a[P],a instanceof Be?a:null}var j="__closure_events_fn_"+(Math.random()*1e9>>>0);function $(a){return typeof a=="function"?a:(a[j]||(a[j]=function(h){return a.handleEvent(h)}),a[j])}function Y(){R.call(this),this.i=new Be(this),this.M=this,this.G=null}d(Y,R),Y.prototype[Lt]=!0,Y.prototype.removeEventListener=function(a,h,p,_){E(this,a,h,p,_)};function Q(a,h){var p,_=a.G;if(_)for(p=[];_;_=_.G)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new w(h,a);else if(h instanceof w)h.target=h.target||a;else{var D=h;h=new w(_,a),sn(h,D)}D=!0;let O,J;if(p)for(J=p.length-1;J>=0;J--)O=h.g=p[J],D=W(O,_,!0,h)&&D;if(O=h.g=a,D=W(O,_,!0,h)&&D,D=W(O,_,!1,h)&&D,p)for(J=0;J<p.length;J++)O=h.g=p[J],D=W(O,_,!1,h)&&D}Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var a=this.i;for(const h in a.g){const p=a.g[h];for(let _=0;_<p.length;_++)Et(p[_]);delete a.g[h],a.h--}}this.G=null},Y.prototype.J=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},Y.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function W(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();let D=!0;for(let O=0;O<h.length;++O){const J=h[O];if(J&&!J.da&&J.capture==p){const yt=J.listener,ie=J.ha||J.src;J.fa&&Ue(a.i,J),D=yt.call(ie,_)!==!1&&D}}return D&&!_.defaultPrevented}function ht(a,h){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(a,h||0)}function nt(a){a.g=ht(()=>{a.g=null,a.i&&(a.i=!1,nt(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class ut extends R{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(a){R.call(this),this.h=a,this.g={}}d(ft,R);var It=[];function Nt(a){ye(a.g,function(h,p){this.g.hasOwnProperty(p)&&b(h)},a),a.g={}}ft.prototype.N=function(){ft.Z.N.call(this),Nt(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=o.JSON.stringify,Ae=o.JSON.parse,ve=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function qe(){}function ze(){}var on={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function As(){w.call(this,"d")}d(As,w);function pe(){w.call(this,"c")}d(pe,w);var le={},Ei=null;function kr(){return Ei=Ei||new Y}le.Ia="serverreachability";function Ef(a){w.call(this,le.Ia,a)}d(Ef,w);function Ii(a){const h=kr();Q(h,new Ef(h))}le.STAT_EVENT="statevent";function If(a,h){w.call(this,le.STAT_EVENT,a),this.stat=h}d(If,w);function xe(a){const h=kr();Q(h,new If(h,a))}le.Ja="timingevent";function Tf(a,h){w.call(this,le.Ja,a),this.size=h}d(Tf,w);function Ti(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},h)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function Ey(a,h,p,_,D,O){a.info(function(){if(a.g)if(O){var J="",yt=O.split("&");for(let Ft=0;Ft<yt.length;Ft++){var ie=yt[Ft].split("=");if(ie.length>1){const ue=ie[0];ie=ie[1];const mn=ue.split("_");J=mn.length>=2&&mn[1]=="type"?J+(ue+"="+ie+"&"):J+(ue+"=redacted&")}}}else J=null;else J=O;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+h+`
`+p+`
`+J})}function Iy(a,h,p,_,D,O,J){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+h+`
`+p+`
`+O+" "+J})}function vs(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+by(a,p)+(_?" "+_:"")})}function Ty(a,h){a.info(function(){return"TIMEOUT: "+h})}bi.prototype.info=function(){};function by(a,h){if(!a.g)return h;if(!h)return null;try{const O=JSON.parse(h);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var p=O[a];if(!(p.length<2)){var _=p[1];if(Array.isArray(_)&&!(_.length<1)){var D=_[0];if(D!="noop"&&D!="stop"&&D!="close")for(let J=1;J<_.length;J++)_[J]=""}}}}return Ct(O)}catch{return h}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wf;function sl(){}d(sl,qe),sl.prototype.g=function(){return new XMLHttpRequest},wf=new sl;function wi(a){return encodeURIComponent(String(a))}function wy(a){var h=1;a=a.split(":");const p=[];for(;h>0&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function Xn(a,h,p,_){this.j=a,this.i=h,this.l=p,this.S=_||1,this.V=new ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rf}function Rf(){this.i=null,this.g="",this.h=!1}var Cf={},il={};function ol(a,h,p){a.M=1,a.A=na(gn(h)),a.u=p,a.R=!0,Sf(a,null)}function Sf(a,h){a.F=Date.now(),ea(a),a.B=gn(a.A);var p=a.B,_=a.S;Array.isArray(_)||(_=[String(_)]),jf(p.i,"t",_),a.C=0,p=a.j.L,a.h=new Rf,a.g=id(a.j,p?h:null,!a.u),a.P>0&&(a.O=new ut(u(a.Y,a,a.g),a.P)),h=a.V,p=a.g,_=a.ba;var D="readystatechange";Array.isArray(D)||(D&&(It[0]=D.toString()),D=It);for(let O=0;O<D.length;O++){const J=M(p,D[O],_||h.handleEvent,!1,h.h||h);if(!J)break;h.g[J.key]=J}h=a.J?Ve(a.J):{},a.u?(a.v||(a.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,h)):(a.v="GET",a.g.ea(a.B,a.v,null,h)),Ii(),Ey(a.i,a.v,a.B,a.l,a.S,a.u)}Xn.prototype.ba=function(a){a=a.target;const h=this.O;h&&$n(a)==3?h.j():this.Y(a)},Xn.prototype.Y=function(a){try{if(a==this.g)t:{const yt=$n(this.g),ie=this.g.ya(),Ft=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||Wf(this.g)))){this.K||yt!=4||ie==7||(ie==8||Ft<=0?Ii(3):Ii(2)),al(this);var h=this.g.ca();this.X=h;var p=Ry(this);if(this.o=h==200,Iy(this.i,this.v,this.B,this.l,this.S,yt,h),this.o){if(this.U&&!this.L){e:{if(this.g){var _,D=this.g;if((_=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(_)){var O=_;break e}}O=null}if(a=O)vs(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cl(this,a);else{this.o=!1,this.m=3,xe(12),Mr(this),Ri(this);break t}}if(this.R){a=!0;let ue;for(;!this.K&&this.C<p.length;)if(ue=Cy(this,p),ue==il){yt==4&&(this.m=4,xe(14),a=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Cf){this.m=4,xe(15),vs(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else vs(this.i,this.l,ue,null),cl(this,ue);if(Pf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||p.length!=0||this.h.h||(this.m=1,xe(16),a=!1),this.o=this.o&&a,!a)vs(this.i,this.l,p,"[Invalid Chunked Response]"),Mr(this),Ri(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ml(J),J.P=!0,xe(11))}}else vs(this.i,this.l,p,null),cl(this,p);yt==4&&Mr(this),this.o&&!this.K&&(yt==4?ed(this.j,this):(this.o=!1,ea(this)))}else jy(this.g),h==400&&p.indexOf("Unknown SID")>0?(this.m=3,xe(12)):(this.m=0,xe(13)),Mr(this),Ri(this)}}}catch{}finally{}};function Ry(a){if(!Pf(a))return a.g.la();const h=Wf(a.g);if(h==="")return"";let p="";const _=h.length,D=$n(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Mr(a),Ri(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<_;O++)a.h.h=!0,p+=a.h.i.decode(h[O],{stream:!(D&&O==_-1)});return h.length=0,a.h.g+=p,a.C=0,a.h.g}function Pf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Cy(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?il:(p=Number(h.substring(p,_)),isNaN(p)?Cf:(_+=1,_+p>h.length?il:(h=h.slice(_,_+p),a.C=_+p,h)))}Xn.prototype.cancel=function(){this.K=!0,Mr(this)};function ea(a){a.T=Date.now()+a.H,Vf(a,a.H)}function Vf(a,h){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ti(u(a.aa,a),h)}function al(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Xn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Ty(this.i,this.B),this.M!=2&&(Ii(),xe(17)),Mr(this),this.m=2,Ri(this)):Vf(this,this.T-a)};function Ri(a){a.j.I==0||a.K||ed(a.j,a)}function Mr(a){al(a);var h=a.O;h&&typeof h.dispose=="function"&&h.dispose(),a.O=null,Nt(a.V),a.g&&(h=a.g,a.g=null,h.abort(),h.dispose())}function cl(a,h){try{var p=a.j;if(p.I!=0&&(p.g==a||ll(p.h,a))){if(!a.L&&ll(p.h,a)&&p.I==3){try{var _=p.Ba.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)aa(p),ia(p);else break t;gl(p),xe(18)}}else p.xa=D[1],0<p.xa-p.K&&D[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Ti(u(p.Va,p),6e3));Nf(p.h)<=1&&p.ta&&(p.ta=void 0)}else Lr(p,11)}else if((a.L||p.g==a)&&aa(p),!v(h))for(D=p.Ba.g.parse(h),h=0;h<D.length;h++){let Ft=D[h];const ue=Ft[0];if(!(ue<=p.K))if(p.K=ue,Ft=Ft[1],p.I==2)if(Ft[0]=="c"){p.M=Ft[1],p.ba=Ft[2];const mn=Ft[3];mn!=null&&(p.ka=mn,p.j.info("VER="+p.ka));const Fr=Ft[4];Fr!=null&&(p.za=Fr,p.j.info("SVER="+p.za));const tr=Ft[5];tr!=null&&typeof tr=="number"&&tr>0&&(_=1.5*tr,p.O=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const er=a.g;if(er){const la=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var O=_.h;O.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(ul(O,O.h),O.h=null))}if(_.G){const _l=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(_.wa=_l,Kt(_.J,_.G,_l))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),_=p;var J=a;if(_.na=sd(_,_.L?_.ba:null,_.W),J.L){kf(_.h,J);var yt=J,ie=_.O;ie&&(yt.H=ie),yt.D&&(al(yt),ea(yt)),_.g=J}else $f(_);p.i.length>0&&oa(p)}else Ft[0]!="stop"&&Ft[0]!="close"||Lr(p,7);else p.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Lr(p,7):pl(p):Ft[0]!="noop"&&p.l&&p.l.qa(Ft),p.A=0)}}Ii(4)}catch{}}var Sy=class{constructor(a,h){this.g=a,this.map=h}};function xf(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Df(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Nf(a){return a.h?1:a.g?a.g.size:0}function ll(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ul(a,h){a.g?a.g.add(h):a.h=h}function kf(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}xf.prototype.cancel=function(){if(this.i=Mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Mf(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.G);return h}return m(a.i)}var Of=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Py(a,h){if(a){a=a.split("&");for(let p=0;p<a.length;p++){const _=a[p].indexOf("=");let D,O=null;_>=0?(D=a[p].substring(0,_),O=a[p].substring(_+1)):D=a[p],h(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Jn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;a instanceof Jn?(this.l=a.l,Ci(this,a.j),this.o=a.o,this.g=a.g,Si(this,a.u),this.h=a.h,hl(this,Gf(a.i)),this.m=a.m):a&&(h=String(a).match(Of))?(this.l=!1,Ci(this,h[1]||"",!0),this.o=Pi(h[2]||""),this.g=Pi(h[3]||"",!0),Si(this,h[4]),this.h=Pi(h[5]||"",!0),hl(this,h[6]||"",!0),this.m=Pi(h[7]||"")):(this.l=!1,this.i=new xi(null,this.l))}Jn.prototype.toString=function(){const a=[];var h=this.j;h&&a.push(Vi(h,Lf,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Vi(h,Lf,!0),"@"),a.push(wi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Vi(p,p.charAt(0)=="/"?Dy:xy,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Vi(p,ky)),a.join("")},Jn.prototype.resolve=function(a){const h=gn(this);let p=!!a.j;p?Ci(h,a.j):p=!!a.o,p?h.o=a.o:p=!!a.g,p?h.g=a.g:p=a.u!=null;var _=a.h;if(p)Si(h,a.u);else if(p=!!a.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var D=h.h.lastIndexOf("/");D!=-1&&(_=h.h.slice(0,D+1)+_)}if(D=_,D==".."||D==".")_="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){_=D.lastIndexOf("/",0)==0,D=D.split("/");const O=[];for(let J=0;J<D.length;){const yt=D[J++];yt=="."?_&&J==D.length&&O.push(""):yt==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),_&&J==D.length&&O.push("")):(O.push(yt),_=!0)}_=O.join("/")}else _=D}return p?h.h=_:p=a.i.toString()!=="",p?hl(h,Gf(a.i)):p=!!a.m,p&&(h.m=a.m),h};function gn(a){return new Jn(a)}function Ci(a,h,p){a.j=p?Pi(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Si(a,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);a.u=h}else a.u=null}function hl(a,h,p){h instanceof xi?(a.i=h,My(a.i,a.l)):(p||(h=Vi(h,Ny)),a.i=new xi(h,a.l))}function Kt(a,h,p){a.i.set(h,p)}function na(a){return Kt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Pi(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Vi(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,Vy),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Vy(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lf=/[#\/\?@]/g,xy=/[#\?:]/g,Dy=/[#\?]/g,Ny=/[#\?@]/g,ky=/#/g;function xi(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Or(a){a.g||(a.g=new Map,a.h=0,a.i&&Py(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=xi.prototype,n.add=function(a,h){Or(this),this.i=null,a=Es(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function Ff(a,h){Or(a),h=Es(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Bf(a,h){return Or(a),h=Es(a,h),a.g.has(h)}n.forEach=function(a,h){Or(this),this.g.forEach(function(p,_){p.forEach(function(D){a.call(h,D,_,this)},this)},this)};function Uf(a,h){Or(a);let p=[];if(typeof h=="string")Bf(a,h)&&(p=p.concat(a.g.get(Es(a,h))));else for(a=Array.from(a.g.values()),h=0;h<a.length;h++)p=p.concat(a[h]);return p}n.set=function(a,h){return Or(this),this.i=null,a=Es(this,a),Bf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=Uf(this,a),a.length>0?String(a[0]):h):h};function jf(a,h,p){Ff(a,h),p.length>0&&(a.i=null,a.g.set(Es(a,h),m(p)),a.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(let _=0;_<h.length;_++){var p=h[_];const D=wi(p);p=Uf(this,p);for(let O=0;O<p.length;O++){let J=D;p[O]!==""&&(J+="="+wi(p[O])),a.push(J)}}return this.i=a.join("&")};function Gf(a){const h=new xi;return h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),h}function Es(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function My(a,h){h&&!a.j&&(Or(a),a.i=null,a.g.forEach(function(p,_){const D=_.toLowerCase();_!=D&&(Ff(this,_),jf(this,D,p))},a)),a.j=h}function Oy(a,h){const p=new bi;if(o.Image){const _=new Image;_.onload=f(Zn,p,"TestLoadImage: loaded",!0,h,_),_.onerror=f(Zn,p,"TestLoadImage: error",!1,h,_),_.onabort=f(Zn,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=f(Zn,p,"TestLoadImage: timeout",!1,h,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function Ly(a,h){const p=new bi,_=new AbortController,D=setTimeout(()=>{_.abort(),Zn(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(O=>{clearTimeout(D),O.ok?Zn(p,"TestPingServer: ok",!0,h):Zn(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Zn(p,"TestPingServer: error",!1,h)})}function Zn(a,h,p,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(p)}catch{}}function Fy(){this.g=new ve}function fl(a){this.i=a.Sb||null,this.h=a.ab||!1}d(fl,qe),fl.prototype.g=function(){return new ra(this.i,this.h)};function ra(a,h){Y.call(this),this.H=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(ra,Y),n=ra.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=h,this.readyState=1,Ni(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(h.body=a),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hf(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hf(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Di(this):Ni(this),this.readyState==3&&Hf(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,Di(this))},n.Na=function(a){this.g&&(this.response=a,Di(this))},n.ga=function(){this.g&&Di(this)};function Di(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ni(a)}n.setRequestHeader=function(a,h){this.A.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Ni(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Kf(a){let h="";return ye(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function dl(a,h,p){t:{for(_ in p){var _=!1;break t}_=!0}_||(p=Kf(p),typeof a=="string"?p!=null&&wi(p):Kt(a,h,p))}function Wt(a){Y.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Wt,Y);var By=/^https?$/i,Uy=["POST","PUT"];n=Wt.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wf.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(O){qf(this,O);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)p.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())p.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),D=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Uy,h,void 0)>=0)||_||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,J]of p)this.g.setRequestHeader(O,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){qf(this,O)}};function qf(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.o=5,zf(a),sa(a)}function zf(a){a.A||(a.A=!0,Q(a,"complete"),Q(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Q(this,"complete"),Q(this,"abort"),sa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sa(this,!0)),Wt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Qf(this):this.Xa())},n.Xa=function(){Qf(this)};function Qf(a){if(a.h&&typeof i<"u"){if(a.v&&$n(a)==4)setTimeout(a.Ca.bind(a),0);else if(Q(a,"readystatechange"),$n(a)==4){a.h=!1;try{const O=a.ca();t:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var p;if(!(p=h)){var _;if(_=O===0){let J=String(a.D).match(Of)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),_=!By.test(J?J.toLowerCase():"")}p=_}if(p)Q(a,"complete"),Q(a,"success");else{a.o=6;try{var D=$n(a)>2?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.ca()+"]",zf(a)}}finally{sa(a)}}}}function sa(a,h){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const p=a.g;a.g=null,h||Q(a,"ready");try{p.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}n.ca=function(){try{return $n(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Ae(h)}};function Wf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function jy(a){const h={};a=(a.g&&$n(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(v(a[_]))continue;var p=wy(a[_]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[D]||[];h[D]=O,O.push(p)}Ke(h,function(_){return _.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Yf(a){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,a),this.Za=ki("retryDelaySeedMs",1e4,a),this.Ta=ki("forwardChannelMaxRetries",2,a),this.va=ki("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new xf(a&&a.concurrentRequestLimit),this.Ba=new Fy,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Yf.prototype,n.ka=8,n.I=1,n.connect=function(a,h,p,_){xe(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.J=sd(this,null,this.W),oa(this)};function pl(a){if(Xf(a),a.I==3){var h=a.V++,p=gn(a.J);if(Kt(p,"SID",a.M),Kt(p,"RID",h),Kt(p,"TYPE","terminate"),Mi(a,p),h=new Xn(a,a.j,h),h.M=2,h.A=na(gn(p)),p=!1,o.navigator&&o.navigator.sendBeacon)try{p=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!p&&o.Image&&(new Image().src=h.A,p=!0),p||(h.g=id(h.j,null),h.g.ea(h.A)),h.F=Date.now(),ea(h)}rd(a)}function ia(a){a.g&&(ml(a),a.g.cancel(),a.g=null)}function Xf(a){ia(a),a.v&&(o.clearTimeout(a.v),a.v=null),aa(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function oa(a){if(!Df(a.h)&&!a.m){a.m=!0;var h=a.Ea;tt||A(),rt||(tt(),rt=!0),I.add(h,a),a.D=0}}function Gy(a,h){return Nf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=h.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ti(u(a.Ea,a,h),nd(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const D=new Xn(this,this.j,a);let O=this.o;if(this.U&&(O?(O=Ve(O),sn(O,this.U)):O=this.U),this.u!==null||this.R||(D.J=O,O=null),this.S)t:{for(var h=0,p=0;p<this.i.length;p++){e:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(h+=_,h>4096){h=p;break t}if(h===4096||p===this.i.length-1){h=p+1;break t}}h=1e3}else h=1e3;h=Zf(this,D,h),p=gn(this.J),Kt(p,"RID",a),Kt(p,"CVER",22),this.G&&Kt(p,"X-HTTP-Session-Id",this.G),Mi(this,p),O&&(this.R?h="headers="+wi(Kf(O))+"&"+h:this.u&&dl(p,this.u,O)),ul(this.h,D),this.Ra&&Kt(p,"TYPE","init"),this.S?(Kt(p,"$req",h),Kt(p,"SID","null"),D.U=!0,ol(D,p,null)):ol(D,p,h),this.I=2}}else this.I==3&&(a?Jf(this,a):this.i.length==0||Df(this.h)||Jf(this))};function Jf(a,h){var p;h?p=h.l:p=a.V++;const _=gn(a.J);Kt(_,"SID",a.M),Kt(_,"RID",p),Kt(_,"AID",a.K),Mi(a,_),a.u&&a.o&&dl(_,a.u,a.o),p=new Xn(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),h&&(a.i=h.G.concat(a.i)),h=Zf(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ul(a.h,p),ol(p,_,h)}function Mi(a,h){a.H&&ye(a.H,function(p,_){Kt(h,_,p)}),a.l&&ye({},function(p,_){Kt(h,_,p)})}function Zf(a,h,p){p=Math.min(a.i.length,p);const _=a.l?u(a.l.Ka,a.l,a):null;t:{var D=a.i;let yt=-1;for(;;){const ie=["count="+p];yt==-1?p>0?(yt=D[0].g,ie.push("ofs="+yt)):yt=0:ie.push("ofs="+yt);let Ft=!0;for(let ue=0;ue<p;ue++){var O=D[ue].g;const mn=D[ue].map;if(O-=yt,O<0)yt=Math.max(0,D[ue].g-100),Ft=!1;else try{O="req"+O+"_"||"";try{var J=mn instanceof Map?mn:Object.entries(mn);for(const[Fr,tr]of J){let er=tr;c(tr)&&(er=Ct(tr)),ie.push(O+Fr+"="+encodeURIComponent(er))}}catch(Fr){throw ie.push(O+"type="+encodeURIComponent("_badmap")),Fr}}catch{_&&_(mn)}}if(Ft){J=ie.join("&");break t}}J=void 0}return a=a.i.splice(0,p),h.G=a,J}function $f(a){if(!a.g&&!a.v){a.Y=1;var h=a.Da;tt||A(),rt||(tt(),rt=!0),I.add(h,a),a.A=0}}function gl(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ti(u(a.Da,a),nd(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,td(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ti(u(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xe(10),ia(this),td(this))};function ml(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function td(a){a.g=new Xn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var h=gn(a.na);Kt(h,"RID","rpc"),Kt(h,"SID",a.M),Kt(h,"AID",a.K),Kt(h,"CI",a.F?"0":"1"),!a.F&&a.ia&&Kt(h,"TO",a.ia),Kt(h,"TYPE","xmlhttp"),Mi(a,h),a.u&&a.o&&dl(h,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=na(gn(h)),p.u=null,p.R=!0,Sf(p,a)}n.Va=function(){this.C!=null&&(this.C=null,ia(this),gl(this),xe(19))};function aa(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function ed(a,h){var p=null;if(a.g==h){aa(a),ml(a),a.g=null;var _=2}else if(ll(a.h,h))p=h.G,kf(a.h,h),_=1;else return;if(a.I!=0){if(h.o)if(_==1){p=h.u?h.u.length:0,h=Date.now()-h.F;var D=a.D;_=kr(),Q(_,new Tf(_,p)),oa(a)}else $f(a);else if(D=h.m,D==3||D==0&&h.X>0||!(_==1&&Gy(a,h)||_==2&&gl(a)))switch(p&&p.length>0&&(h=a.h,h.i=h.i.concat(p)),D){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function nd(a,h){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*h}function Lr(a,h){if(a.j.info("Error code "+h),h==2){var p=u(a.bb,a),_=a.Ua;const D=!_;_=new Jn(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ci(_,"https"),na(_),D?Oy(_.toString(),p):Ly(_.toString(),p)}else xe(2);a.I=0,a.l&&a.l.pa(h),rd(a),Xf(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function rd(a){if(a.I=0,a.ja=[],a.l){const h=Mf(a.h);(h.length!=0||a.i.length!=0)&&(C(a.ja,h),C(a.ja,a.i),a.h.i.length=0,m(a.i),a.i.length=0),a.l.oa()}}function sd(a,h,p){var _=p instanceof Jn?gn(p):new Jn(p);if(_.g!="")h&&(_.g=h+"."+_.g),Si(_,_.u);else{var D=o.location;_=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;const O=new Jn(null);_&&Ci(O,_),h&&(O.g=h),D&&Si(O,D),p&&(O.h=p),_=O}return p=a.G,h=a.wa,p&&h&&Kt(_,p,h),Kt(_,"VER",a.ka),Mi(a,_),_}function id(a,h,p){if(h&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Aa&&!a.ma?new Wt(new fl({ab:p})):new Wt(a.ma),h.Fa(a.L),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function od(){}n=od.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ca(){}ca.prototype.g=function(a,h){return new Qe(a,h)};function Qe(a,h){Y.call(this),this.g=new Yf(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(a?a["X-WebChannel-Client-Profile"]=h.sa:a={"X-WebChannel-Client-Profile":h.sa}),this.g.U=a,(a=h&&h.Qb)&&!v(a)&&(this.g.u=a),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.G=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Is(this)}d(Qe,Y),Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){pl(this.g)},Qe.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=Ct(a),a=p);h.i.push(new Sy(h.Ya++,a)),h.I==3&&oa(h)},Qe.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Qe.Z.N.call(this)};function ad(a){As.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){t:{for(const p in h){a=p;break t}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}d(ad,As);function cd(){pe.call(this),this.status=1}d(cd,pe);function Is(a){this.g=a}d(Is,od),Is.prototype.ra=function(){Q(this.g,"a")},Is.prototype.qa=function(a){Q(this.g,new ad(a))},Is.prototype.pa=function(a){Q(this.g,new cd)},Is.prototype.oa=function(){Q(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,q1=function(){return new ca},K1=function(){return kr()},H1=le,Au={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,Pa=ta,bf.COMPLETE="complete",G1=bf,ze.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",Y.prototype.listen=Y.prototype.J,Qi=ze,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,j1=Wt}).apply(typeof ga<"u"?ga:typeof self<"u"?self:typeof window<"u"?window:{});const yp="@firebase/firestore",Ap="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ie.UNAUTHENTICATED=new Ie(null),Ie.GOOGLE_CREDENTIALS=new Ie("google-credentials-uid"),Ie.FIRST_PARTY=new Ie("first-party-uid"),Ie.MOCK_USER=new Ie("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new x1("@firebase/firestore");function Ns(){return ls.logLevel}function z(n,...t){if(ls.logLevel<=wt.DEBUG){const e=t.map(Eh);ls.debug(`Firestore (${gi}): ${n}`,...e)}}function Zt(n,...t){if(ls.logLevel<=wt.ERROR){const e=t.map(Eh);ls.error(`Firestore (${gi}): ${n}`,...e)}}function Vo(n,...t){if(ls.logLevel<=wt.WARN){const e=t.map(Eh);ls.warn(`Firestore (${gi}): ${n}`,...e)}}function Eh(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,z1(n,r,e)}function z1(n,t,e){let r=`FIRESTORE (${gi}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Zt(r),new Error(r)}function ct(n,t,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,n||z1(t,s,r)}function ot(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends _s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class o6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Ie.UNAUTHENTICATED)))}shutdown(){}}class a6{constructor(t){this.t=t,this.currentUser=Ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ct(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let i=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yr,t.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const l=i;t.enqueueRetryable((async()=>{await l.promise,await s(this.currentUser)}))},c=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>c(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yr)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string",31837,{l:r}),new i6(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ct(t===null||typeof t=="string",2055,{h:t}),new Ie(t)}}class c6{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Ie.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class l6{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new c6(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Ie.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u6{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,M1(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ct(this.o===void 0,3512);const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>r(i)))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ct(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new vp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=h6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<e&&(r+=t.charAt(s[i]%62))}return r}}function gt(n,t){return n<t?-1:n>t?1:0}function vu(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const s=n.charAt(r),i=t.charAt(r);if(s!==i)return Gl(s)===Gl(i)?gt(s,i):Gl(s)?1:-1}return gt(n.length,t.length)}const f6=55296,d6=57343;function Gl(n){const t=n.charCodeAt(0);return t>=f6&&t<=d6}function Xs(n,t,e){return n.length===t.length&&n.every(((r,s)=>e(r,t[s])))}function Q1(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="__name__";class vn{constructor(t,e,r){e===void 0?e=0:e>t.length&&it(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&it(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return vn.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vn?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let s=0;s<r;s++){const i=vn.compareSegments(t.get(s),e.get(s));if(i!==0)return i}return gt(t.length,e.length)}static compareSegments(t,e){const r=vn.isNumericId(t),s=vn.isNumericId(e);return r&&!s?-1:!r&&s?1:r&&s?vn.extractNumericId(t).compare(vn.extractNumericId(e)):vu(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _r.fromString(t.substring(4,t.length-2))}}class Vt extends vn{construct(t,e,r){return new Vt(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((s=>s.length>0)))}return new Vt(e)}static emptyPath(){return new Vt([])}}const p6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends vn{construct(t,e,r){return new Qt(t,e,r)}static isValidIdentifier(t){return p6.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ep}static keyField(){return new Qt([Ep])}static fromServerFormat(t){const e=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;s<t.length;){const c=t[s];if(c==="\\"){if(s+1===t.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(i(),s++)}if(i(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qt(e)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Vt.fromString(t))}static fromName(t){return new Z(Vt.fromString(t).popFirst(5))}static empty(){return new Z(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Vt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Vt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Vt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n,t,e){if(!e)throw new X(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function g6(n,t,e,r){if(t===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ip(n){if(!Z.isDocumentKey(n))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tp(n){if(Z.isDocumentKey(n))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":it(12329,{type:typeof n})}function ns(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Mc(n);throw new X(F.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(n,t){const e={typeString:n};return t&&(e.value=t),e}function zo(n,t){if(!Y1(n))throw new X(F.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const o=n[r];if(s&&typeof o!==s){e=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){e=`Expected '${r}' field to equal '${i.value}'`;break}}if(e)throw new X(F.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-62135596800,wp=1e6;class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(t){return kt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*wp);return new kt(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<bp)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wp}_compareTo(t){return this.seconds===t.seconds?gt(this.nanoseconds,t.nanoseconds):gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zo(t,kt._jsonSchema))return new kt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:ne("string",kt._jsonSchemaVersion),seconds:ne("number"),nanoseconds:ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static fromTimestamp(t){return new lt(t)}static min(){return new lt(new kt(0,0))}static max(){return new lt(new kt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=-1;class tc{constructor(t,e,r,s){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=s}}function Eu(n){return n.fields.find((t=>t.kind===2))}function zr(n){return n.fields.filter((t=>t.kind!==2))}tc.UNKNOWN_ID=-1;class Va{constructor(t,e){this.fieldPath=t,this.kind=e}}class xo{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new xo(0,tn.min())}}function X1(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=lt.fromTimestamp(r===1e9?new kt(e+1,0):new kt(e,r));return new tn(s,Z.empty(),t)}function J1(n){return new tn(n.readTime,n.key,Js)}class tn{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new tn(lt.min(),Z.empty(),Js)}static max(){return new tn(lt.max(),Z.empty(),Js)}}function Th(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Z.comparator(n.documentKey,t.documentKey),e!==0?e:gt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pr(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==Z1)throw n;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new V(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(r,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof V?e:V.resolve(e)}catch(e){return V.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):V.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):V.reject(e)}static resolve(t){return new V(((e,r)=>{e(t)}))}static reject(t){return new V(((e,r)=>{r(t)}))}static waitFor(t){return new V(((e,r)=>{let s=0,i=0,o=!1;t.forEach((c=>{++s,c.next((()=>{++i,o&&i===s&&e()}),(l=>r(l)))})),o=!0,i===s&&e()}))}static or(t){let e=V.resolve(!1);for(const r of t)e=e.next((s=>s?V.resolve(s):r()));return e}static forEach(t,e){const r=[];return t.forEach(((s,i)=>{r.push(e.call(this,s,i))})),this.waitFor(r)}static mapArray(t,e){return new V(((r,s)=>{const i=t.length,o=new Array(i);let c=0;for(let l=0;l<i;l++){const u=l;e(t[u]).next((f=>{o[u]=f,++c,c===i&&r(o)}),(f=>s(f)))}}))}static doWhile(t,e){return new V(((r,s)=>{const i=()=>{t()===!0?e().next((()=>{i()}),s):r()};i()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="SimpleDb";class Oc{static open(t,e,r,s){try{return new Oc(e,t.transaction(s,r))}catch(i){throw new ao(e,i)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new yr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new ao(t,e.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=bh(r.target.error);this.S.reject(new ao(t,s))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(z(Ye,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new _6(e)}}class Ar{static delete(t){return z(Ye,"Removing database:",t),Yr(T1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!P1())return!1;if(Ar.F())return!0;const t=Ja(),e=Ar.M(t),r=0<e&&e<10,s=t0(t),i=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,e,r){this.name=t,this.version=e,this.N=r,this.B=null,Ar.M(Ja())===12.2&&Zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(z(Ye,"Opening database:",this.name),this.db=await new Promise(((e,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;e(o)},s.onblocked=()=>{r(new ao(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new X(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ao(t,o))},s.onupgradeneeded=i=>{z(Ye,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next((()=>{z(Ye,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(t){this.q=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,r,s){const i=e==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(t);const c=Oc.open(this.db,t,i?"readonly":"readwrite",r),l=s(c).next((u=>(c.C(),u))).catch((u=>(c.abort(u),V.reject(u)))).toPromise();return l.catch((()=>{})),await c.D,l}catch(c){const l=c,u=l.name!=="FirebaseError"&&o<3;if(z(Ye,"Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function t0(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class m6{constructor(t){this.U=t,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(t){this.U=t}done(){this.K=!0}j(t){this.W=t}delete(){return Yr(this.U.delete())}}class ao extends X{constructor(t,e){super(F.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Vr(n){return n.name==="IndexedDbTransactionError"}class _6{constructor(t){this.store=t}put(t,e){let r;return e!==void 0?(z(Ye,"PUT",this.store.name,t,e),r=this.store.put(e,t)):(z(Ye,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Yr(r)}add(t){return z(Ye,"ADD",this.store.name,t,t),Yr(this.store.add(t))}get(t){return Yr(this.store.get(t)).next((e=>(e===void 0&&(e=null),z(Ye,"GET",this.store.name,t,e),e)))}delete(t){return z(Ye,"DELETE",this.store.name,t),Yr(this.store.delete(t))}count(){return z(Ye,"COUNT",this.store.name),Yr(this.store.count())}J(t,e){const r=this.options(t,e),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new V(((o,c)=>{i.onerror=l=>{c(l.target.error)},i.onsuccess=l=>{o(l.target.result)}}))}{const i=this.cursor(r),o=[];return this.H(i,((c,l)=>{o.push(l)})).next((()=>o))}}Y(t,e){const r=this.store.getAll(t,e===null?void 0:e);return new V(((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}}))}Z(t,e){z(Ye,"DELETE ALL",this.store.name);const r=this.options(t,e);r.X=!1;const s=this.cursor(r);return this.H(s,((i,o,c)=>c.delete()))}ee(t,e){let r;e?r=t:(r={},e=t);const s=this.cursor(r);return this.H(s,e)}te(t){const e=this.cursor({});return new V(((r,s)=>{e.onerror=i=>{const o=bh(i.target.error);s(o)},e.onsuccess=i=>{const o=i.target.result;o?t(o.primaryKey,o.value).next((c=>{c?o.continue():r()})):r()}}))}H(t,e){const r=[];return new V(((s,i)=>{t.onerror=o=>{i(o.target.error)},t.onsuccess=o=>{const c=o.target.result;if(!c)return void s();const l=new m6(c),u=e(c.primaryKey,c.value,l);if(u instanceof V){const f=u.catch((d=>(l.done(),V.reject(d))));r.push(f)}l.isDone?s():l.G===null?c.continue():c.continue(l.G)}})).next((()=>V.waitFor(r)))}options(t,e){let r;return t!==void 0&&(typeof t=="string"?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.X?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Yr(n){return new V(((t,e)=>{n.onsuccess=r=>{const s=r.target.result;t(s)},n.onerror=r=>{const s=bh(r.target.error);e(s)}}))}let Rp=!1;function bh(n){const t=Ar.M(Ja());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rp||(Rp=!0,setTimeout((()=>{throw r}),0)),r}}return n}const co="IndexBackfiller";class y6{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){z(co,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();z(co,`Documents written: ${e}`)}catch(e){Vr(e)?z(co,"Ignoring IndexedDB error during index backfill: ",e):await Pr(e)}await this.re(6e4)}))}}class A6{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const r=new Set;let s=e,i=!0;return V.doWhile((()=>i===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((o=>{if(o!==null&&!r.has(o))return z(co,`Processing collection: ${o}`),this.oe(t,o,s).next((c=>{s-=c,r.add(o)}));i=!1})))).next((()=>e-s))}oe(t,e,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((s=>this.localStore.localDocuments.getNextDocuments(t,e,s,r).next((i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next((()=>this._e(s,i))).next((c=>(z(co,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(t,e,c)))).next((()=>o.size))}))))}_e(t,e){let r=t;return e.changes.forEach(((s,i)=>{const o=J1(i);Th(o,r)>0&&(r=o)})),new tn(r.readTime,r.documentKey,Math.max(e.batchId,t.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ge.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=-1;function Lc(n){return n==null}function Do(n){return n===0&&1/n==-1/0}function e0(n){return typeof n=="number"&&Number.isInteger(n)&&!Do(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="";function Pe(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Cp(t)),t=v6(n.get(e),t);return Cp(t)}function v6(n,t){let e=t;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":e+="";break;case ec:e+="";break;default:e+=i}}return e}function Cp(n){return n+ec+""}function Tn(n){const t=n.length;if(ct(t>=2,64408,{path:n}),t===2)return ct(n.charAt(0)===ec&&n.charAt(1)==="",56145,{path:n}),Vt.emptyPath();const e=t-2,r=[];let s="";for(let i=0;i<t;){const o=n.indexOf(ec,i);switch((o<0||o>e)&&it(50515,{path:n}),n.charAt(o+1)){case"":const c=n.substring(i,o);let l;s.length===0?l=c:(s+=c,l=s,s=""),r.push(l);break;case"":s+=n.substring(i,o),s+="\0";break;case"":s+=n.substring(i,o+1);break;default:it(61167,{path:n})}i=o+2}return new Vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="remoteDocuments",Qo="owner",bs="owner",No="mutationQueues",E6="userId",an="mutations",Sp="batchId",ts="userMutationsIndex",Pp=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n,t){return[n,Pe(t)]}function n0(n,t,e){return[n,Pe(t),e]}const I6={},Zs="documentMutations",nc="remoteDocumentsV14",T6=["prefixPath","collectionGroup","readTime","documentId"],Da="documentKeyIndex",b6=["prefixPath","collectionGroup","documentId"],r0="collectionGroupIndex",w6=["collectionGroup","readTime","prefixPath","documentId"],ko="remoteDocumentGlobal",Iu="remoteDocumentGlobalKey",$s="targets",s0="queryTargetsIndex",R6=["canonicalId","targetId"],ti="targetDocuments",C6=["targetId","path"],wh="documentTargetsIndex",S6=["path","targetId"],rc="targetGlobalKey",ss="targetGlobal",Mo="collectionParents",P6=["collectionId","parent"],ei="clientMetadata",V6="clientId",Fc="bundles",x6="bundleId",Bc="namedQueries",D6="name",Rh="indexConfiguration",N6="indexId",Tu="collectionGroupIndex",k6="collectionGroup",lo="indexState",M6=["indexId","uid"],i0="sequenceNumberIndex",O6=["uid","sequenceNumber"],uo="indexEntries",L6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],o0="documentKeyIndex",F6=["indexId","uid","orderedDocumentKey"],Uc="documentOverlays",B6=["userId","collectionPath","documentId"],bu="collectionPathOverlayIndex",U6=["userId","collectionPath","largestBatchId"],a0="collectionGroupOverlayIndex",j6=["userId","collectionGroup","largestBatchId"],Ch="globals",G6="name",c0=[No,an,Zs,Qr,$s,Qo,ss,ti,ei,ko,Mo,Fc,Bc],H6=[...c0,Uc],l0=[No,an,Zs,nc,$s,Qo,ss,ti,ei,ko,Mo,Fc,Bc,Uc],u0=l0,Sh=[...u0,Rh,lo,uo],K6=Sh,h0=[...Sh,Ch],q6=h0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends $1{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function ae(n,t){const e=ot(n);return Ar.O(e.le,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function xr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function f0(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,e){this.comparator=t,this.root=e||me.EMPTY}insert(t,e){return new Ht(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,me.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,me.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return e+r.left.size;s<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ma(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ma(this.root,t,this.comparator,!1)}getReverseIterator(){return new ma(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ma(this.root,t,this.comparator,!0)}}class ma{constructor(t,e,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?r(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class me{constructor(t,e,r,s,i){this.key=t,this.value=e,this.color=r??me.RED,this.left=s??me.EMPTY,this.right=i??me.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,s,i){return new me(t??this.key,e??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,r),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return me.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return me.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw it(27949);return t+(this.isRed()?0:1)}}me.EMPTY=null,me.RED=!0,me.BLACK=!1;me.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(t,e,r,s,i){return this}insert(t,e,r){return new me(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new xp(this.data.getIterator())}getIteratorFrom(t){return new xp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ot)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ot(this.comparator);return e.data=t,e}}class xp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ws(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.fields=t,t.sort(Qt.comparator)}static empty(){return new He([])}unionWith(t){let e=new Ot(Qt.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new He(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Xs(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new d0("Invalid base64 string: "+i):i}})(t);return new te(e)}static fromUint8Array(t){const e=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(t);return new te(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}te.EMPTY_BYTE_STRING=new te("");const z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(n){if(ct(!!n,39018),typeof n=="string"){let t=0;const e=z6.exec(n);if(ct(!!e,46558,{timestamp:n}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qn(n){return typeof n=="string"?te.fromBase64String(n):te.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="server_timestamp",g0="__type__",m0="__previous_value__",_0="__local_write_time__";function Ph(n){return(n?.mapValue?.fields||{})[g0]?.stringValue===p0}function jc(n){const t=n.mapValue.fields[m0];return Ph(t)?jc(t):t}function Oo(n){const t=Kn(n.mapValue.fields[_0].timestampValue);return new kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,e,r,s,i,o,c,l,u,f){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const sc="(default)";class us{constructor(t,e){this.projectId=t,this.database=e||sc}static empty(){return new us("","")}get isDefaultDatabase(){return this.database===sc}isEqual(t){return t instanceof us&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="__type__",y0="__max__",fr={mapValue:{fields:{__type__:{stringValue:y0}}}},xh="__vector__",ni="value",Na={nullValue:"NULL_VALUE"};function br(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ph(n)?4:A0(n)?9007199254740991:Gc(n)?10:11:it(28295,{value:n})}function Sn(n,t){if(n===t)return!0;const e=br(n);if(e!==br(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Oo(n).isEqual(Oo(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kn(s.timestampValue),c=Kn(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(s,i){return qn(s.bytesValue).isEqual(qn(i.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(s,i){return zt(s.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(s.geoPointValue.longitude)===zt(i.geoPointValue.longitude)})(n,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return zt(s.integerValue)===zt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=zt(s.doubleValue),c=zt(i.doubleValue);return o===c?Do(o)===Do(c):isNaN(o)&&isNaN(c)}return!1})(n,t);case 9:return Xs(n.arrayValue.values||[],t.arrayValue.values||[],Sn);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Vp(o)!==Vp(c))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Sn(o[l],c[l])))return!1;return!0})(n,t);default:return it(52216,{left:n})}}function Lo(n,t){return(n.values||[]).find((e=>Sn(e,t)))!==void 0}function wr(n,t){if(n===t)return 0;const e=br(n),r=br(t);if(e!==r)return gt(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return gt(n.booleanValue,t.booleanValue);case 2:return(function(i,o){const c=zt(i.integerValue||i.doubleValue),l=zt(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1})(n,t);case 3:return Dp(n.timestampValue,t.timestampValue);case 4:return Dp(Oo(n),Oo(t));case 5:return vu(n.stringValue,t.stringValue);case 6:return(function(i,o){const c=qn(i),l=qn(o);return c.compareTo(l)})(n.bytesValue,t.bytesValue);case 7:return(function(i,o){const c=i.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){const f=gt(c[u],l[u]);if(f!==0)return f}return gt(c.length,l.length)})(n.referenceValue,t.referenceValue);case 8:return(function(i,o){const c=gt(zt(i.latitude),zt(o.latitude));return c!==0?c:gt(zt(i.longitude),zt(o.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return Np(n.arrayValue,t.arrayValue);case 10:return(function(i,o){const c=i.fields||{},l=o.fields||{},u=c[ni]?.arrayValue,f=l[ni]?.arrayValue,d=gt(u?.values?.length||0,f?.values?.length||0);return d!==0?d:Np(u,f)})(n.mapValue,t.mapValue);case 11:return(function(i,o){if(i===fr.mapValue&&o===fr.mapValue)return 0;if(i===fr.mapValue)return 1;if(o===fr.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const g=vu(l[d],f[d]);if(g!==0)return g;const m=wr(c[l[d]],u[f[d]]);if(m!==0)return m}return gt(l.length,f.length)})(n.mapValue,t.mapValue);default:throw it(23264,{he:e})}}function Dp(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return gt(n,t);const e=Kn(n),r=Kn(t),s=gt(e.seconds,r.seconds);return s!==0?s:gt(e.nanos,r.nanos)}function Np(n,t){const e=n.values||[],r=t.values||[];for(let s=0;s<e.length&&s<r.length;++s){const i=wr(e[s],r[s]);if(i)return i}return gt(e.length,r.length)}function ri(n){return Ru(n)}function Ru(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Kn(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return qn(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Z.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",s=!0;for(const i of e.values||[])s?s=!1:r+=",",r+=Ru(i);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ru(e.fields[o])}`;return s+"}"})(n.mapValue):it(61005,{value:n})}function ka(n){switch(br(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jc(n);return t?16+ka(t):16;case 5:return 2*n.stringValue.length;case 6:return qn(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+ka(i)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return xr(r.fields,((i,o)=>{s+=i.length+ka(o)})),s})(n.mapValue);default:throw it(13486,{value:n})}}function Fo(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Cu(n){return!!n&&"integerValue"in n}function Bo(n){return!!n&&"arrayValue"in n}function kp(n){return!!n&&"nullValue"in n}function Mp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ma(n){return!!n&&"mapValue"in n}function Gc(n){return(n?.mapValue?.fields||{})[Vh]?.stringValue===xh}function ho(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return xr(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=ho(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ho(n.arrayValue.values[e]);return t}return{...n}}function A0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===y0}const v0={mapValue:{fields:{[Vh]:{stringValue:xh},[ni]:{arrayValue:{}}}}};function W6(n){return"nullValue"in n?Na:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fo(us.empty(),Z.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Gc(n)?v0:{mapValue:{}}:it(35942,{value:n})}function Y6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fo(us.empty(),Z.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?v0:"mapValue"in n?Gc(n)?{mapValue:{}}:fr:it(61959,{value:n})}function Op(n,t){const e=wr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function Lp(n,t){const e=wr(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.value=t}static empty(){return new Re({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Ma(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ho(e)}setAll(t){let e=Qt.emptyPath(),r={},s=[];t.forEach(((o,c)=>{if(!e.isImmediateParentOf(c)){const l=this.getFieldsMap(e);this.applyChanges(l,r,s),r={},s=[],e=c.popLast()}o?r[c.lastSegment()]=ho(o):s.push(c.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,r,s)}delete(t){const e=this.field(t.popLast());Ma(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Sn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=e.mapValue.fields[t.get(r)];Ma(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,r){xr(e,((s,i)=>t[s]=i));for(const s of r)delete t[s]}clone(){return new Re(ho(this.value))}}function E0(n){const t=[];return xr(n.fields,((e,r)=>{const s=new Qt([e]);if(Ma(r)){const i=E0(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)})),new He(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,e,r,s,i,o,c){this.key=t,this.documentType=e,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(t){return new Jt(t,0,lt.min(),lt.min(),lt.min(),Re.empty(),0)}static newFoundDocument(t,e,r,s){return new Jt(t,1,e,lt.min(),r,s,0)}static newNoDocument(t,e){return new Jt(t,2,e,lt.min(),lt.min(),Re.empty(),0)}static newUnknownDocument(t,e){return new Jt(t,3,e,lt.min(),lt.min(),Re.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Re.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Re.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,e){this.position=t,this.inclusive=e}}function Fp(n,t,e){let r=0;for(let s=0;s<n.position.length;s++){const i=t[s],o=n.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),e.key):r=wr(o,e.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bp(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Sn(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,e="asc"){this.field=t,this.dir=e}}function X6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{}class Tt extends I0{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new J6(t,e,r):e==="array-contains"?new tT(t,r):e==="in"?new S0(t,r):e==="not-in"?new eT(t,r):e==="array-contains-any"?new nT(t,r):new Tt(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new Z6(t,r):new $6(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(wr(e,this.value)):e!==null&&br(this.value)===br(e)&&this.matchesComparison(wr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mt extends I0{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Mt(t,e)}matches(t){return ii(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ii(n){return n.op==="and"}function Su(n){return n.op==="or"}function Dh(n){return T0(n)&&ii(n)}function T0(n){for(const t of n.filters)if(t instanceof Mt)return!1;return!0}function Pu(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+ri(n.value);if(Dh(n))return n.filters.map((t=>Pu(t))).join(",");{const t=n.filters.map((e=>Pu(e))).join(",");return`${n.op}(${t})`}}function b0(n,t){return n instanceof Tt?(function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Sn(r.value,s.value)})(n,t):n instanceof Mt?(function(r,s){return s instanceof Mt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,o,c)=>i&&b0(o,s.filters[c])),!0):!1})(n,t):void it(19439)}function w0(n,t){const e=n.filters.concat(t);return Mt.create(e,n.op)}function R0(n){return n instanceof Tt?(function(e){return`${e.field.canonicalString()} ${e.op} ${ri(e.value)}`})(n):n instanceof Mt?(function(e){return e.op.toString()+" {"+e.getFilters().map(R0).join(" ,")+"}"})(n):"Filter"}class J6 extends Tt{constructor(t,e,r){super(t,e,r),this.key=Z.fromName(r.referenceValue)}matches(t){const e=Z.comparator(t.key,this.key);return this.matchesComparison(e)}}class Z6 extends Tt{constructor(t,e){super(t,"in",e),this.keys=C0("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class $6 extends Tt{constructor(t,e){super(t,"not-in",e),this.keys=C0("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function C0(n,t){return(t.arrayValue?.values||[]).map((e=>Z.fromName(e.referenceValue)))}class tT extends Tt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Bo(e)&&Lo(e.arrayValue,this.value)}}class S0 extends Tt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Lo(this.value.arrayValue,e)}}class eT extends Tt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Lo(this.value.arrayValue,e)}}class nT extends Tt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Bo(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Lo(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(t,e=null,r=[],s=[],i=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function Vu(n,t=null,e=[],r=[],s=null,i=null,o=null){return new rT(n,t,e,r,s,i,o)}function hs(n){const t=ot(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>Pu(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Lc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>ri(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>ri(r))).join(",")),t.Te=e}return t.Te}function Wo(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!X6(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!b0(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Bp(n.startAt,t.startAt)&&Bp(n.endAt,t.endAt)}function ic(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function oc(n,t){return n.filters.filter((e=>e instanceof Tt&&e.field.isEqual(t)))}function Up(n,t,e){let r=Na,s=!0;for(const i of oc(n,t)){let o=Na,c=!0;switch(i.op){case"<":case"<=":o=W6(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,c=!1;break;case"!=":case"not-in":o=Na}Op({value:r,inclusive:s},{value:o,inclusive:c})<0&&(r=o,s=c)}if(e!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(t)){const o=e.position[i];Op({value:r,inclusive:s},{value:o,inclusive:e.inclusive})<0&&(r=o,s=e.inclusive);break}}return{value:r,inclusive:s}}function jp(n,t,e){let r=fr,s=!0;for(const i of oc(n,t)){let o=fr,c=!0;switch(i.op){case">=":case">":o=Y6(i.value),c=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,c=!1;break;case"!=":case"not-in":o=fr}Lp({value:r,inclusive:s},{value:o,inclusive:c})>0&&(r=o,s=c)}if(e!==null){for(let i=0;i<n.orderBy.length;++i)if(n.orderBy[i].field.isEqual(t)){const o=e.position[i];Lp({value:r,inclusive:s},{value:o,inclusive:e.inclusive})>0&&(r=o,s=e.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,e=null,r=[],s=[],i=null,o="F",c=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function P0(n,t,e,r,s,i,o,c){return new mi(n,t,e,r,s,i,o,c)}function Hc(n){return new mi(n)}function Gp(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function V0(n){return n.collectionGroup!==null}function fo(n){const t=ot(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ot(Qt.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(c=c.add(u.field))}))})),c})(t).forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Uo(i,r))})),e.has(Qt.keyField().canonicalString())||t.Ie.push(new Uo(Qt.keyField(),r))}return t.Ie}function Ze(n){const t=ot(n);return t.Ee||(t.Ee=sT(t,fo(n))),t.Ee}function sT(n,t){if(n.limitType==="F")return Vu(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Uo(s.field,i)}));const e=n.endAt?new si(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new si(n.startAt.position,n.startAt.inclusive):null;return Vu(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function xu(n,t){const e=n.filters.concat([t]);return new mi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ac(n,t,e){return new mi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Kc(n,t){return Wo(Ze(n),Ze(t))&&n.limitType===t.limitType}function x0(n){return`${hs(Ze(n))}|lt:${n.limitType}`}function ks(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((s=>R0(s))).join(", ")}]`),Lc(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>ri(s))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>ri(s))).join(",")),`Target(${r})`})(Ze(n))}; limitType=${n.limitType})`}function Yo(n,t){return t.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(n,t)&&(function(r,s){for(const i of fo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(n,t)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(n,t)&&(function(r,s){return!(r.startAt&&!(function(o,c,l){const u=Fp(o,c,l);return o.inclusive?u<=0:u<0})(r.startAt,fo(r),s)||r.endAt&&!(function(o,c,l){const u=Fp(o,c,l);return o.inclusive?u>=0:u>0})(r.endAt,fo(r),s))})(n,t)}function D0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N0(n){return(t,e)=>{let r=!1;for(const s of fo(n)){const i=iT(s,t,e);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function iT(n,t,e){const r=n.field.isKeyField()?Z.comparator(t.key,e.key):(function(i,o,c){const l=o.data.field(i),u=c.data.field(i);return l!==null&&u!==null?wr(l,u):it(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[e]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,((e,r)=>{for(const[s,i]of r)t(s,i)}))}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Ht(Z.comparator);function Je(){return oT}const k0=new Ht(Z.comparator);function Wi(...n){let t=k0;for(const e of n)t=t.insert(e.key,e);return t}function M0(n){let t=k0;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function bn(){return po()}function O0(){return po()}function po(){return new Wn((n=>n.toString()),((n,t)=>n.isEqual(t)))}const aT=new Ht(Z.comparator),cT=new Ot(Z.comparator);function At(...n){let t=cT;for(const e of n)t=t.add(e);return t}const lT=new Ot(gt);function Nh(){return lT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Do(t)?"-0":t}}function L0(n){return{integerValue:""+n}}function uT(n,t){return e0(t)?L0(t):kh(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function hT(n,t,e){return n instanceof oi?(function(s,i){const o={fields:{[g0]:{stringValue:p0},[_0]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ph(i)&&(i=jc(i)),i&&(o.fields[m0]=i),{mapValue:o}})(e,t):n instanceof ai?B0(n,t):n instanceof ci?U0(n,t):(function(s,i){const o=F0(s,i),c=Hp(o)+Hp(s.Ae);return Cu(o)&&Cu(s.Ae)?L0(c):kh(s.serializer,c)})(n,t)}function fT(n,t,e){return n instanceof ai?B0(n,t):n instanceof ci?U0(n,t):e}function F0(n,t){return n instanceof jo?(function(r){return Cu(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(t)?t:{integerValue:0}:null}class oi extends qc{}class ai extends qc{constructor(t){super(),this.elements=t}}function B0(n,t){const e=j0(t);for(const r of n.elements)e.some((s=>Sn(s,r)))||e.push(r);return{arrayValue:{values:e}}}class ci extends qc{constructor(t){super(),this.elements=t}}function U0(n,t){let e=j0(t);for(const r of n.elements)e=e.filter((s=>!Sn(s,r)));return{arrayValue:{values:e}}}class jo extends qc{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Hp(n){return zt(n.integerValue||n.doubleValue)}function j0(n){return Bo(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,e){this.field=t,this.transform=e}}function dT(n,t){return n.field.isEqual(t.field)&&(function(r,s){return r instanceof ai&&s instanceof ai||r instanceof ci&&s instanceof ci?Xs(r.elements,s.elements,Sn):r instanceof jo&&s instanceof jo?Sn(r.Ae,s.Ae):r instanceof oi&&s instanceof oi})(n.transform,t.transform)}class pT{constructor(t,e){this.version=t,this.transformResults=e}}class Le{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Le}static exists(t){return new Le(void 0,t)}static updateTime(t){return new Le(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oa(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class zc{}function H0(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Qc(n.key,Le.none()):new _i(n.key,n.data,Le.none());{const e=n.data,r=Re.empty();let s=new Ot(Qt.comparator);for(let i of t.fields)if(!s.has(i)){let o=e.field(i);o===null&&i.length>1&&(i=i.popLast(),o=e.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yn(n.key,r,new He(s.toArray()),Le.none())}}function gT(n,t,e){n instanceof _i?(function(s,i,o){const c=s.value.clone(),l=qp(s.fieldTransforms,i,o.transformResults);c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,t,e):n instanceof Yn?(function(s,i,o){if(!Oa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const c=qp(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(K0(s)),l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(n,t,e):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,t,e)}function go(n,t,e,r){return n instanceof _i?(function(i,o,c,l){if(!Oa(i.precondition,o))return c;const u=i.value.clone(),f=zp(i.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(n,t,e,r):n instanceof Yn?(function(i,o,c,l){if(!Oa(i.precondition,o))return c;const u=zp(i.fieldTransforms,l,o),f=o.data;return f.setAll(K0(i)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((d=>d.field)))})(n,t,e,r):(function(i,o,c){return Oa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,t,e)}function mT(n,t){let e=null;for(const r of n.fieldTransforms){const s=t.data.field(r.field),i=F0(r.transform,s||null);i!=null&&(e===null&&(e=Re.empty()),e.set(r.field,i))}return e||null}function Kp(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Xs(r,s,((i,o)=>dT(i,o)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class _i extends zc{constructor(t,e,r,s=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yn extends zc{constructor(t,e,r,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function K0(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function qp(n,t,e){const r=new Map;ct(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let s=0;s<e.length;s++){const i=n[s],o=i.transform,c=t.data.field(i.field);r.set(i.field,fT(o,c,e[s]))}return r}function zp(n,t,e){const r=new Map;for(const s of n){const i=s.transform,o=e.data.field(s.field);r.set(s.field,hT(i,o,t))}return r}class Qc extends zc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q0 extends zc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,e,r,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&gT(i,t,r[s])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=go(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=go(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=O0();return this.mutations.forEach((s=>{const i=t.get(s.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=e.has(s.key)?null:c;const l=H0(o,c);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(lt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),At())}isEqual(t){return this.batchId===t.batchId&&Xs(this.mutations,t.mutations,((e,r)=>Kp(e,r)))&&Xs(this.baseMutations,t.baseMutations,((e,r)=>Kp(e,r)))}}class Oh{constructor(t,e,r,s){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=s}static from(t,e,r){ct(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let s=(function(){return aT})();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Oh(t,e,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee,bt;function yT(n){switch(n){case F.OK:return it(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return it(15467,{code:n})}}function z0(n){if(n===void 0)return Zt("GRPC error has no .code"),F.UNKNOWN;switch(n){case ee.OK:return F.OK;case ee.CANCELLED:return F.CANCELLED;case ee.UNKNOWN:return F.UNKNOWN;case ee.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ee.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ee.INTERNAL:return F.INTERNAL;case ee.UNAVAILABLE:return F.UNAVAILABLE;case ee.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ee.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ee.NOT_FOUND:return F.NOT_FOUND;case ee.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ee.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ee.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ee.ABORTED:return F.ABORTED;case ee.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ee.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ee.DATA_LOSS:return F.DATA_LOSS;default:return it(39323,{code:n})}}(bt=ee||(ee={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new _r([4294967295,4294967295],0);function Qp(n){const t=AT().encode(n),e=new U1;return e.update(t),new Uint8Array(e.digest())}function Wp(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new _r([e,r],0),new _r([s,i],0)]}class Fh{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Yi(`Invalid padding: ${e}`);if(r<0)throw new Yi(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Yi(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Yi(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=_r.fromNumber(this.ge)}ye(t,e,r){let s=t.add(e.multiply(_r.fromNumber(r)));return s.compare(vT)===1&&(s=new _r([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Qp(t),[r,s]=Wp(e);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(t,e,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Fh(i,s,e);return r.forEach((c=>o.insert(c))),o}insert(t){if(this.ge===0)return;const e=Qp(t),[r,s]=Wp(e);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Yi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,e,r,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const s=new Map;return s.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Xo(lt.min(),s,new Ht(gt),Je(),At())}}class Jo{constructor(t,e,r,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Jo(r,e,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,e,r,s){this.be=t,this.removedTargetIds=e,this.key=r,this.De=s}}class Q0{constructor(t,e){this.targetId=t,this.Ce=e}}class W0{constructor(t,e,r=te.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=s}}class Yp{constructor(){this.ve=0,this.Fe=Xp(),this.Me=te.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=At(),e=At(),r=At();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:r=r.add(s);break;default:it(38017,{changeType:i})}})),new Jo(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=Xp()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ET{constructor(t){this.Ge=t,this.ze=new Map,this.je=Je(),this.Je=_a(),this.He=_a(),this.Ye=new Ht(gt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:it(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,r=t.Ce.count,s=this.ot(e);if(s){const i=s.target;if(ic(i))if(r===0){const o=new Z(i.path);this.et(e,o,Jt.newNoDocument(o,lt.min()))}else ct(r===1,20013,{expectedCount:r});else{const o=this._t(e);if(o!==r){const c=this.ut(t),l=c?this.ct(c,t,o):1;if(l!==0){this.it(e);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,u)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=e;let o,c;try{o=qn(r).toUint8Array()}catch(l){if(l instanceof d0)return Vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Fh(o,s,i)}catch(l){return Vo(l instanceof Yi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.ge===0?null:c}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let s=0;return r.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(c)||(this.et(e,i,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&ic(c.target)){const l=new Z(c.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Jt.newNoDocument(l,t))}i.Be&&(e.set(o,i.ke()),i.qe())}}));let r=At();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(t)));const s=new Xo(t,e,this.Ye,this.je,r);return this.je=Je(),this.Je=_a(),this.He=_a(),this.Ye=new Ht(gt),s}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Yp,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ot(gt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ot(gt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||z("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Yp),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function _a(){return new Ht(Z.comparator)}function Xp(){return new Ht(Z.comparator)}const IT={asc:"ASCENDING",desc:"DESCENDING"},TT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bT={and:"AND",or:"OR"};class wT{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Du(n,t){return n.useProto3Json||Lc(t)?t:{value:t}}function li(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y0(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function RT(n,t){return li(n,t.toTimestamp())}function Fe(n){return ct(!!n,49232),lt.fromTimestamp((function(e){const r=Kn(e);return new kt(r.seconds,r.nanos)})(n))}function Bh(n,t){return Nu(n,t).canonicalString()}function Nu(n,t){const e=(function(s){return new Vt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return t===void 0?e:e.child(t)}function X0(n){const t=Vt.fromString(n);return ct(i_(t),10190,{key:t.toString()}),t}function cc(n,t){return Bh(n.databaseId,t.path)}function is(n,t){const e=X0(t);if(e.get(1)!==n.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Z($0(e))}function J0(n,t){return Bh(n.databaseId,t)}function Z0(n){const t=X0(n);return t.length===4?Vt.emptyPath():$0(t)}function ku(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $0(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Jp(n,t,e){return{name:cc(n,t),fields:e.value.mapValue.fields}}function CT(n,t,e){const r=is(n,t.name),s=Fe(t.updateTime),i=t.createTime?Fe(t.createTime):lt.min(),o=new Re({mapValue:{fields:t.fields}}),c=Jt.newFoundDocument(r,s,i,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function ST(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:it(39313,{state:u})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(u,f){return u.useProto3Json?(ct(f===void 0||typeof f=="string",58123),te.fromBase64String(f||"")):(ct(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),te.fromUint8Array(f||new Uint8Array))})(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&(function(u){const f=u.code===void 0?F.UNKNOWN:z0(u.code);return new X(f,u.message||"")})(o);e=new W0(r,s,i,c||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=is(n,r.document.name),i=Fe(r.document.updateTime),o=r.document.createTime?Fe(r.document.createTime):lt.min(),c=new Re({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(s,i,o,c),u=r.targetIds||[],f=r.removedTargetIds||[];e=new La(u,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=is(n,r.document),i=r.readTime?Fe(r.readTime):lt.min(),o=Jt.newNoDocument(s,i),c=r.removedTargetIds||[];e=new La([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=is(n,r.document),i=r.removedTargetIds||[];e=new La([],i,s,null)}else{if(!("filter"in t))return it(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new _T(s,i),c=r.targetId;e=new Q0(c,o)}}return e}function lc(n,t){let e;if(t instanceof _i)e={update:Jp(n,t.key,t.value)};else if(t instanceof Qc)e={delete:cc(n,t.key)};else if(t instanceof Yn)e={update:Jp(n,t.key,t.data),updateMask:kT(t.fieldMask)};else{if(!(t instanceof q0))return it(16599,{Vt:t.type});e={verify:cc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(i,o){const c=o.transform;if(c instanceof oi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ai)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ci)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jo)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw it(20930,{transform:o.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:RT(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:it(27497)})(n,t.precondition)),e}function Mu(n,t){const e=t.currentDocument?(function(i){return i.updateTime!==void 0?Le.updateTime(Fe(i.updateTime)):i.exists!==void 0?Le.exists(i.exists):Le.none()})(t.currentDocument):Le.none(),r=t.updateTransforms?t.updateTransforms.map((s=>(function(o,c){let l=null;if("setToServerValue"in c)ct(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),l=new oi;else if("appendMissingElements"in c){const f=c.appendMissingElements.values||[];l=new ai(f)}else if("removeAllFromArray"in c){const f=c.removeAllFromArray.values||[];l=new ci(f)}else"increment"in c?l=new jo(o,c.increment):it(16584,{proto:c});const u=Qt.fromServerFormat(c.fieldPath);return new G0(u,l)})(n,s))):[];if(t.update){t.update.name;const s=is(n,t.update.name),i=new Re({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=(function(l){const u=l.fieldPaths||[];return new He(u.map((f=>Qt.fromServerFormat(f))))})(t.updateMask);return new Yn(s,i,o,e,r)}return new _i(s,i,e,r)}if(t.delete){const s=is(n,t.delete);return new Qc(s,e)}if(t.verify){const s=is(n,t.verify);return new q0(s,e)}return it(1463,{proto:t})}function PT(n,t){return n&&n.length>0?(ct(t!==void 0,14353),n.map((e=>(function(s,i){let o=s.updateTime?Fe(s.updateTime):Fe(i);return o.isEqual(lt.min())&&(o=Fe(i)),new pT(o,s.transformResults||[])})(e,t)))):[]}function t_(n,t){return{documents:[J0(n,t.path)]}}function e_(n,t){const e={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=J0(n,s);const i=(function(u){if(u.length!==0)return s_(Mt.create(u,"and"))})(t.filters);i&&(e.structuredQuery.where=i);const o=(function(u){if(u.length!==0)return u.map((f=>(function(g){return{field:Ms(g.field),direction:xT(g.dir)}})(f)))})(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=Du(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(t.endAt)),{ft:e,parent:s}}function n_(n){let t=Z0(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let s=null;if(r>0){ct(r===1,65062);const f=e.from[0];f.allDescendants?s=f.collectionId:t=t.child(f.collectionId)}let i=[];e.where&&(i=(function(d){const g=r_(d);return g instanceof Mt&&Dh(g)?g.getFilters():[g]})(e.where));let o=[];e.orderBy&&(o=(function(d){return d.map((g=>(function(C){return new Uo(Os(C.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(g)))})(e.orderBy));let c=null;e.limit&&(c=(function(d){let g;return g=typeof d=="object"?d.value:d,Lc(g)?null:g})(e.limit));let l=null;e.startAt&&(l=(function(d){const g=!!d.before,m=d.values||[];return new si(m,g)})(e.startAt));let u=null;return e.endAt&&(u=(function(d){const g=!d.before,m=d.values||[];return new si(m,g)})(e.endAt)),P0(t,s,o,i,c,"F",l,u)}function VT(n,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function r_(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Os(e.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Os(e.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Os(e.unaryFilter.field);return Tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Os(e.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Tt.create(Os(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Mt.create(e.compositeFilter.filters.map((r=>r_(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return it(1026)}})(e.compositeFilter.op))})(n):it(30097,{filter:n})}function xT(n){return IT[n]}function DT(n){return TT[n]}function NT(n){return bT[n]}function Ms(n){return{fieldPath:n.canonicalString()}}function Os(n){return Qt.fromServerFormat(n.fieldPath)}function s_(n){return n instanceof Tt?(function(e){if(e.op==="=="){if(Mp(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NAN"}};if(kp(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Mp(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NAN"}};if(kp(e.value))return{unaryFilter:{field:Ms(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(e.field),op:DT(e.op),value:e.value}}})(n):n instanceof Mt?(function(e){const r=e.getFilters().map((s=>s_(s)));return r.length===1?r[0]:{compositeFilter:{op:NT(e.op),filters:r}}})(n):it(54877,{filter:n})}function kT(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function i_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,e,r,s,i=lt.min(),o=lt.min(),c=te.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new Bn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(t){this.yt=t}}function MT(n,t){let e;if(t.document)e=CT(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=Z.fromSegments(t.noDocument.path),s=ds(t.noDocument.readTime);e=Jt.newNoDocument(r,s),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return it(56709);{const r=Z.fromSegments(t.unknownDocument.path),s=ds(t.unknownDocument.version);e=Jt.newUnknownDocument(r,s)}}return t.readTime&&e.setReadTime((function(s){const i=new kt(s[0],s[1]);return lt.fromTimestamp(i)})(t.readTime)),e}function Zp(n,t){const e=t.key,r={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:uc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(i,o){return{name:cc(i,o.key),fields:o.data.value.mapValue.fields,updateTime:li(i,o.version.toTimestamp()),createTime:li(i,o.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())r.noDocument={path:e.path.toArray(),readTime:fs(t.version)};else{if(!t.isUnknownDocument())return it(57904,{document:t});r.unknownDocument={path:e.path.toArray(),version:fs(t.version)}}return r}function uc(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function fs(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ds(n){const t=new kt(n.seconds,n.nanoseconds);return lt.fromTimestamp(t)}function Xr(n,t){const e=(t.baseMutations||[]).map((i=>Mu(n.yt,i)));for(let i=0;i<t.mutations.length-1;++i){const o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){const c=t.mutations[i+1];o.updateTransforms=c.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}const r=t.mutations.map((i=>Mu(n.yt,i))),s=kt.fromMillis(t.localWriteTimeMs);return new Mh(t.batchId,s,e,r)}function Xi(n){const t=ds(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?ds(n.lastLimboFreeSnapshotVersion):lt.min();let r;return r=(function(i){return i.documents!==void 0})(n.query)?(function(i){const o=i.documents.length;return ct(o===1,1966,{count:o}),Ze(Hc(Z0(i.documents[0])))})(n.query):(function(i){return Ze(n_(i))})(n.query),new Bn(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,te.fromBase64String(n.resumeToken))}function a_(n,t){const e=fs(t.snapshotVersion),r=fs(t.lastLimboFreeSnapshotVersion);let s;s=ic(t.target)?t_(n.yt,t.target):e_(n.yt,t.target).ft;const i=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hs(t.target),readTime:e,resumeToken:i,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function c_(n){const t=n_({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ac(t,t.limit,"L"):t}function Hl(n,t){return new Lh(t.largestBatchId,Mu(n.yt,t.overlayMutation))}function $p(n,t){const e=t.path.lastSegment();return[n,Pe(t.path.popLast()),e]}function tg(n,t,e,r){return{indexId:n,uid:t,sequenceNumber:e,readTime:fs(r.readTime),documentKey:Pe(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{getBundleMetadata(t,e){return eg(t).get(e).next((r=>{if(r)return(function(i){return{id:i.bundleId,createTime:ds(i.createTime),version:i.version}})(r)}))}saveBundleMetadata(t,e){return eg(t).put((function(s){return{bundleId:s.id,createTime:fs(Fe(s.createTime)),version:s.version}})(e))}getNamedQuery(t,e){return ng(t).get(e).next((r=>{if(r)return(function(i){return{name:i.name,query:c_(i.bundledQuery),readTime:ds(i.readTime)}})(r)}))}saveNamedQuery(t,e){return ng(t).put((function(s){return{name:s.name,readTime:fs(Fe(s.readTime)),bundledQuery:s.bundledQuery}})(e))}}function eg(n){return ae(n,Fc)}function ng(n){return ae(n,Bc)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const r=e.uid||"";return new Wc(t,r)}getOverlay(t,e){return ji(t).get($p(this.userId,e)).next((r=>r?Hl(this.serializer,r):null))}getOverlays(t,e){const r=bn();return V.forEach(e,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,e,r){const s=[];return r.forEach(((i,o)=>{const c=new Lh(e,o);s.push(this.St(t,c))})),V.waitFor(s)}removeOverlaysForBatchId(t,e,r){const s=new Set;e.forEach((o=>s.add(Pe(o.getCollectionPath()))));const i=[];return s.forEach((o=>{const c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(ji(t).Z(bu,c))})),V.waitFor(i)}getOverlaysForCollection(t,e,r){const s=bn(),i=Pe(e),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ji(t).J(bu,o).next((c=>{for(const l of c){const u=Hl(this.serializer,l);s.set(u.getKey(),u)}return s}))}getOverlaysForCollectionGroup(t,e,r,s){const i=bn();let o;const c=IDBKeyRange.bound([this.userId,e,r],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ji(t).ee({index:a0,range:c},((l,u,f)=>{const d=Hl(this.serializer,u);i.size()<s||d.largestBatchId===o?(i.set(d.getKey(),d),o=d.largestBatchId):f.done()})).next((()=>i))}St(t,e){return ji(t).put((function(s,i,o){const[c,l,u]=$p(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:lc(s.yt,o.mutation)}})(this.serializer,this.userId,e))}}function ji(n){return ae(n,Uc)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{bt(t){return ae(t,Ch)}getSessionToken(t){return this.bt(t).get("sessionToken").next((e=>{const r=e?.value;return r?te.fromUint8Array(r):te.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.bt(t).put({name:"sessionToken",value:e.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(zt(t.integerValue));else if("doubleValue"in t){const r=zt(t.doubleValue);isNaN(r)?this.Ft(e,13):(this.Ft(e,15),Do(r)?e.Mt(0):e.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(e,20),typeof r=="string"&&(r=Kn(r)),e.xt(`${r.seconds||""}`),e.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(qn(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(e,45),e.Mt(r.latitude||0),e.Mt(r.longitude||0)}else"mapValue"in t?A0(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Gc(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):it(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){const r=t.fields||{};this.Ft(e,55);for(const s of Object.keys(r))this.Ot(s,e),this.Ct(r[s],e)}kt(t,e){const r=t.fields||{};this.Ft(e,53);const s=ni,i=r[s].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(zt(i)),this.Ot(s,e),this.Ct(r[s],e)}Qt(t,e){const r=t.values||[];this.Ft(e,50);for(const s of r)this.Ct(s,e)}Lt(t,e){this.Ft(e,37),Z.fromName(t).path.forEach((r=>{this.Ft(e,60),this.Ut(r,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Jr.Kt=new Jr;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=255;function FT(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function rg(n){const t=64-(function(r){let s=0;for(let i=0;i<8;++i){const o=FT(255&r[i]);if(s+=o,o!==8)break}return s})(n);return Math.ceil(t/8)}class BT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Gt(r.value),r=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.Jt(r.value),r=e.next();this.Ht()}Yt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=e.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(t){for(const e of t){const r=e.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(e<"\uD800"||"\uDBFF"<e)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=e.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(t){const e=this.en(t),r=rg(e);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=e.length-r;s<e.length;++s)this.buffer[this.position++]=255&e[s]}nn(t){const e=this.en(t),r=rg(e);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=e.length-r;s<e.length;++s)this.buffer[this.position++]=~(255&e[s])}rn(){this.sn(Rs),this.sn(255)}_n(){this.an(Rs),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)})(t),r=!!(128&e[0]);e[0]^=r?255:128;for(let s=1;s<e.length;++s)e[s]^=r?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===Rs?(this.sn(Rs),this.sn(0)):this.sn(e)}Jt(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===Rs?(this.an(Rs),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let r=2*this.buffer.length;r<e&&(r=e);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class UT{constructor(t){this.cn=t}Bt(t){this.cn.Wt(t)}xt(t){this.cn.Yt(t)}Mt(t){this.cn.Xt(t)}vt(){this.cn.rn()}}class jT{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Gi{constructor(){this.cn=new BT,this.ln=new UT(this.cn),this.hn=new jT(this.cn)}seed(t){this.cn.seed(t)}Pn(t){return t===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,e,r,s){this.Tn=t,this.In=e,this.En=r,this.dn=s}An(){const t=this.dn.length,e=t===0||this.dn[t-1]===255?t+1:t,r=new Uint8Array(e);return r.set(this.dn,0),e!==t?r.set([0],this.dn.length):++r[r.length-1],new Zr(this.Tn,this.In,this.En,r)}Rn(t,e,r){return{indexId:this.Tn,uid:t,arrayValue:Fa(this.En),directionalValue:Fa(this.dn),orderedDocumentKey:Fa(e),documentKey:r.path.toArray()}}Vn(t,e,r){const s=this.Rn(t,e,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function sr(n,t){let e=n.Tn-t.Tn;return e!==0?e:(e=sg(n.En,t.En),e!==0?e:(e=sg(n.dn,t.dn),e!==0?e:Z.comparator(n.In,t.In)))}function sg(n,t){for(let e=0;e<n.length&&e<t.length;++e){const r=n[e]-t[e];if(r!==0)return r}return n.length-t.length}function Fa(n){return S1()?(function(e){let r="";for(let s=0;s<e.length;s++)r+=String.fromCharCode(e[s]);return r})(n):n}function ig(n){return typeof n!="string"?n:(function(e){const r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r})(n)}class og{constructor(t){this.mn=new Ot(((e,r)=>Qt.comparator(e.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.fn=t.orderBy,this.gn=[];for(const e of t.filters){const r=e;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(t){if(ct(t.collectionGroup===this.collectionId,49279),this.pn)return!1;const e=Eu(t);if(e!==void 0&&!this.wn(e))return!1;const r=zr(t);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const l=r[i];if(!this.Sn(c,l)||!this.bn(this.fn[o++],l))return!1}++i}for(;i<r.length;++i){const c=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],c))return!1}return!0}Dn(){if(this.pn)return null;let t=new Ot(Qt.comparator);const e=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")e.push(new Va(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),e.push(new Va(r.field,0))}for(const r of this.fn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),e.push(new Va(r.field,r.dir==="asc"?0:1)));return new tc(tc.UNKNOWN_ID,this.collectionId,e,xo.empty())}wn(t){for(const e of this.gn)if(this.Sn(e,t))return!0;return!1}Sn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===r}bn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){if(ct(n instanceof Tt||n instanceof Mt,20012),n instanceof Tt){if(n instanceof S0){const e=n.value.arrayValue?.values?.map((r=>Tt.create(n.field,"==",r)))||[];return Mt.create(e,"or")}return n}const t=n.filters.map((e=>l_(e)));return Mt.create(t,n.op)}function GT(n){if(n.getFilters().length===0)return[];const t=Fu(l_(n));return ct(u_(t),7391),Ou(t)||Lu(t)?[t]:t.getFilters()}function Ou(n){return n instanceof Tt}function Lu(n){return n instanceof Mt&&Dh(n)}function u_(n){return Ou(n)||Lu(n)||(function(e){if(e instanceof Mt&&Su(e)){for(const r of e.getFilters())if(!Ou(r)&&!Lu(r))return!1;return!0}return!1})(n)}function Fu(n){if(ct(n instanceof Tt||n instanceof Mt,34018),n instanceof Tt)return n;if(n.filters.length===1)return Fu(n.filters[0]);const t=n.filters.map((r=>Fu(r)));let e=Mt.create(t,n.op);return e=hc(e),u_(e)?e:(ct(e instanceof Mt,64498),ct(ii(e),40251),ct(e.filters.length>1,57927),e.filters.reduce(((r,s)=>Uh(r,s))))}function Uh(n,t){let e;return ct(n instanceof Tt||n instanceof Mt,38388),ct(t instanceof Tt||t instanceof Mt,25473),e=n instanceof Tt?t instanceof Tt?(function(s,i){return Mt.create([s,i],"and")})(n,t):ag(n,t):t instanceof Tt?ag(t,n):(function(s,i){if(ct(s.filters.length>0&&i.filters.length>0,48005),ii(s)&&ii(i))return w0(s,i.getFilters());const o=Su(s)?s:i,c=Su(s)?i:s,l=o.filters.map((u=>Uh(u,c)));return Mt.create(l,"or")})(n,t),hc(e)}function ag(n,t){if(ii(t))return w0(t,n.getFilters());{const e=t.filters.map((r=>Uh(n,r)));return Mt.create(e,"or")}}function hc(n){if(ct(n instanceof Tt||n instanceof Mt,11850),n instanceof Tt)return n;const t=n.getFilters();if(t.length===1)return hc(t[0]);if(T0(n))return n;const e=t.map((s=>hc(s))),r=[];return e.forEach((s=>{s instanceof Tt?r.push(s):s instanceof Mt&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:Mt.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.Cn=new jh}addToCollectionParentIndex(t,e){return this.Cn.add(e),V.resolve()}getCollectionParents(t,e){return V.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return V.resolve()}deleteFieldIndex(t,e){return V.resolve()}deleteAllFieldIndexes(t){return V.resolve()}createTargetIndexes(t,e){return V.resolve()}getDocumentsMatchingTarget(t,e){return V.resolve(null)}getIndexType(t,e){return V.resolve(0)}getFieldIndexes(t,e){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,e){return V.resolve(tn.min())}getMinOffsetFromCollectionGroup(t,e){return V.resolve(tn.min())}updateCollectionGroup(t,e,r){return V.resolve()}updateIndexEntries(t,e){return V.resolve()}}class jh{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e]||new Ot(Vt.comparator),i=!s.has(r);return this.index[e]=s.add(r),i}has(t){const e=t.lastSegment(),r=t.popLast(),s=this.index[e];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Ot(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="IndexedDbIndexManager",ya=new Uint8Array(0);class KT{constructor(t,e){this.databaseId=e,this.vn=new jh,this.Fn=new Wn((r=>hs(r)),((r,s)=>Wo(r,s))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.vn.has(e)){const r=e.lastSegment(),s=e.popLast();t.addOnCommittedListener((()=>{this.vn.add(e)}));const i={collectionId:r,parent:Pe(s)};return lg(t).put(i)}return V.resolve()}getCollectionParents(t,e){const r=[],s=IDBKeyRange.bound([e,""],[Q1(e),""],!1,!0);return lg(t).J(s).next((i=>{for(const o of i){if(o.collectionId!==e)break;r.push(Tn(o.parent))}return r}))}addFieldIndex(t,e){const r=Hi(t),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(e);delete s.indexId;const i=r.add(s);if(e.indexState){const o=Ss(t);return i.next((c=>{o.put(tg(c,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return i.next()}deleteFieldIndex(t,e){const r=Hi(t),s=Ss(t),i=Cs(t);return r.delete(e.indexId).next((()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=Hi(t),r=Cs(t),s=Ss(t);return e.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(t,e){return V.forEach(this.Mn(e),(r=>this.getIndexType(t,r).next((s=>{if(s===0||s===1){const i=new og(r).Dn();if(i!=null)return this.addFieldIndex(t,i)}}))))}getDocumentsMatchingTarget(t,e){const r=Cs(t);let s=!0;const i=new Map;return V.forEach(this.Mn(e),(o=>this.xn(t,o).next((c=>{s&&(s=!!c),i.set(o,c)})))).next((()=>{if(s){let o=At();const c=[];return V.forEach(i,((l,u)=>{z(cg,`Using index ${(function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map((q=>`${q.fieldPath}:${q.kind}`)).join(",")}`})(l)} to execute ${hs(e)}`);const f=(function(U,q){const tt=Eu(q);if(tt===void 0)return null;for(const rt of oc(U,tt.fieldPath))switch(rt.op){case"array-contains-any":return rt.value.arrayValue.values||[];case"array-contains":return[rt.value]}return null})(u,l),d=(function(U,q){const tt=new Map;for(const rt of zr(q))for(const I of oc(U,rt.fieldPath))switch(I.op){case"==":case"in":tt.set(rt.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return tt.set(rt.fieldPath.canonicalString(),I.value),Array.from(tt.values())}return null})(u,l),g=(function(U,q){const tt=[];let rt=!0;for(const I of zr(q)){const A=I.kind===0?Up(U,I.fieldPath,U.startAt):jp(U,I.fieldPath,U.startAt);tt.push(A.value),rt&&(rt=A.inclusive)}return new si(tt,rt)})(u,l),m=(function(U,q){const tt=[];let rt=!0;for(const I of zr(q)){const A=I.kind===0?jp(U,I.fieldPath,U.endAt):Up(U,I.fieldPath,U.endAt);tt.push(A.value),rt&&(rt=A.inclusive)}return new si(tt,rt)})(u,l),C=this.On(l,u,g),x=this.On(l,u,m),k=this.Nn(l,u,d),G=this.Bn(l.indexId,f,C,g.inclusive,x,m.inclusive,k);return V.forEach(G,(B=>r.Y(B,e.limit).next((U=>{U.forEach((q=>{const tt=Z.fromSegments(q.documentKey);o.has(tt)||(o=o.add(tt),c.push(tt))}))}))))})).next((()=>c))}return V.resolve(null)}))}Mn(t){let e=this.Fn.get(t);return e||(t.filters.length===0?e=[t]:e=GT(Mt.create(t.filters,"and")).map((r=>Vu(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Fn.set(t,e),e)}Bn(t,e,r,s,i,o,c){const l=(e!=null?e.length:1)*Math.max(r.length,i.length),u=l/(e!=null?e.length:1),f=[];for(let d=0;d<l;++d){const g=e?this.Ln(e[d/u]):ya,m=this.kn(t,g,r[d%u],s),C=this.qn(t,g,i[d%u],o),x=c.map((k=>this.kn(t,g,k,!0)));f.push(...this.createRange(m,C,x))}return f}kn(t,e,r,s){const i=new Zr(t,Z.empty(),e,r);return s?i:i.An()}qn(t,e,r,s){const i=new Zr(t,Z.empty(),e,r);return s?i.An():i}xn(t,e){const r=new og(e),s=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,s).next((i=>{let o=null;for(const c of i)r.yn(c)&&(!o||c.fields.length>o.fields.length)&&(o=c);return o}))}getIndexType(t,e){let r=2;const s=this.Mn(e);return V.forEach(s,(i=>this.xn(t,i).next((o=>{o?r!==0&&o.fields.length<(function(l){let u=new Ot(Qt.comparator),f=!1;for(const d of l.filters)for(const g of d.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?f=!0:u=u.add(g.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(f?1:0)})(i)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(e)&&s.length>1&&r===2?1:r))}Qn(t,e){const r=new Gi;for(const s of zr(t)){const i=e.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);Jr.Kt.Dt(i,o)}return r.un()}Ln(t){const e=new Gi;return Jr.Kt.Dt(t,e.Pn(0)),e.un()}$n(t,e){const r=new Gi;return Jr.Kt.Dt(Fo(this.databaseId,e),r.Pn((function(i){const o=zr(i);return o.length===0?0:o[o.length-1].kind})(t))),r.un()}Nn(t,e,r){if(r===null)return[];let s=[];s.push(new Gi);let i=0;for(const o of zr(t)){const c=r[i++];for(const l of s)if(this.Un(e,o.fieldPath)&&Bo(c))s=this.Kn(s,o,c);else{const u=l.Pn(o.kind);Jr.Kt.Dt(c,u)}}return this.Wn(s)}On(t,e,r){return this.Nn(t,e,r.position)}Wn(t){const e=[];for(let r=0;r<t.length;++r)e[r]=t[r].un();return e}Kn(t,e,r){const s=[...t],i=[];for(const o of r.arrayValue.values||[])for(const c of s){const l=new Gi;l.seed(c.un()),Jr.Kt.Dt(o,l.Pn(e.kind)),i.push(l)}return i}Un(t,e){return!!t.filters.find((r=>r instanceof Tt&&r.field.isEqual(e)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,e){const r=Hi(t),s=Ss(t);return(e?r.J(Tu,IDBKeyRange.bound(e,e)):r.J()).next((i=>{const o=[];return V.forEach(i,(c=>s.get([c.indexId,this.uid]).next((l=>{o.push((function(f,d){const g=d?new xo(d.sequenceNumber,new tn(ds(d.readTime),new Z(Tn(d.documentKey)),d.largestBatchId)):xo.empty(),m=f.fields.map((([C,x])=>new Va(Qt.fromServerFormat(C),x)));return new tc(f.indexId,f.collectionGroup,m,g)})(c,l))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:gt(r.collectionGroup,s.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,r){const s=Hi(t),i=Ss(t);return this.Gn(t).next((o=>s.J(Tu,IDBKeyRange.bound(e,e)).next((c=>V.forEach(c,(l=>i.put(tg(l.indexId,this.uid,o,r))))))))}updateIndexEntries(t,e){const r=new Map;return V.forEach(e,((s,i)=>{const o=r.get(s.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(t,s.collectionGroup)).next((c=>(r.set(s.collectionGroup,c),V.forEach(c,(l=>this.zn(t,s,l).next((u=>{const f=this.jn(i,l);return u.isEqual(f)?V.resolve():this.Jn(t,i,l,u,f)})))))))}))}Hn(t,e,r,s){return Cs(t).put(s.Rn(this.uid,this.$n(r,e.key),e.key))}Yn(t,e,r,s){return Cs(t).delete(s.Vn(this.uid,this.$n(r,e.key),e.key))}zn(t,e,r){const s=Cs(t);let i=new Ot(sr);return s.ee({index:o0,range:IDBKeyRange.only([r.indexId,this.uid,Fa(this.$n(r,e))])},((o,c)=>{i=i.add(new Zr(r.indexId,e,ig(c.arrayValue),ig(c.directionalValue)))})).next((()=>i))}jn(t,e){let r=new Ot(sr);const s=this.Qn(e,t);if(s==null)return r;const i=Eu(e);if(i!=null){const o=t.data.field(i.fieldPath);if(Bo(o))for(const c of o.arrayValue.values||[])r=r.add(new Zr(e.indexId,t.key,this.Ln(c),s))}else r=r.add(new Zr(e.indexId,t.key,ya,s));return r}Jn(t,e,r,s,i){z(cg,"Updating index entries for document '%s'",e.key);const o=[];return(function(l,u,f,d,g){const m=l.getIterator(),C=u.getIterator();let x=ws(m),k=ws(C);for(;x||k;){let G=!1,B=!1;if(x&&k){const U=f(x,k);U<0?B=!0:U>0&&(G=!0)}else x!=null?B=!0:G=!0;G?(d(k),k=ws(C)):B?(g(x),x=ws(m)):(x=ws(m),k=ws(C))}})(s,i,sr,(c=>{o.push(this.Hn(t,e,r,c))}),(c=>{o.push(this.Yn(t,e,r,c))})),V.waitFor(o)}Gn(t){let e=1;return Ss(t).ee({index:i0,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,i)=>{i.done(),e=s.sequenceNumber+1})).next((()=>e))}createRange(t,e,r){r=r.sort(((o,c)=>sr(o,c))).filter(((o,c,l)=>!c||sr(o,l[c-1])!==0));const s=[];s.push(t);for(const o of r){const c=sr(o,t),l=sr(o,e);if(c===0)s[0]=t.An();else if(c>0&&l<0)s.push(o),s.push(o.An());else if(l>0)break}s.push(e);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const c=s[o].Vn(this.uid,ya,Z.empty()),l=s[o+1].Vn(this.uid,ya,Z.empty());i.push(IDBKeyRange.bound(c,l))}return i}Zn(t,e){return sr(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(ug)}getMinOffset(t,e){return V.mapArray(this.Mn(e),(r=>this.xn(t,r).next((s=>s||it(44426))))).next(ug)}}function lg(n){return ae(n,Mo)}function Cs(n){return ae(n,uo)}function Hi(n){return ae(n,Rh)}function Ss(n){return ae(n,lo)}function ug(n){ct(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Th(s,t)<0&&(t=s),e<s.largestBatchId&&(e=s.largestBatchId)}return new tn(t.readTime,t.documentKey,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h_=41943040;class Te{static withCacheSize(t){return new Te(t,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(n,t,e){const r=n.store(an),s=n.store(Zs),i=[],o=IDBKeyRange.only(e.batchId);let c=0;const l=r.ee({range:o},((f,d,g)=>(c++,g.delete())));i.push(l.next((()=>{ct(c===1,47070,{batchId:e.batchId})})));const u=[];for(const f of e.mutations){const d=n0(t,f.key.path,e.batchId);i.push(s.delete(d)),u.push(f.key)}return V.waitFor(i).next((()=>u))}function fc(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw it(14731);t=n.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.DEFAULT_COLLECTION_PERCENTILE=10,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Te.DEFAULT=new Te(h_,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Te.DISABLED=new Te(-1,0,0);class Yc{constructor(t,e,r,s){this.userId=t,this.serializer=e,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(t,e,r,s){ct(t.uid!=="",64387);const i=t.isAuthenticated()?t.uid:"";return new Yc(i,e,r,s)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ir(t).ee({index:ts,range:r},((s,i,o)=>{e=!1,o.done()})).next((()=>e))}addMutationBatch(t,e,r,s){const i=Ls(t),o=ir(t);return o.add({}).next((c=>{ct(typeof c=="number",49019);const l=new Mh(c,e,r,s),u=(function(m,C,x){const k=x.baseMutations.map((B=>lc(m.yt,B))),G=x.mutations.map((B=>lc(m.yt,B)));return{userId:C,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:k,mutations:G}})(this.serializer,this.userId,l),f=[];let d=new Ot(((g,m)=>gt(g.canonicalString(),m.canonicalString())));for(const g of s){const m=n0(this.userId,g.key.path,c);d=d.add(g.key.path.popLast()),f.push(o.put(u)),f.push(i.put(m,I6))}return d.forEach((g=>{f.push(this.indexManager.addToCollectionParentIndex(t,g))})),t.addOnCommittedListener((()=>{this.Xn[c]=l.keys()})),V.waitFor(f).next((()=>l))}))}lookupMutationBatch(t,e){return ir(t).get(e).next((r=>r?(ct(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:e}),Xr(this.serializer,r)):null))}er(t,e){return this.Xn[e]?V.resolve(this.Xn[e]):this.lookupMutationBatch(t,e).next((r=>{if(r){const s=r.keys();return this.Xn[e]=s,s}return null}))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return ir(t).ee({index:ts,range:s},((o,c,l)=>{c.userId===this.userId&&(ct(c.batchId>=r,47524,{tr:r}),i=Xr(this.serializer,c)),l.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=rs;return ir(t).ee({index:ts,range:e,reverse:!0},((s,i,o)=>{r=i.batchId,o.done()})).next((()=>r))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,rs],[this.userId,Number.POSITIVE_INFINITY]);return ir(t).J(ts,e).next((r=>r.map((s=>Xr(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=xa(this.userId,e.path),s=IDBKeyRange.lowerBound(r),i=[];return Ls(t).ee({range:s},((o,c,l)=>{const[u,f,d]=o,g=Tn(f);if(u===this.userId&&e.path.isEqual(g))return ir(t).get(d).next((m=>{if(!m)throw it(61480,{nr:o,batchId:d});ct(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:d}),i.push(Xr(this.serializer,m))}));l.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ot(gt);const s=[];return e.forEach((i=>{const o=xa(this.userId,i.path),c=IDBKeyRange.lowerBound(o),l=Ls(t).ee({range:c},((u,f,d)=>{const[g,m,C]=u,x=Tn(m);g===this.userId&&i.path.isEqual(x)?r=r.add(C):d.done()}));s.push(l)})),V.waitFor(s).next((()=>this.rr(t,r)))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1,i=xa(this.userId,r),o=IDBKeyRange.lowerBound(i);let c=new Ot(gt);return Ls(t).ee({range:o},((l,u,f)=>{const[d,g,m]=l,C=Tn(g);d===this.userId&&r.isPrefixOf(C)?C.length===s&&(c=c.add(m)):f.done()})).next((()=>this.rr(t,c)))}rr(t,e){const r=[],s=[];return e.forEach((i=>{s.push(ir(t).get(i).next((o=>{if(o===null)throw it(35274,{batchId:i});ct(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(Xr(this.serializer,o))})))})),V.waitFor(s).next((()=>r))}removeMutationBatch(t,e){return f_(t.le,this.userId,e).next((r=>(t.addOnCommittedListener((()=>{this.ir(e.batchId)})),V.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(t,s))))))}ir(t){delete this.Xn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return V.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),s=[];return Ls(t).ee({range:r},((i,o,c)=>{if(i[0]===this.userId){const l=Tn(i[1]);s.push(l)}else c.done()})).next((()=>{ct(s.length===0,56720,{sr:s.map((i=>i.canonicalString()))})}))}))}containsKey(t,e){return d_(t,this.userId,e)}_r(t){return p_(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:rs,lastStreamToken:""}))}}function d_(n,t,e){const r=xa(t,e.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return Ls(n).ee({range:i,X:!0},((c,l,u)=>{const[f,d,g]=c;f===t&&d===s&&(o=!0),u.done()})).next((()=>o))}function ir(n){return ae(n,an)}function Ls(n){return ae(n,Zs)}function p_(n){return ae(n,No)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ps(0)}static cr(){return new ps(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.lr(t).next((e=>{const r=new ps(e.highestTargetId);return e.highestTargetId=r.next(),this.hr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.lr(t).next((e=>lt.fromTimestamp(new kt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.lr(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,r){return this.lr(t).next((s=>(s.highestListenSequenceNumber=e,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),e>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=e),this.hr(t,s))))}addTargetData(t,e){return this.Pr(t,e).next((()=>this.lr(t).next((r=>(r.targetCount+=1,this.Tr(e,r),this.hr(t,r))))))}updateTargetData(t,e){return this.Pr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Ps(t).delete(e.targetId))).next((()=>this.lr(t))).next((r=>(ct(r.targetCount>0,8065),r.targetCount-=1,this.hr(t,r))))}removeTargets(t,e,r){let s=0;const i=[];return Ps(t).ee(((o,c)=>{const l=Xi(c);l.sequenceNumber<=e&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(t,l)))})).next((()=>V.waitFor(i))).next((()=>s))}forEachTarget(t,e){return Ps(t).ee(((r,s)=>{const i=Xi(s);e(i)}))}lr(t){return fg(t).get(rc).next((e=>(ct(e!==null,2888),e)))}hr(t,e){return fg(t).put(rc,e)}Pr(t,e){return Ps(t).put(a_(this.serializer,e))}Tr(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.lr(t).next((e=>e.targetCount))}getTargetData(t,e){const r=hs(e),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return Ps(t).ee({range:s,index:s0},((o,c,l)=>{const u=Xi(c);Wo(e,u.target)&&(i=u,l.done())})).next((()=>i))}addMatchingKeys(t,e,r){const s=[],i=hr(t);return e.forEach((o=>{const c=Pe(o.path);s.push(i.put({targetId:r,path:c})),s.push(this.referenceDelegate.addReference(t,r,o))})),V.waitFor(s)}removeMatchingKeys(t,e,r){const s=hr(t);return V.forEach(e,(i=>{const o=Pe(i.path);return V.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(t,r,i)])}))}removeMatchingKeysForTargetId(t,e){const r=hr(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),s=hr(t);let i=At();return s.ee({range:r,X:!0},((o,c,l)=>{const u=Tn(o[1]),f=new Z(u);i=i.add(f)})).next((()=>i))}containsKey(t,e){const r=Pe(e.path),s=IDBKeyRange.bound([r],[Q1(r)],!1,!0);let i=0;return hr(t).ee({index:wh,X:!0,range:s},(([o,c],l,u)=>{o!==0&&(i++,u.done())})).next((()=>i>0))}At(t,e){return Ps(t).get(e).next((r=>r?Xi(r):null))}}function Ps(n){return ae(n,$s)}function fg(n){return ae(n,ss)}function hr(n){return ae(n,ti)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LruGarbageCollector",g_=1048576;function pg([n,t],[e,r]){const s=gt(n,e);return s===0?gt(t,r):s}class zT{constructor(t){this.Ir=t,this.buffer=new Ot(pg),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();pg(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class m_{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){z(dg,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vr(e)?z(dg,"Ignoring IndexedDB error during garbage collection: ",e):await Pr(e)}await this.Vr(3e5)}))}}class QT{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return V.resolve(Ge.ce);const r=new zT(e);return this.mr.forEachTarget(t,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(hg)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hg):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,s,i,o,c,l,u;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(t,s)))).next((d=>(r=d,c=Date.now(),this.removeTargets(t,r,e)))).next((d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(t,r)))).next((d=>(u=Date.now(),Ns()<=wt.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(c-o)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d}))))}}function __(n,t){return new QT(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,e){this.db=t,this.garbageCollector=__(this,e)}gr(t){const e=this.wr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>e.next((s=>r+s))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pr(t,e){return this.Sr(t,((r,s)=>e(s)))}addReference(t,e,r){return Aa(t,r)}removeReference(t,e,r){return Aa(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Aa(t,e)}br(t,e){return(function(s,i){let o=!1;return p_(s).te((c=>d_(s,c,i).next((l=>(l&&(o=!0),V.resolve(!l)))))).next((()=>o))})(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(t,((o,c)=>{if(c<=e){const l=this.br(t,o).next((u=>{if(!u)return i++,r.getEntry(t,o).next((()=>(r.removeEntry(o,lt.min()),hr(t).delete((function(d){return[0,Pe(d.path)]})(o)))))}));s.push(l)}})).next((()=>V.waitFor(s))).next((()=>r.apply(t))).next((()=>i))}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Aa(t,e)}Sr(t,e){const r=hr(t);let s,i=Ge.ce;return r.ee({index:wh},(([o,c],{path:l,sequenceNumber:u})=>{o===0?(i!==Ge.ce&&e(new Z(Tn(s)),i),i=u,s=l):i=Ge.ce})).next((()=>{i!==Ge.ce&&e(new Z(Tn(s)),i)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Aa(n,t){return hr(n).put((function(r,s){return{targetId:0,path:Pe(r.path),sequenceNumber:s}})(t,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.changes=new Wn((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jt.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?V.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,r){return Hr(t).put(r)}removeEntry(t,e,r){return Hr(t).delete((function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],uc(o),c[c.length-1]]})(e,r))}updateMetadata(t,e){return this.getMetadata(t).next((r=>(r.byteSize+=e,this.Dr(t,r))))}getEntry(t,e){let r=Jt.newInvalidDocument(e);return Hr(t).ee({index:Da,range:IDBKeyRange.only(Ki(e))},((s,i)=>{r=this.Cr(e,i)})).next((()=>r))}vr(t,e){let r={size:0,document:Jt.newInvalidDocument(e)};return Hr(t).ee({index:Da,range:IDBKeyRange.only(Ki(e))},((s,i)=>{r={document:this.Cr(e,i),size:fc(i)}})).next((()=>r))}getEntries(t,e){let r=Je();return this.Fr(t,e,((s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)})).next((()=>r))}Mr(t,e){let r=Je(),s=new Ht(Z.comparator);return this.Fr(t,e,((i,o)=>{const c=this.Cr(i,o);r=r.insert(i,c),s=s.insert(i,fc(o))})).next((()=>({documents:r,Or:s})))}Fr(t,e,r){if(e.isEmpty())return V.resolve();let s=new Ot(_g);e.forEach((l=>s=s.add(l)));const i=IDBKeyRange.bound(Ki(s.first()),Ki(s.last())),o=s.getIterator();let c=o.getNext();return Hr(t).ee({index:Da,range:i},((l,u,f)=>{const d=Z.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;c&&_g(c,d)<0;)r(c,null),c=o.getNext();c&&c.isEqual(d)&&(r(c,u),c=o.hasNext()?o.getNext():null),c?f.j(Ki(c)):f.done()})).next((()=>{for(;c;)r(c,null),c=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(t,e,r,s,i){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),uc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hr(t).J(IDBKeyRange.bound(c,l,!0)).next((u=>{i?.incrementDocumentReadCount(u.length);let f=Je();for(const d of u){const g=this.Cr(Z.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);g.isFoundDocument()&&(Yo(e,g)||s.has(g.key))&&(f=f.insert(g.key,g))}return f}))}getAllFromCollectionGroup(t,e,r,s){let i=Je();const o=mg(e,r),c=mg(e,tn.max());return Hr(t).ee({index:r0,range:IDBKeyRange.bound(o,c,!0)},((l,u,f)=>{const d=this.Cr(Z.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(d.key,d),i.size===s&&f.done()})).next((()=>i))}newChangeBuffer(t){return new XT(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return gg(t).get(Iu).next((e=>(ct(!!e,20021),e)))}Dr(t,e){return gg(t).put(Iu,e)}Cr(t,e){if(e){const r=MT(this.serializer,e);if(!(r.isNoDocument()&&r.version.isEqual(lt.min())))return r}return Jt.newInvalidDocument(t)}}function A_(n){return new YT(n)}class XT extends y_{constructor(t,e){super(),this.Nr=t,this.trackRemovals=e,this.Br=new Wn((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(t){const e=[];let r=0,s=new Ot(((i,o)=>gt(i.canonicalString(),o.canonicalString())));return this.changes.forEach(((i,o)=>{const c=this.Br.get(i);if(e.push(this.Nr.removeEntry(t,i,c.readTime)),o.isValidDocument()){const l=Zp(this.Nr.serializer,o);s=s.add(i.path.popLast());const u=fc(l);r+=u-c.size,e.push(this.Nr.addEntry(t,i,l))}else if(r-=c.size,this.trackRemovals){const l=Zp(this.Nr.serializer,o.convertToNoDocument(lt.min()));e.push(this.Nr.addEntry(t,i,l))}})),s.forEach((i=>{e.push(this.Nr.indexManager.addToCollectionParentIndex(t,i))})),e.push(this.Nr.updateMetadata(t,r)),V.waitFor(e)}getFromCache(t,e){return this.Nr.vr(t,e).next((r=>(this.Br.set(e,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,e){return this.Nr.Mr(t,e).next((({documents:r,Or:s})=>(s.forEach(((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})})),r)))}}function gg(n){return ae(n,ko)}function Hr(n){return ae(n,nc)}function Ki(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mg(n,t){const e=t.documentKey.path.toArray();return[n,uc(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _g(n,t){const e=n.path.toArray(),r=t.path.toArray();let s=0;for(let i=0;i<e.length-2&&i<r.length-2;++i)if(s=gt(e[i],r[i]),s)return s;return s=gt(e.length,r.length),s||(s=gt(e[e.length-2],r[r.length-2]),s||gt(e[e.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t,e,r,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(r=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(r!==null&&go(r.mutation,s,He.empty(),kt.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,At()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=At()){const s=bn();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,r).next((i=>{let o=Wi();return i.forEach(((c,l)=>{o=o.insert(c,l.overlayedDocument)})),o}))))}getOverlayedDocuments(t,e){const r=bn();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,At())))}populateOverlays(t,e,r){const s=[];return r.forEach((i=>{e.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((o,c)=>{e.set(o,c)}))}))}computeViews(t,e,r,s){let i=Je();const o=po(),c=(function(){return po()})();return e.forEach(((l,u)=>{const f=r.get(u.key);s.has(u.key)&&(f===void 0||f.mutation instanceof Yn)?i=i.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),go(f.mutation,u,f.mutation.getFieldMask(),kt.now())):o.set(u.key,He.empty())})),this.recalculateAndSaveOverlays(t,i).next((l=>(l.forEach(((u,f)=>o.set(u,f))),e.forEach(((u,f)=>c.set(u,new JT(f,o.get(u)??null)))),c)))}recalculateAndSaveOverlays(t,e){const r=po();let s=new Ht(((o,c)=>o-c)),i=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((o=>{for(const c of o)c.keys().forEach((l=>{const u=e.get(l);if(u===null)return;let f=r.get(l)||He.empty();f=c.applyToLocalView(u,f),r.set(l,f);const d=(s.get(c.batchId)||At()).add(l);s=s.insert(c.batchId,d)}))})).next((()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),u=l.key,f=l.value,d=O0();f.forEach((g=>{if(!i.has(g)){const m=H0(e.get(g),r.get(g));m!==null&&d.set(g,m),i=i.add(g)}})),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return V.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,s){return(function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):V0(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,s):this.getDocumentsMatchingCollectionQuery(t,e,r,s)}getNextDocuments(t,e,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,s-i.size):V.resolve(bn());let c=Js,l=i;return o.next((u=>V.forEach(u,((f,d)=>(c<d.largestBatchId&&(c=d.largestBatchId),i.get(f)?V.resolve():this.remoteDocumentCache.getEntry(t,f).next((g=>{l=l.insert(f,g)}))))).next((()=>this.populateOverlays(t,u,i))).next((()=>this.computeViews(t,l,u,At()))).next((f=>({batchId:c,changes:M0(f)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Z(e)).next((r=>{let s=Wi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,s){const i=e.collectionGroup;let o=Wi();return this.indexManager.getCollectionParents(t,i).next((c=>V.forEach(c,(l=>{const u=(function(d,g){return new mi(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(e,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,u,r,s).next((f=>{f.forEach(((d,g)=>{o=o.insert(d,g)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,i,s)))).next((o=>{i.forEach(((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Jt.newInvalidDocument(f)))}));let c=Wi();return o.forEach(((l,u)=>{const f=i.get(l);f!==void 0&&go(f.mutation,u,He.empty(),kt.now()),Yo(e,u)&&(c=c.insert(l,u))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return V.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:Fe(s.createTime)}})(e)),V.resolve()}getNamedQuery(t,e){return V.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:c_(s.bundledQuery),readTime:Fe(s.readTime)}})(e)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.overlays=new Ht(Z.comparator),this.qr=new Map}getOverlay(t,e){return V.resolve(this.overlays.get(e))}getOverlays(t,e){const r=bn();return V.forEach(e,(s=>this.getOverlay(t,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((s,i)=>{this.St(t,e,i)})),V.resolve()}removeOverlaysForBatchId(t,e,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(t,e,r){const s=bn(),i=e.length+1,o=new Z(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const l=c.getNext().value,u=l.getKey();if(!e.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(t,e,r,s){let i=new Ht(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===e&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=bn(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const c=bn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>c.set(u,f))),!(c.size()>=s)););return V.resolve(c)}St(t,e,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Lh(e,r));let i=this.qr.get(e);i===void 0&&(i=At(),this.qr.set(e,i)),this.qr.set(e,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.sessionToken=te.EMPTY_BYTE_STRING}getSessionToken(t){return V.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this.Qr=new Ot(he.$r),this.Ur=new Ot(he.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new he(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new he(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Z(new Vt([])),r=new he(e,t),s=new he(e,t+1),i=[];return this.Ur.forEachInRange([r,s],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Z(new Vt([])),r=new he(e,t),s=new he(e,t+1);let i=At();return this.Ur.forEachInRange([r,s],(o=>{i=i.add(o.key)})),i}containsKey(t){const e=new he(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class he{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Z.comparator(t.key,e.key)||gt(t.Yr,e.Yr)}static Kr(t,e){return gt(t.Yr,e.Yr)||Z.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(he.$r)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mh(i,e,r,s);this.mutationQueue.push(o);for(const c of s)this.Zr=this.Zr.add(new he(c.key,i)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return V.resolve(o)}lookupMutationBatch(t,e){return V.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,s=this.ei(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?rs:this.tr-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new he(e,0),s=new he(e,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(o=>{const c=this.Xr(o.Yr);i.push(c)})),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ot(gt);return e.forEach((s=>{const i=new he(s,0),o=new he(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{r=r.add(c.Yr)}))})),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new he(new Z(i),0);let c=new Ot(gt);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(c=c.add(l.Yr)),!0)}),o),V.resolve(this.ti(c))}ti(t){const e=[];return t.forEach((r=>{const s=this.Xr(r);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){ct(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(e.mutations,(s=>{const i=new he(s.key,e.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new he(e,0),s=this.Zr.firstAfterOrEqual(r);return V.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.ri=t,this.docs=(function(){return new Ht(Z.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return V.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(e))}getEntries(t,e){let r=Je();return e.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Jt.newInvalidDocument(s))})),V.resolve(r)}getDocumentsMatchingQuery(t,e,r,s){let i=Je();const o=e.path,c=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Th(J1(f),r)<=0||(s.has(f.key)||Yo(e,f))&&(i=i.insert(f.key,f.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(t,e,r,s){it(9500)}ii(t,e){return V.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new rb(this)}getSize(t){return V.resolve(this.size)}}class rb extends y_{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(r)})),V.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.persistence=t,this.si=new Wn((e=>hs(e)),Wo),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.oi=0,this._i=new Gh,this.targetCount=0,this.ai=ps.ur()}forEachTarget(t,e){return this.si.forEach(((r,s)=>e(s))),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),V.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ps(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,V.resolve()}updateTargetData(t,e){return this.Pr(e),V.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,e,r){let s=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=e&&r.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(t,c.targetId)),s++)})),V.waitFor(i).next((()=>s))}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return V.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),V.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach((o=>{i.push(s.markPotentiallyOrphaned(t,o))})),V.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),V.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return V.resolve(r)}containsKey(t,e){return V.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ge(0),this.li=!1,this.li=!0,this.hi=new tb,this.referenceDelegate=t(this),this.Pi=new sb(this),this.indexManager=new HT,this.remoteDocumentCache=(function(s){return new nb(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new o_(e),this.Ii=new ZT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new $T,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new eb(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){z("MemoryPersistence","Starting transaction:",t);const s=new ib(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,e){return V.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class ib extends $1{constructor(t){super(),this.currentSequenceNumber=t}}class Xc{constructor(t){this.persistence=t,this.Ri=new Gh,this.Vi=null}static mi(t){return new Xc(t)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),V.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),V.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,(r=>{const s=Z.fromPath(r);return this.gi(t,s).next((i=>{i||e.removeEntry(s,lt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return V.or([()=>V.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class dc{constructor(t,e){this.persistence=t,this.pi=new Wn((r=>Pe(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=__(this,e)}static mi(t,e){return new dc(t,e)}Ei(){}di(t){return V.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((s=>r+s))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return V.forEach(this.pi,((r,s)=>this.br(t,r,s).next((i=>i?V.resolve():e(s)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(o=>this.br(t,o,e).next((c=>{c||(r++,i.removeEntry(o,lt.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),V.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),V.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),V.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),V.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ka(t.data.value)),e}br(t,e,r){return V.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return V.resolve(s!==void 0&&s>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this.serializer=t}k(t,e,r,s){const i=new Oc("createOrUpgrade",e);r<1&&s>=1&&((function(l){l.createObjectStore(Qo)})(t),(function(l){l.createObjectStore(No,{keyPath:E6}),l.createObjectStore(an,{keyPath:Sp,autoIncrement:!0}).createIndex(ts,Pp,{unique:!0}),l.createObjectStore(Zs)})(t),yg(t),(function(l){l.createObjectStore(Qr)})(t));let o=V.resolve();return r<3&&s>=3&&(r!==0&&((function(l){l.deleteObjectStore(ti),l.deleteObjectStore($s),l.deleteObjectStore(ss)})(t),yg(t)),o=o.next((()=>(function(l){const u=l.store(ss),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:lt.min().toTimestamp(),targetCount:0};return u.put(rc,f)})(i)))),r<4&&s>=4&&(r!==0&&(o=o.next((()=>(function(l,u){return u.store(an).J().next((d=>{l.deleteObjectStore(an),l.createObjectStore(an,{keyPath:Sp,autoIncrement:!0}).createIndex(ts,Pp,{unique:!0});const g=u.store(an),m=d.map((C=>g.put(C)));return V.waitFor(m)}))})(t,i)))),o=o.next((()=>{(function(l){l.createObjectStore(ei,{keyPath:V6})})(t)}))),r<5&&s>=5&&(o=o.next((()=>this.yi(i)))),r<6&&s>=6&&(o=o.next((()=>((function(l){l.createObjectStore(ko)})(t),this.wi(i))))),r<7&&s>=7&&(o=o.next((()=>this.Si(i)))),r<8&&s>=8&&(o=o.next((()=>this.bi(t,i)))),r<9&&s>=9&&(o=o.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&s>=10&&(o=o.next((()=>this.Di(i)))),r<11&&s>=11&&(o=o.next((()=>{(function(l){l.createObjectStore(Fc,{keyPath:x6})})(t),(function(l){l.createObjectStore(Bc,{keyPath:D6})})(t)}))),r<12&&s>=12&&(o=o.next((()=>{(function(l){const u=l.createObjectStore(Uc,{keyPath:B6});u.createIndex(bu,U6,{unique:!1}),u.createIndex(a0,j6,{unique:!1})})(t)}))),r<13&&s>=13&&(o=o.next((()=>(function(l){const u=l.createObjectStore(nc,{keyPath:T6});u.createIndex(Da,b6),u.createIndex(r0,w6)})(t))).next((()=>this.Ci(t,i))).next((()=>t.deleteObjectStore(Qr)))),r<14&&s>=14&&(o=o.next((()=>this.Fi(t,i)))),r<15&&s>=15&&(o=o.next((()=>(function(l){l.createObjectStore(Rh,{keyPath:N6,autoIncrement:!0}).createIndex(Tu,k6,{unique:!1}),l.createObjectStore(lo,{keyPath:M6}).createIndex(i0,O6,{unique:!1}),l.createObjectStore(uo,{keyPath:L6}).createIndex(o0,F6,{unique:!1})})(t)))),r<16&&s>=16&&(o=o.next((()=>{e.objectStore(lo).clear()})).next((()=>{e.objectStore(uo).clear()}))),r<17&&s>=17&&(o=o.next((()=>{(function(l){l.createObjectStore(Ch,{keyPath:G6})})(t)}))),r<18&&s>=18&&S1()&&(o=o.next((()=>{e.objectStore(lo).clear()})).next((()=>{e.objectStore(uo).clear()}))),o}wi(t){let e=0;return t.store(Qr).ee(((r,s)=>{e+=fc(s)})).next((()=>{const r={byteSize:e};return t.store(ko).put(Iu,r)}))}yi(t){const e=t.store(No),r=t.store(an);return e.J().next((s=>V.forEach(s,(i=>{const o=IDBKeyRange.bound([i.userId,rs],[i.userId,i.lastAcknowledgedBatchId]);return r.J(ts,o).next((c=>V.forEach(c,(l=>{ct(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const u=Xr(this.serializer,l);return f_(t,i.userId,u).next((()=>{}))}))))}))))}Si(t){const e=t.store(ti),r=t.store(Qr);return t.store(ss).get(rc).next((s=>{const i=[];return r.ee(((o,c)=>{const l=new Vt(o),u=(function(d){return[0,Pe(d)]})(l);i.push(e.get(u).next((f=>f?V.resolve():(d=>e.put({targetId:0,path:Pe(d),sequenceNumber:s.highestListenSequenceNumber}))(l))))})).next((()=>V.waitFor(i)))}))}bi(t,e){t.createObjectStore(Mo,{keyPath:P6});const r=e.store(Mo),s=new jh,i=o=>{if(s.add(o)){const c=o.lastSegment(),l=o.popLast();return r.put({collectionId:c,parent:Pe(l)})}};return e.store(Qr).ee({X:!0},((o,c)=>{const l=new Vt(o);return i(l.popLast())})).next((()=>e.store(Zs).ee({X:!0},(([o,c,l],u)=>{const f=Tn(c);return i(f.popLast())}))))}Di(t){const e=t.store($s);return e.ee(((r,s)=>{const i=Xi(s),o=a_(this.serializer,i);return e.put(o)}))}Ci(t,e){const r=e.store(Qr),s=[];return r.ee(((i,o)=>{const c=e.store(nc),l=(function(d){return d.document?new Z(Vt.fromString(d.document.name).popFirst(5)):d.noDocument?Z.fromSegments(d.noDocument.path):d.unknownDocument?Z.fromSegments(d.unknownDocument.path):it(36783)})(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(c.put(u))})).next((()=>V.waitFor(s)))}Fi(t,e){const r=e.store(an),s=A_(this.serializer),i=new Hh(Xc.mi,this.serializer.yt);return r.J().next((o=>{const c=new Map;return o.forEach((l=>{let u=c.get(l.userId)??At();Xr(this.serializer,l).keys().forEach((f=>u=u.add(f))),c.set(l.userId,u)})),V.forEach(c,((l,u)=>{const f=new Ie(u),d=Wc.wt(this.serializer,f),g=i.getIndexManager(f),m=Yc.wt(f,this.serializer,g,i.referenceDelegate);return new v_(s,m,d,g).recalculateAndSaveOverlaysForDocumentKeys(new wu(e,Ge.ce),l).next()}))}))}}function yg(n){n.createObjectStore(ti,{keyPath:C6}).createIndex(wh,S6,{unique:!0}),n.createObjectStore($s,{keyPath:"targetId"}).createIndex(s0,R6,{unique:!0}),n.createObjectStore(ss)}const or="IndexedDbPersistence",Kl=18e5,ql=5e3,zl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ab="main";class Kh{constructor(t,e,r,s,i,o,c,l,u,f,d=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Mi=i,this.window=o,this.document=c,this.xi=u,this.Oi=f,this.Ni=d,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=g=>Promise.resolve(),!Kh.v())throw new X(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WT(this,s),this.$i=e+ab,this.serializer=new o_(l),this.Ui=new Ar(this.$i,this.Ni,new ob(this.serializer)),this.hi=new LT,this.Pi=new qT(this.referenceDelegate,this.serializer),this.remoteDocumentCache=A_(this.serializer),this.Ii=new OT,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,f===!1&&Zt(or,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(F.FAILED_PRECONDITION,zl);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Pi.getHighestSequenceNumber(t)))})).then((t=>{this.ci=new Ge(t,this.xi)})).then((()=>{this.li=!0})).catch((t=>(this.Ui&&this.Ui.close(),Promise.reject(t))))}Ji(t){return this.Qi=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ui.$((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>va(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(t).next((e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(t))).next((e=>this.isPrimary&&!e?this.Zi(t).next((()=>!1)):!!e&&this.Xi(t).next((()=>!0)))))).catch((t=>{if(Vr(t))return z(or,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return z(or,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Mi.enqueueRetryable((()=>this.Qi(t))),this.isPrimary=t}))}Hi(t){return qi(t).get(bs).next((e=>V.resolve(this.es(e))))}ts(t){return va(t).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Kl)){this.qi=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const r=ae(e,ei);return r.J().next((s=>{const i=this.ss(s,Kl),o=s.filter((c=>i.indexOf(c)===-1));return V.forEach(o,(c=>r.delete(c.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const e of t)this.Ki.removeItem(this._s(e.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(t){return!!t&&t.ownerId===this.clientId}Yi(t){return this.Oi?V.resolve(!0):qi(t).get(bs).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,ql)&&!this.us(e.ownerId)){if(this.es(e)&&this.networkEnabled)return!0;if(!this.es(e)){if(!e.allowTabSynchronization)throw new X(F.FAILED_PRECONDITION,zl);return!1}}return!(!this.networkEnabled||!this.inForeground)||va(t).J().next((r=>this.ss(r,ql).find((s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(i||o&&c)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&z(or,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Qo,ei],(t=>{const e=new wu(t,Ge.ce);return this.Zi(e).next((()=>this.ts(e)))})),this.Ui.close(),this.Ps()}ss(t,e){return t.filter((r=>this.rs(r.updateTimeMs,e)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(t=>va(t).J().next((e=>this.ss(e,Kl).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(t,e){return Yc.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new KT(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Wc.wt(this.serializer,t)}getBundleCache(){return this.Ii}runTransaction(t,e,r){z(or,"Starting transaction:",t);const s=e==="readonly"?"readonly":"readwrite",i=(function(l){return l===18?q6:l===17?h0:l===16?K6:l===15?Sh:l===14?u0:l===13?l0:l===12?H6:l===11?c0:void it(60245)})(this.Ni);let o;return this.Ui.runTransaction(t,s,i,(c=>(o=new wu(c,this.ci?this.ci.next():Ge.ce),e==="readwrite-primary"?this.Hi(o).next((l=>!!l||this.Yi(o))).next((l=>{if(!l)throw Zt(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new X(F.FAILED_PRECONDITION,Z1);return r(o)})).next((l=>this.Xi(o).next((()=>l)))):this.Is(o).next((()=>r(o)))))).then((c=>(o.raiseOnCommittedEvent(),c)))}Is(t){return qi(t).get(bs).next((e=>{if(e!==null&&this.rs(e.leaseTimestampMs,ql)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new X(F.FAILED_PRECONDITION,zl)}))}Xi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qi(t).put(bs,e)}static v(){return Ar.v()}Zi(t){const e=qi(t);return e.get(bs).next((r=>this.es(r)?(z(or,"Releasing primary lease."),e.delete(bs)):V.resolve()))}rs(t,e){const r=Date.now();return!(t<r-e)&&(!(t>r)||(Zt(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;C1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(t){try{const e=this.Ki?.getItem(this._s(t))!==null;return z(or,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return Zt(or,"Failed to get zombied client id.",e),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(t){Zt("Failed to set zombie client id.",t)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function qi(n){return ae(n,Qo)}function va(n){return ae(n,ei)}function E_(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,e,r,s){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=s}static As(t,e){let r=At(),s=At();for(const i of e.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new qh(t,e.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return C1()?8:t0(Ja())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,s){const i={result:null};return this.ys(t,e).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(t,e,s,r).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new cb;return this.Ss(t,e,o).next((c=>{if(i.result=c,this.Vs)return this.bs(t,e,o,c.size)}))})).next((()=>i.result))}bs(t,e,r,s){return r.documentReadCount<this.fs?(Ns()<=wt.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ks(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(Ns()<=wt.DEBUG&&z("QueryEngine","Query:",ks(e),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ns()<=wt.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ks(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ze(e))):V.resolve())}ys(t,e){if(Gp(e))return V.resolve(null);let r=Ze(e);return this.indexManager.getIndexType(t,r).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=ac(e,null,"F"),r=Ze(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((i=>{const o=At(...i);return this.ps.getDocuments(t,o).next((c=>this.indexManager.getMinOffset(t,r).next((l=>{const u=this.Ds(e,c);return this.Cs(e,u,o,l.readTime)?this.ys(t,ac(e,null,"F")):this.vs(t,u,e,l)}))))})))))}ws(t,e,r,s){return Gp(e)||s.isEqual(lt.min())?V.resolve(null):this.ps.getDocuments(t,r).next((i=>{const o=this.Ds(e,i);return this.Cs(e,o,r,s)?V.resolve(null):(Ns()<=wt.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ks(e)),this.vs(t,o,e,X1(s,Js)).next((c=>c)))}))}Ds(t,e){let r=new Ot(N0(t));return e.forEach(((s,i)=>{Yo(t,i)&&(r=r.add(i))})),r}Cs(t,e,r,s){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,e,r){return Ns()<=wt.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ks(e)),this.ps.getDocumentsMatchingQuery(t,e,tn.min(),r)}vs(t,e,r,s){return this.ps.getDocumentsMatchingQuery(t,r,s).next((i=>(e.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="LocalStore",lb=3e8;class ub{constructor(t,e,r,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new Ht(gt),this.xs=new Wn((i=>hs(i)),Wo),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function T_(n,t,e,r){return new ub(n,t,e,r)}async function b_(n,t){const e=ot(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return e.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((i=>{const o=[],c=[];let l=At();for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of i){c.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return e.localDocuments.getDocuments(r,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:c})))}))}))}function hb(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=t.batch.keys(),i=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,l,u,f){const d=u.batch,g=d.keys();let m=V.resolve();return g.forEach((C=>{m=m.next((()=>f.getEntry(l,C))).next((x=>{const k=u.docVersions.get(C);ct(k!==null,48541),x.version.compareTo(k)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),f.addEntry(x)))}))})),m.next((()=>c.mutationQueue.removeMutationBatch(l,d)))})(e,r,t,i).next((()=>i.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let l=At();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l})(t)))).next((()=>e.localDocuments.getDocuments(r,s)))}))}function w_(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function fb(n,t){const e=ot(n),r=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const c=[];t.targetChanges.forEach(((f,d)=>{const g=s.get(d);if(!g)return;c.push(e.Pi.removeMatchingKeys(i,f.removedDocuments,d).next((()=>e.Pi.addMatchingKeys(i,f.addedDocuments,d))));let m=g.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(te.EMPTY_BYTE_STRING,lt.min()).withLastLimboFreeSnapshotVersion(lt.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),s=s.insert(d,m),(function(x,k,G){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=lb?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(g,m,f)&&c.push(e.Pi.updateTargetData(i,m))}));let l=Je(),u=At();if(t.documentUpdates.forEach((f=>{t.resolvedLimboDocuments.has(f)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(i,f))})),c.push(db(i,o,t.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!r.isEqual(lt.min())){const f=e.Pi.getLastRemoteSnapshotVersion(i).next((d=>e.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(f)}return V.waitFor(c).next((()=>o.apply(i))).next((()=>e.localDocuments.getLocalViewOfDocuments(i,l,u))).next((()=>l))})).then((i=>(e.Ms=s,i)))}function db(n,t,e){let r=At(),s=At();return e.forEach((i=>r=r.add(i))),t.getEntries(n,r).next((i=>{let o=Je();return e.forEach(((c,l)=>{const u=i.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(lt.min())?(t.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(c,l)):z(zh,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:s}}))}function pb(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=rs),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function pc(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return e.Pi.getTargetData(r,t).next((i=>i?(s=i,V.resolve(s)):e.Pi.allocateTargetId(r).next((o=>(s=new Bn(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=e.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function ui(n,t,e){const r=ot(n),s=r.Ms.get(t),i=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",i,(o=>r.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Vr(o))throw o;z(zh,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Bu(n,t,e){const r=ot(n);let s=lt.min(),i=At();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,f){const d=ot(l),g=d.xs.get(f);return g!==void 0?V.resolve(d.Ms.get(g)):d.Pi.getTargetData(u,f)})(r,o,Ze(t)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((l=>{i=l}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,t,e?s:lt.min(),e?i:At()))).next((c=>(S_(r,D0(t),c),{documents:c,Qs:i})))))}function R_(n,t){const e=ot(n),r=ot(e.Pi),s=e.Ms.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",(i=>r.At(i,t).next((o=>o?o.target:null))))}function C_(n,t){const e=ot(n),r=e.Os.get(t)||lt.min();return e.persistence.runTransaction("Get new document changes","readonly",(s=>e.Ns.getAllFromCollectionGroup(s,t,X1(r,Js),Number.MAX_SAFE_INTEGER))).then((s=>(S_(e,t,s),s)))}function S_(n,t,e){let r=n.Os.get(t)||lt.min();e.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),n.Os.set(t,r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="firestore_clients";function Ag(n,t){return`${P_}_${n}_${t}`}const V_="firestore_mutations";function vg(n,t,e){let r=`${V_}_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const x_="firestore_targets";function Ql(n,t){return`${x_}_${n}_${t}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="SharedClientState";class gc{constructor(t,e,r,s){this.user=t,this.batchId=e,this.state=r,this.error=s}static Ws(t,e,r){const s=JSON.parse(r);let i,o=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return o&&s.error&&(o=typeof s.error.message=="string"&&typeof s.error.code=="string",o&&(i=new X(s.error.code,s.error.message))),o?new gc(t,e,s.state,i):(Zt(In,`Failed to parse mutation state for ID '${e}': ${r}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mo{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Ws(t,e){const r=JSON.parse(e);let s,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(s=new X(r.error.code,r.error.message))),i?new mo(t,r.state,s):(Zt(In,`Failed to parse target state for ID '${t}': ${e}`),null)}Gs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class mc{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ws(t,e){const r=JSON.parse(e);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,i=Nh();for(let o=0;s&&o<r.activeTargetIds.length;++o)s=e0(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return s?new mc(t,i):(Zt(In,`Failed to parse client data for instance '${t}': ${e}`),null)}}class Qh{constructor(t,e){this.clientId=t,this.onlineState=e}static Ws(t){const e=JSON.parse(t);return typeof e=="object"&&["Unknown","Online","Offline"].indexOf(e.onlineState)!==-1&&typeof e.clientId=="string"?new Qh(e.clientId,e.onlineState):(Zt(In,`Failed to parse online state: ${t}`),null)}}class Uu{constructor(){this.activeTargetIds=Nh()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Wl{constructor(t,e,r,s,i){this.window=t,this.Mi=e,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Ht(gt),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.eo=Ag(this.persistenceKey,this.Js),this.no=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Uu),this.ro=new RegExp(`^${P_}_${o}_([^_]*)$`),this.io=new RegExp(`^${V_}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${x_}_${o}_(\\d+)$`),this.oo=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this._o=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.Ts();for(const r of t){if(r===this.Js)continue;const s=this.getItem(Ag(this.persistenceKey,r));if(s){const i=mc.Ws(r,s);i&&(this.Zs=this.Zs.insert(i.clientId,i))}}this.ao();const e=this.storage.getItem(this.oo);if(e){const r=this.uo(e);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(t){this.setItem(this.no,JSON.stringify(t))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(t){let e=!1;return this.Zs.forEach(((r,s)=>{s.activeTargetIds.has(t)&&(e=!0)})),e}addPendingMutation(t){this.ho(t,"pending")}updateMutationState(t,e,r){this.ho(t,e,r),this.Po(t)}addLocalQueryTarget(t,e=!0){let r="not-current";if(this.isActiveQueryTarget(t)){const s=this.storage.getItem(Ql(this.persistenceKey,t));if(s){const i=mo.Ws(t,s);i&&(r=i.state)}}return e&&this.To.zs(t),this.ao(),r}removeLocalQueryTarget(t){this.To.js(t),this.ao()}isLocalQueryTarget(t){return this.To.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ql(this.persistenceKey,t))}updateQueryState(t,e,r){this.Io(t,e,r)}handleUserChange(t,e,r){e.forEach((s=>{this.Po(s)})),this.currentUser=t,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(t){this.Eo(t)}notifyBundleLoaded(t){this.Ao(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return z(In,"READ",t,e),e}setItem(t,e){z(In,"SET",t,e),this.storage.setItem(t,e)}removeItem(t){z(In,"REMOVE",t),this.storage.removeItem(t)}Ys(t){const e=t;if(e.storageArea===this.storage){if(z(In,"EVENT",e.key,e.newValue),e.key===this.eo)return void Zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(e.key!==null){if(this.ro.test(e.key)){if(e.newValue==null){const r=this.Ro(e.key);return this.Vo(r,null)}{const r=this.mo(e.key,e.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(e.key)){if(e.newValue!==null){const r=this.fo(e.key,e.newValue);if(r)return this.po(r)}}else if(this.so.test(e.key)){if(e.newValue!==null){const r=this.yo(e.key,e.newValue);if(r)return this.wo(r)}}else if(e.key===this.oo){if(e.newValue!==null){const r=this.uo(e.newValue);if(r)return this.co(r)}}else if(e.key===this.no){const r=(function(i){let o=Ge.ce;if(i!=null)try{const c=JSON.parse(i);ct(typeof c=="number",30636,{So:i}),o=c}catch(c){Zt(In,"Failed to read sequence number from WebStorage",c)}return o})(e.newValue);r!==Ge.ce&&this.sequenceNumberHandler(r)}else if(e.key===this._o){const r=this.bo(e.newValue);await Promise.all(r.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(e)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(t,e,r){const s=new gc(this.currentUser,t,e,r),i=vg(this.persistenceKey,this.currentUser,t);this.setItem(i,s.Gs())}Po(t){const e=vg(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Eo(t){const e={clientId:this.Js,onlineState:t};this.storage.setItem(this.oo,JSON.stringify(e))}Io(t,e,r){const s=Ql(this.persistenceKey,t),i=new mo(t,e,r);this.setItem(s,i.Gs())}Ao(t){const e=JSON.stringify(Array.from(t));this.setItem(this._o,e)}Ro(t){const e=this.ro.exec(t);return e?e[1]:null}mo(t,e){const r=this.Ro(t);return mc.Ws(r,e)}fo(t,e){const r=this.io.exec(t),s=Number(r[1]),i=r[2]!==void 0?r[2]:null;return gc.Ws(new Ie(i),s,e)}yo(t,e){const r=this.so.exec(t),s=Number(r[1]);return mo.Ws(s,e)}uo(t){return Qh.Ws(t)}bo(t){return JSON.parse(t)}async po(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Co(t.batchId,t.state,t.error);z(In,`Ignoring mutation for non-active user ${t.user.uid}`)}wo(t){return this.syncEngine.vo(t.targetId,t.state,t.error)}Vo(t,e){const r=e?this.Zs.insert(t,e):this.Zs.remove(t),s=this.lo(this.Zs),i=this.lo(r),o=[],c=[];return i.forEach((l=>{s.has(l)||o.push(l)})),s.forEach((l=>{i.has(l)||c.push(l)})),this.syncEngine.Fo(o,c).then((()=>{this.Zs=r}))}co(t){this.Zs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}lo(t){let e=Nh();return t.forEach(((r,s)=>{e=e.unionWith(s.activeTargetIds)})),e}}class D_{constructor(){this.Mo=new Uu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Uu,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="ConnectivityMonitor";class Ig{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){z(Eg,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){z(Eg,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea=null;function ju(){return Ea===null?Ea=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ea++,"0x"+Ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="RestConnection",mb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _b{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(t,e,r,s,i){const o=ju(),c=this.zo(t,e.toUriEncodedString());z(Yl,`Sending RPC '${t}' ${o}:`,c,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(c),f=kc(u);return this.Jo(t,c,l,r,f).then((d=>(z(Yl,`Received RPC '${t}' ${o}: `,d),d)),(d=>{throw Vo(Yl,`RPC '${t}' ${o} failed with error: `,d,"url: ",c,"request:",r),d}))}Ho(t,e,r,s,i,o){return this.Go(t,e,r,s,i)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gi})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,i)=>t[i]=s)),r&&r.headers.forEach(((s,i)=>t[i]=s))}zo(t,e){const r=mb[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class Ab extends _b{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,s,i){const o=ju();return new Promise(((c,l)=>{const u=new j1;u.setWithCredentials(!0),u.listenOnce(G1.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Pa.NO_ERROR:const d=u.getResponseJson();z(Ee,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),c(d);break;case Pa.TIMEOUT:z(Ee,`RPC '${t}' ${o} timed out`),l(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const g=u.getStatus();if(z(Ee,`RPC '${t}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const C=m?.error;if(C&&C.status&&C.message){const x=(function(G){const B=G.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(B)>=0?B:F.UNKNOWN})(C.status);l(new X(x,C.message))}else l(new X(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(F.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:t,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{z(Ee,`RPC '${t}' ${o} completed.`)}}));const f=JSON.stringify(s);z(Ee,`RPC '${t}' ${o} sending request:`,s),u.send(e,"POST",f,r,15)}))}T_(t,e,r){const s=ju(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=q1(),c=K1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,e,r),l.encodeInitMessageHeaders=!0;const f=i.join("");z(Ee,`Creating RPC '${t}' stream ${s}: ${f}`,l);const d=o.createWebChannel(f,l);this.I_(d);let g=!1,m=!1;const C=new yb({Yo:k=>{m?z(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,k):(g||(z(Ee,`Opening RPC '${t}' stream ${s} transport.`),d.open(),g=!0),z(Ee,`RPC '${t}' stream ${s} sending:`,k),d.send(k))},Zo:()=>d.close()}),x=(k,G,B)=>{k.listen(G,(U=>{try{B(U)}catch(q){setTimeout((()=>{throw q}),0)}}))};return x(d,Qi.EventType.OPEN,(()=>{m||(z(Ee,`RPC '${t}' stream ${s} transport opened.`),C.o_())})),x(d,Qi.EventType.CLOSE,(()=>{m||(m=!0,z(Ee,`RPC '${t}' stream ${s} transport closed`),C.a_(),this.E_(d))})),x(d,Qi.EventType.ERROR,(k=>{m||(m=!0,Vo(Ee,`RPC '${t}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),C.a_(new X(F.UNAVAILABLE,"The operation could not be completed")))})),x(d,Qi.EventType.MESSAGE,(k=>{if(!m){const G=k.data[0];ct(!!G,16349);const B=G,U=B?.error||B[0]?.error;if(U){z(Ee,`RPC '${t}' stream ${s} received error:`,U);const q=U.status;let tt=(function(A){const y=ee[A];if(y!==void 0)return z0(y)})(q),rt=U.message;tt===void 0&&(tt=F.INTERNAL,rt="Unknown error status: "+q+" with message "+U.message),m=!0,C.a_(new X(tt,rt)),d.close()}else z(Ee,`RPC '${t}' stream ${s} received:`,G),C.u_(G)}})),x(c,H1.STAT_EVENT,(k=>{k.stat===Au.PROXY?z(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):k.stat===Au.NOPROXY&&z(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){return typeof window<"u"?window:null}function Ba(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){return new wT(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,e,r=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="PersistentStream";class M_{constructor(t,e,r,s,i,o,c,l){this.Mi=t,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k_(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===F.RESOURCE_EXHAUSTED?(Zt(e.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===e&&this.G_(r,s)}),(r=>{t((()=>{const s=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return z(Tg,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(z(Tg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vb extends M_{constructor(t,e,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,s,o),this.serializer=i}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=ST(this.serializer,t),r=(function(i){if(!("targetChange"in i))return lt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?lt.min():o.readTime?Fe(o.readTime):lt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=ku(this.serializer),e.addTarget=(function(i,o){let c;const l=o.target;if(c=ic(l)?{documents:t_(i,l)}:{query:e_(i,l).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Y0(i,o.resumeToken);const u=Du(i,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(lt.min())>0){c.readTime=li(i,o.snapshotVersion.toTimestamp());const u=Du(i,o.expectedCount);u!==null&&(c.expectedCount=u)}return c})(this.serializer,t);const r=VT(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=ku(this.serializer),e.removeTarget=t,this.q_(e)}}class Eb extends M_{constructor(t,e,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ct(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ct(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ct(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=PT(t.writeResults,t.commitTime),r=Fe(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=ku(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>lc(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{}class Tb extends Ib{constructor(t,e,r,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(t,Nu(e,r),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())}))}Ho(t,e,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(t,Nu(e,r),s,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bb{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zt(e),this.aa=!1):z("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class wb{constructor(t,e,r,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{ys(this)&&(z(gs,"Restarting streams for network reachability change."),await(async function(l){const u=ot(l);u.Ea.add(4),await Zo(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Zc(u)})(this))}))})),this.Ra=new bb(r,s)}}async function Zc(n){if(ys(n))for(const t of n.da)await t(!0)}async function Zo(n){for(const t of n.da)await t(!1)}function $c(n,t){const e=ot(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Xh(e)?Yh(e):Ai(e).O_()&&Wh(e,t))}function hi(n,t){const e=ot(n),r=Ai(e);e.Ia.delete(t),r.O_()&&O_(e,t),e.Ia.size===0&&(r.O_()?r.L_():ys(e)&&e.Ra.set("Unknown"))}function Wh(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(lt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ai(n).Y_(t)}function O_(n,t){n.Va.Ue(t),Ai(n).Z_(t)}function Yh(n){n.Va=new ET({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ai(n).start(),n.Ra.ua()}function Xh(n){return ys(n)&&!Ai(n).x_()&&n.Ia.size>0}function ys(n){return ot(n).Ea.size===0}function L_(n){n.Va=void 0}async function Rb(n){n.Ra.set("Online")}async function Cb(n){n.Ia.forEach(((t,e)=>{Wh(n,t)}))}async function Sb(n,t){L_(n),Xh(n)?(n.Ra.ha(t),Yh(n)):n.Ra.set("Unknown")}async function Pb(n,t,e){if(n.Ra.set("Online"),t instanceof W0&&t.state===2&&t.cause)try{await(async function(s,i){const o=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.Ia.delete(c),s.Va.removeTarget(c))})(n,t)}catch(r){z(gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _c(n,r)}else if(t instanceof La?n.Va.Ze(t):t instanceof Q0?n.Va.st(t):n.Va.tt(t),!e.isEqual(lt.min()))try{const r=await w_(n.localStore);e.compareTo(r)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=i.Ia.get(u);f&&i.Ia.set(u,f.withResumeToken(l.resumeToken,o))}})),c.targetMismatches.forEach(((l,u)=>{const f=i.Ia.get(l);if(!f)return;i.Ia.set(l,f.withResumeToken(te.EMPTY_BYTE_STRING,f.snapshotVersion)),O_(i,l);const d=new Bn(f.target,l,u,f.sequenceNumber);Wh(i,d)})),i.remoteSyncer.applyRemoteEvent(c)})(n,e)}catch(r){z(gs,"Failed to raise snapshot:",r),await _c(n,r)}}async function _c(n,t,e){if(!Vr(t))throw t;n.Ea.add(1),await Zo(n),n.Ra.set("Offline"),e||(e=()=>w_(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{z(gs,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Zc(n)}))}function F_(n,t){return t().catch((e=>_c(n,e,t)))}async function yi(n){const t=ot(n),e=Rr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:rs;for(;Vb(t);)try{const s=await pb(t.localStore,r);if(s===null){t.Ta.length===0&&e.L_();break}r=s.batchId,xb(t,s)}catch(s){await _c(t,s)}B_(t)&&U_(t)}function Vb(n){return ys(n)&&n.Ta.length<10}function xb(n,t){n.Ta.push(t);const e=Rr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function B_(n){return ys(n)&&!Rr(n).x_()&&n.Ta.length>0}function U_(n){Rr(n).start()}async function Db(n){Rr(n).ra()}async function Nb(n){const t=Rr(n);for(const e of n.Ta)t.ea(e.mutations)}async function kb(n,t,e){const r=n.Ta.shift(),s=Oh.from(r,t,e);await F_(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await yi(n)}async function Mb(n,t){t&&Rr(n).X_&&await(async function(r,s){if((function(o){return yT(o)&&o!==F.ABORTED})(s.code)){const i=r.Ta.shift();Rr(r).B_(),await F_(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await yi(r)}})(n,t),B_(n)&&U_(n)}async function bg(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),z(gs,"RemoteStore received new credentials");const r=ys(e);e.Ea.add(3),await Zo(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Zc(e)}async function Gu(n,t){const e=ot(n);t?(e.Ea.delete(2),await Zc(e)):t||(e.Ea.add(2),await Zo(e),e.Ra.set("Unknown"))}function Ai(n){return n.ma||(n.ma=(function(e,r,s){const i=ot(e);return i.sa(),new vb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Rb.bind(null,n),t_:Cb.bind(null,n),r_:Sb.bind(null,n),H_:Pb.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Xh(n)?Yh(n):n.Ra.set("Unknown")):(await n.ma.stop(),L_(n))}))),n.ma}function Rr(n){return n.fa||(n.fa=(function(e,r,s){const i=ot(e);return i.sa(),new Eb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Db.bind(null,n),r_:Mb.bind(null,n),ta:Nb.bind(null,n),na:kb.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await yi(n)):(await n.fa.stop(),n.Ta.length>0&&(z(gs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(t,e,r,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,s,i){const o=Date.now()+r,c=new Jh(t,e,o,s,i);return c.start(r),c}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(n,t){if(Zt("AsyncQueue",`${t}: ${n}`),Vr(n))return new X(F.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{static emptySet(t){return new Ks(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Z.comparator(e.key,r.key):(e,r)=>Z.comparator(e.key,r.key),this.keyedMap=Wi(),this.sortedSet=new Ht(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ks)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.ga=new Ht(Z.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):it(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class fi{constructor(t,e,r,s,i,o,c,l,u){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,e,r,s,i){const o=[];return e.forEach((c=>{o.push({type:0,doc:c})})),new fi(t,e,Ks.emptySet(e),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==r[s].type||!e[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Lb{constructor(){this.queries=Rg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const s=ot(e),i=s.queries;s.queries=Rg(),i.forEach(((o,c)=>{for(const l of c.Sa)l.onError(r)}))})(this,new X(F.ABORTED,"Firestore shutting down"))}}function Rg(){return new Wn((n=>x0(n)),Kc)}async function Fb(n,t){const e=ot(n);let r=3;const s=t.query;let i=e.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Ob,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await e.onListen(s,!0);break;case 1:i.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(o){const c=Zh(o,`Initialization of query '${ks(t.query)}' failed`);return void t.onError(c)}e.queries.set(s,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&$h(e)}async function Bb(n,t){const e=ot(n),r=t.query;let s=3;const i=e.queries.get(r);if(i){const o=i.Sa.indexOf(t);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Ub(n,t){const e=ot(n);let r=!1;for(const s of t){const i=s.query,o=e.queries.get(i);if(o){for(const c of o.Sa)c.Fa(s)&&(r=!0);o.wa=s}}r&&$h(e)}function jb(n,t,e){const r=ot(n),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(e);r.queries.delete(t)}function $h(n){n.Ca.forEach((t=>{t.next()}))}var Hu,Cg;(Cg=Hu||(Hu={})).Ma="default",Cg.Cache="cache";class Gb{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new fi(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=fi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Hu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t){this.key=t}}class G_{constructor(t){this.key=t}}class Hb{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=At(),this.mutatedKeys=At(),this.eu=N0(t),this.tu=new Ks(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new wg,s=e?e.tu:this.tu;let i=e?e.mutatedKeys:this.mutatedKeys,o=s,c=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((f,d)=>{const g=s.get(f),m=Yo(this.query,d)?d:null,C=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;g&&m?g.data.isEqual(m.data)?C!==x&&(r.track({type:3,doc:m}),k=!0):this.su(g,m)||(r.track({type:2,doc:m}),k=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(c=!0)):!g&&m?(r.track({type:0,doc:m}),k=!0):g&&!m&&(r.track({type:1,doc:g}),k=!0,(l||u)&&(c=!0)),k&&(m?(o=o.add(m),i=x?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:i}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort(((f,d)=>(function(m,C){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:k})}};return x(m)-x(C)})(f.type,d.type)||this.eu(f.doc,d.doc))),this.ou(r),s=s??!1;const c=e&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new fi(this.query,t.tu,i,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=At(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new G_(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new j_(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=At();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return fi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vi="SyncEngine";class Kb{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class qb{constructor(t){this.key=t,this.hu=!1}}class zb{constructor(t,e,r,s,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Wn((c=>x0(c)),Kc),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(Z.comparator),this.Au=new Map,this.Ru=new Gh,this.Vu={},this.mu=new Map,this.fu=ps.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qb(n,t,e=!0){const r=tl(n);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await H_(r,t,e,!0),s}async function Wb(n,t){const e=tl(n);await H_(e,t,!0,!1)}async function H_(n,t,e,r){const s=await pc(n.localStore,Ze(t)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,e);let c;return r&&(c=await tf(n,t,i,o==="current",s.resumeToken)),n.isPrimaryClient&&e&&$c(n.remoteStore,s),c}async function tf(n,t,e,r,s){n.pu=(d,g,m)=>(async function(x,k,G,B){let U=k.view.ru(G);U.Cs&&(U=await Bu(x.localStore,k.query,!1).then((({documents:I})=>k.view.ru(I,U))));const q=B&&B.targetChanges.get(k.targetId),tt=B&&B.targetMismatches.get(k.targetId)!=null,rt=k.view.applyChanges(U,x.isPrimaryClient,q,tt);return Ku(x,k.targetId,rt.au),rt.snapshot})(n,d,g,m);const i=await Bu(n.localStore,t,!0),o=new Hb(t,i.Qs),c=o.ru(i.documents),l=Jo.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",s),u=o.applyChanges(c,n.isPrimaryClient,l);Ku(n,e,u.au);const f=new Kb(t,e,o);return n.Tu.set(t,f),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),u.snapshot}async function Yb(n,t,e){const r=ot(n),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((o=>!Kc(o,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ui(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),e&&hi(r.remoteStore,s.targetId),di(r,s.targetId)})).catch(Pr)):(di(r,s.targetId),await ui(r.localStore,s.targetId,!0))}async function Xb(n,t){const e=ot(n),r=e.Tu.get(t),s=e.Iu.get(r.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),hi(e.remoteStore,r.targetId))}async function Jb(n,t,e){const r=sf(n);try{const s=await(function(o,c){const l=ot(o),u=kt.now(),f=c.reduce(((m,C)=>m.add(C.key)),At());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let C=Je(),x=At();return l.Ns.getEntries(m,f).next((k=>{C=k,C.forEach(((G,B)=>{B.isValidDocument()||(x=x.add(G))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,C))).next((k=>{d=k;const G=[];for(const B of c){const U=mT(B,d.get(B.key).overlayedDocument);U!=null&&G.push(new Yn(B.key,U,E0(U.value.mapValue),Le.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,G,c)})).next((k=>{g=k;const G=k.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,k.batchId,G)}))})).then((()=>({batchId:g.batchId,changes:M0(d)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),(function(o,c,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ht(gt)),u=u.insert(c,l),o.Vu[o.currentUser.toKey()]=u})(r,s.batchId,e),await Dr(r,s.changes),await yi(r.remoteStore)}catch(s){const i=Zh(s,"Failed to persist write");e.reject(i)}}async function K_(n,t){const e=ot(n);try{const r=await fb(e.localStore,t);t.targetChanges.forEach(((s,i)=>{const o=e.Au.get(i);o&&(ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ct(o.hu,14607):s.removedDocuments.size>0&&(ct(o.hu,42227),o.hu=!1))})),await Dr(e,r,t)}catch(r){await Pr(r)}}function Sg(n,t,e){const r=ot(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const s=[];r.Tu.forEach(((i,o)=>{const c=o.view.va(t);c.snapshot&&s.push(c.snapshot)})),(function(o,c){const l=ot(o);l.onlineState=c;let u=!1;l.queries.forEach(((f,d)=>{for(const g of d.Sa)g.va(c)&&(u=!0)})),u&&$h(l)})(r.eventManager,t),s.length&&r.Pu.H_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Zb(n,t,e){const r=ot(n);r.sharedClientState.updateQueryState(t,"rejected",e);const s=r.Au.get(t),i=s&&s.key;if(i){let o=new Ht(Z.comparator);o=o.insert(i,Jt.newNoDocument(i,lt.min()));const c=At().add(i),l=new Xo(lt.min(),new Map,new Ht(gt),o,c);await K_(r,l),r.du=r.du.remove(i),r.Au.delete(t),rf(r)}else await ui(r.localStore,t,!1).then((()=>di(r,t,e))).catch(Pr)}async function $b(n,t){const e=ot(n),r=t.batch.batchId;try{const s=await hb(e.localStore,t);nf(e,r,null),ef(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Dr(e,s)}catch(s){await Pr(s)}}async function tw(n,t,e){const r=ot(n);try{const s=await(function(o,c){const l=ot(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let f;return l.mutationQueue.lookupMutationBatch(u,c).next((d=>(ct(d!==null,37113),f=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,c))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f))).next((()=>l.localDocuments.getDocuments(u,f)))}))})(r.localStore,t);nf(r,t,e),ef(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Dr(r,s)}catch(s){await Pr(s)}}function ef(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function nf(n,t,e){const r=ot(n);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function di(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||q_(n,r)}))}function q_(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(hi(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),rf(n))}function Ku(n,t,e){for(const r of e)r instanceof j_?(n.Ru.addReference(r.key,t),ew(n,r)):r instanceof G_?(z(vi,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||q_(n,r.key)):it(19791,{wu:r})}function ew(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(z(vi,"New document in limbo: "+e),n.Eu.add(r),rf(n))}function rf(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Z(Vt.fromString(t)),r=n.fu.next();n.Au.set(r,new qb(e)),n.du=n.du.insert(e,r),$c(n.remoteStore,new Bn(Ze(Hc(e.path)),r,"TargetPurposeLimboResolution",Ge.ce))}}async function Dr(n,t,e){const r=ot(n),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,l)=>{o.push(r.pu(l,t,e).then((u=>{if((u||e)&&r.isPrimaryClient){const f=u?!u.fromCache:e?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=qh.As(l.targetId,u);i.push(f)}})))})),await Promise.all(o),r.Pu.H_(s),await(async function(l,u){const f=ot(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>V.forEach(u,(g=>V.forEach(g.Es,(m=>f.persistence.referenceDelegate.addReference(d,g.targetId,m))).next((()=>V.forEach(g.ds,(m=>f.persistence.referenceDelegate.removeReference(d,g.targetId,m)))))))))}catch(d){if(!Vr(d))throw d;z(zh,"Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const m=f.Ms.get(g),C=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(C);f.Ms=f.Ms.insert(g,x)}}})(r.localStore,i))}async function nw(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){z(vi,"User change. New user:",t.toKey());const r=await b_(e.localStore,t);e.currentUser=t,(function(i,o){i.mu.forEach((c=>{c.forEach((l=>{l.reject(new X(F.CANCELLED,o))}))})),i.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Dr(e,r.Ls)}}function rw(n,t){const e=ot(n),r=e.Au.get(t);if(r&&r.hu)return At().add(r.key);{let s=At();const i=e.Iu.get(t);if(!i)return s;for(const o of i){const c=e.Tu.get(o);s=s.unionWith(c.view.nu)}return s}}async function sw(n,t){const e=ot(n),r=await Bu(e.localStore,t.query,!0),s=t.view.cu(r);return e.isPrimaryClient&&Ku(e,t.targetId,s.au),s}async function iw(n,t){const e=ot(n);return C_(e.localStore,t).then((r=>Dr(e,r)))}async function ow(n,t,e,r){const s=ot(n),i=await(function(c,l){const u=ot(c),f=ot(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",(d=>f.er(d,l).next((g=>g?u.localDocuments.getDocuments(d,g):V.resolve(null)))))})(s.localStore,t);i!==null?(e==="pending"?await yi(s.remoteStore):e==="acknowledged"||e==="rejected"?(nf(s,t,r||null),ef(s,t),(function(c,l){ot(ot(c).mutationQueue).ir(l)})(s.localStore,t)):it(6720,"Unknown batchState",{Su:e}),await Dr(s,i)):z(vi,"Cannot apply mutation batch with id: "+t)}async function aw(n,t){const e=ot(n);if(tl(e),sf(e),t===!0&&e.gu!==!0){const r=e.sharedClientState.getAllActiveQueryTargets(),s=await Pg(e,r.toArray());e.gu=!0,await Gu(e.remoteStore,!0);for(const i of s)$c(e.remoteStore,i)}else if(t===!1&&e.gu!==!1){const r=[];let s=Promise.resolve();e.Iu.forEach(((i,o)=>{e.sharedClientState.isLocalQueryTarget(o)?r.push(o):s=s.then((()=>(di(e,o),ui(e.localStore,o,!0)))),hi(e.remoteStore,o)})),await s,await Pg(e,r),(function(o){const c=ot(o);c.Au.forEach(((l,u)=>{hi(c.remoteStore,u)})),c.Ru.Jr(),c.Au=new Map,c.du=new Ht(Z.comparator)})(e),e.gu=!1,await Gu(e.remoteStore,!1)}}async function Pg(n,t,e){const r=ot(n),s=[],i=[];for(const o of t){let c;const l=r.Iu.get(o);if(l&&l.length!==0){c=await pc(r.localStore,Ze(l[0]));for(const u of l){const f=r.Tu.get(u),d=await sw(r,f);d.snapshot&&i.push(d.snapshot)}}else{const u=await R_(r.localStore,o);c=await pc(r.localStore,u),await tf(r,z_(u),o,!1,c.resumeToken)}s.push(c)}return r.Pu.H_(i),s}function z_(n){return P0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cw(n){return(function(e){return ot(ot(e).persistence).Ts()})(ot(n).localStore)}async function lw(n,t,e,r){const s=ot(n);if(s.gu)return void z(vi,"Ignoring unexpected query state notification.");const i=s.Iu.get(t);if(i&&i.length>0)switch(e){case"current":case"not-current":{const o=await C_(s.localStore,D0(i[0])),c=Xo.createSynthesizedRemoteEventForCurrentChange(t,e==="current",te.EMPTY_BYTE_STRING);await Dr(s,o,c);break}case"rejected":await ui(s.localStore,t,!0),di(s,t,r);break;default:it(64155,e)}}async function uw(n,t,e){const r=tl(n);if(r.gu){for(const s of t){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){z(vi,"Adding an already active target "+s);continue}const i=await R_(r.localStore,s),o=await pc(r.localStore,i);await tf(r,z_(i),o.targetId,!1,o.resumeToken),$c(r.remoteStore,o)}for(const s of e)r.Iu.has(s)&&await ui(r.localStore,s,!1).then((()=>{hi(r.remoteStore,s),di(r,s)})).catch(Pr)}}function tl(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,t),t.Pu.H_=Ub.bind(null,t.eventManager),t.Pu.yu=jb.bind(null,t.eventManager),t}function sf(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$b.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tw.bind(null,t),t}class Go{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Jc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return T_(this.persistence,new I_,t.initialUser,this.serializer)}Cu(t){return new Hh(Xc.mi,this.serializer)}Du(t){return new D_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Go.provider={build:()=>new Go};class hw extends Go{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ct(this.persistence.referenceDelegate instanceof dc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new m_(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Te.withCacheSize(this.cacheSizeBytes):Te.DEFAULT;return new Hh((r=>dc.mi(r,e)),this.serializer)}}class Q_ extends Go{constructor(t,e,r){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await sf(this.xu.syncEngine),await yi(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return T_(this.persistence,new I_,t.initialUser,this.serializer)}Fu(t,e){const r=this.persistence.referenceDelegate.garbageCollector;return new m_(r,t.asyncQueue,e)}Mu(t,e){const r=new A6(e,this.persistence);return new y6(t.asyncQueue,r)}Cu(t){const e=E_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Te.withCacheSize(this.cacheSizeBytes):Te.DEFAULT;return new Kh(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,N_(),Ba(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new D_}}class fw extends Q_{constructor(t,e){super(t,e,!1),this.xu=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.xu.syncEngine;this.sharedClientState instanceof Wl&&(this.sharedClientState.syncEngine={Co:ow.bind(null,e),vo:lw.bind(null,e),Fo:uw.bind(null,e),Ts:cw.bind(null,e),Do:iw.bind(null,e)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await aw(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(t){const e=N_();if(!Wl.v(e))throw new X(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=E_(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Wl(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class Ho{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nw.bind(null,this.syncEngine),await Gu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Lb})()}createDatastore(t){const e=Jc(t.databaseInfo.databaseId),r=(function(i){return new Ab(i)})(t.databaseInfo);return(function(i,o,c,l){return new Tb(i,o,c,l)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,s,i,o,c){return new wb(r,s,i,o,c)})(this.localStore,this.datastore,t.asyncQueue,(e=>Sg(this.syncEngine,e,0)),(function(){return Ig.v()?new Ig:new gb})())}createSyncEngine(t,e){return(function(s,i,o,c,l,u,f){const d=new zb(s,i,o,c,l,u);return f&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const r=ot(e);z(gs,"RemoteStore shutting down."),r.Ea.add(5),await Zo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ho.provider={build:()=>new Ho};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zt("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class pw{constructor(t,e,r,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=s,this.user=Ie.UNAUTHENTICATED,this.clientId=Ih.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async o=>{z(Cr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(z(Cr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Zh(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xl(n,t){n.asyncQueue.verifyOperationInProgress(),z(Cr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await b_(t.localStore,s),r=s)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Vg(n,t){n.asyncQueue.verifyOperationInProgress();const e=await gw(n);z(Cr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>bg(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>bg(t.remoteStore,s))),n._onlineComponents=t}async function gw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z(Cr,"Using user provided OfflineComponentProvider");try{await Xl(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;Vo("Error using user provided cache. Falling back to memory cache: "+e),await Xl(n,new Go)}}else z(Cr,"Using default OfflineComponentProvider"),await Xl(n,new hw(void 0));return n._offlineComponents}async function W_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(z(Cr,"Using user provided OnlineComponentProvider"),await Vg(n,n._uninitializedComponentsProvider._online)):(z(Cr,"Using default OnlineComponentProvider"),await Vg(n,new Ho))),n._onlineComponents}function mw(n){return W_(n).then((t=>t.syncEngine))}async function xg(n){const t=await W_(n),e=t.eventManager;return e.onListen=Qb.bind(null,t.syncEngine),e.onUnlisten=Yb.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Wb.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Xb.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="firestore.googleapis.com",Ng=!0;class kg{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_w,this.ssl=Ng}else this.host=t.host,this.ssl=t.ssl??Ng;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=h_;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<g_)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}g6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y_(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class of{constructor(t,e,r,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kg(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o6;switch(r.type){case"firstParty":return new l6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Dg.get(e);r&&(z("ComponentProvider","Removing Datastore"),Dg.delete(e),r.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Nr(this.firestore,t,this._query)}}class re{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new re(this.firestore,t,this._key)}toJSON(){return{type:re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(zo(e,re._jsonSchema))return new re(t,r||null,new Z(Vt.fromString(e.referencePath)))}}re._jsonSchemaVersion="firestore/documentReference/1.0",re._jsonSchema={type:ne("string",re._jsonSchemaVersion),referencePath:ne("string")};class vr extends Nr{constructor(t,e,r){super(t,e,Hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new re(this.firestore,null,new Z(t))}withConverter(t){return new vr(this.firestore,t,this._path)}}function qu(n,t,...e){if(n=pn(n),W1("collection","path",t),n instanceof of){const r=Vt.fromString(t,...e);return Tp(r),new vr(n,null,r)}{if(!(n instanceof re||n instanceof vr))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(t,...e));return Tp(r),new vr(n.firestore,null,r)}}function qs(n,t,...e){if(n=pn(n),arguments.length===1&&(t=Ih.newId()),W1("doc","path",t),n instanceof of){const r=Vt.fromString(t,...e);return Ip(r),new re(n,null,new Z(r))}{if(!(n instanceof re||n instanceof vr))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Vt.fromString(t,...e));return Ip(r),new re(n.firestore,n instanceof vr?n.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="AsyncQueue";class Og{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k_(this,"async_queue_retry"),this._c=()=>{const r=Ba();r&&z(Mg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=Ba();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ba();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vr(t))throw t;z(Mg,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Zt("INTERNAL UNHANDLED ERROR: ",Lg(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=Jh.createAndSchedule(this,t,e,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&it(47125,{Pc:Lg(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Lg(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n){return(function(e,r){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(n,["next","error","complete"])}class pi extends of{constructor(t,e,r,s){super(t,e,r,s),this.type="firestore",this._queue=new Og,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Og(t),this._firestoreClient=void 0,await t}}}function yw(n,t,e){e||(e=sc);const r=k1(n,"firestore");if(r.isInitialized(e)){const s=r.getImmediate({identifier:e}),i=r.getOptions(e);if(Za(i,t))return s;throw new X(F.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(t.cacheSizeBytes!==void 0&&t.localCache!==void 0)throw new X(F.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(t.cacheSizeBytes!==void 0&&t.cacheSizeBytes!==-1&&t.cacheSizeBytes<g_)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&kc(t.host)&&w1(t.host),r.initialize({options:t,instanceIdentifier:e})}function X_(n){if(n._terminated)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Aw(n),n._firestoreClient}function Aw(n){const t=n._freezeSettings(),e=(function(s,i,o,c){return new Q6(s,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Y_(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new pw(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nn(te.fromBase64String(t))}catch(e){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new nn(te.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zo(t,nn._jsonSchema))return nn.fromBase64String(t.bytes)}}nn._jsonSchemaVersion="firestore/bytes/1.0",nn._jsonSchema={type:ne("string",nn._jsonSchemaVersion),bytes:ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return gt(this._lat,t._lat)||gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rn._jsonSchemaVersion}}static fromJSON(t){if(zo(t,Rn._jsonSchema))return new Rn(t.latitude,t.longitude)}}Rn._jsonSchemaVersion="firestore/geoPoint/1.0",Rn._jsonSchema={type:ne("string",Rn._jsonSchemaVersion),latitude:ne("number"),longitude:ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zo(t,Cn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Cn(t.vectorValues);throw new X(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cn._jsonSchemaVersion="firestore/vectorValue/1.0",Cn._jsonSchema={type:ne("string",Cn._jsonSchemaVersion),vectorValues:ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=/^__.*__$/;class Ew{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new Yn(t,this.data,this.fieldMask,e,this.fieldTransforms):new _i(t,this.data,e,this.fieldTransforms)}}class J_{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Yn(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Z_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:n})}}class af{constructor(t,e,r,s,i,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new af({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){const e=this.path?.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return yc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Z_(this.Ac)&&vw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Iw{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Jc(t)}Cc(t,e,r,s=!1){return new af({Ac:t,methodName:e,Dc:r,path:Qt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(n){const t=n._freezeSettings(),e=Jc(n._databaseId);return new Iw(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Tw(n,t,e,r,s,i={}){const o=n.Cc(i.merge||i.mergeFields?2:0,t,e,s);uf("Data must be an object, but it was:",o,r);const c=$_(r,o);let l,u;if(i.merge)l=new He(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const d of i.mergeFields){const g=zu(t,d,e);if(!o.contains(g))throw new X(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);ey(f,g)||f.push(g)}l=new He(f),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new Ew(new Re(c),l,u)}class rl extends nl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rl}}class lf extends nl{_toFieldTransform(t){return new G0(t.path,new oi)}isEqual(t){return t instanceof lf}}function bw(n,t,e,r){const s=n.Cc(1,t,e);uf("Data must be an object, but it was:",s,r);const i=[],o=Re.empty();xr(r,((l,u)=>{const f=hf(t,l,e);u=pn(u);const d=s.yc(f);if(u instanceof rl)i.push(f);else{const g=$o(u,d);g!=null&&(i.push(f),o.set(f,g))}}));const c=new He(i);return new J_(o,c,s.fieldTransforms)}function ww(n,t,e,r,s,i){const o=n.Cc(1,t,e),c=[zu(t,r,e)],l=[s];if(i.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)c.push(zu(t,i[g])),l.push(i[g+1]);const u=[],f=Re.empty();for(let g=c.length-1;g>=0;--g)if(!ey(u,c[g])){const m=c[g];let C=l[g];C=pn(C);const x=o.yc(m);if(C instanceof rl)u.push(m);else{const k=$o(C,x);k!=null&&(u.push(m),f.set(m,k))}}const d=new He(u);return new J_(f,d,o.fieldTransforms)}function Rw(n,t,e,r=!1){return $o(e,n.Cc(r?4:3,t))}function $o(n,t){if(ty(n=pn(n)))return uf("Unsupported field value:",t,n),$_(n,t);if(n instanceof nl)return(function(r,s){if(!Z_(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let o=0;for(const c of r){let l=$o(c,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}})(n,t)}return(function(r,s){if((r=pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=kt.fromDate(r);return{timestampValue:li(s.serializer,i)}}if(r instanceof kt){const i=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:li(s.serializer,i)}}if(r instanceof Rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nn)return{bytesValue:Y0(s.serializer,r._byteString)};if(r instanceof re){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Bh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cn)return(function(o,c){return{mapValue:{fields:{[Vh]:{stringValue:xh},[ni]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw c.Sc("VectorValues must only contain numeric values.");return kh(c.serializer,u)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Mc(r)}`)})(n,t)}function $_(n,t){const e={};return f0(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(n,((r,s)=>{const i=$o(s,t.mc(r));i!=null&&(e[r]=i)})),{mapValue:{fields:e}}}function ty(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Rn||n instanceof nn||n instanceof re||n instanceof nl||n instanceof Cn)}function uf(n,t,e){if(!ty(e)||!Y1(e)){const r=Mc(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function zu(n,t,e){if((t=pn(t))instanceof el)return t._internalPath;if(typeof t=="string")return hf(n,t);throw yc("Field path arguments must be of type string or ",n,!1,void 0,e)}const Cw=new RegExp("[~\\*/\\[\\]]");function hf(n,t,e){if(t.search(Cw)>=0)throw yc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new el(...t.split("."))._internalPath}catch{throw yc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function yc(n,t,e,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(F.INVALID_ARGUMENT,c+n+l)}function ey(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(t,e,r,s,i){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Sw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ff("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Sw extends ny{data(){return super.data()}}function ff(n,t){return typeof t=="string"?hf(n,t):t instanceof el?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class df{}class pf extends df{}function ry(n,t,...e){let r=[];t instanceof df&&r.push(t),r=r.concat(e),(function(i){const o=i.filter((l=>l instanceof mf)).length,c=i.filter((l=>l instanceof gf)).length;if(o>1||o>0&&c>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class gf extends pf{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new gf(t,e,r)}_apply(t){const e=this._parse(t);return iy(t._query,e),new Nr(t.firestore,t.converter,xu(t._query,e))}_parse(t){const e=cf(t.firestore);return(function(i,o,c,l,u,f,d){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ug(d,f);const C=[];for(const x of d)C.push(Bg(l,i,x));g={arrayValue:{values:C}}}else g=Bg(l,i,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ug(d,f),g=Rw(c,o,d,f==="in"||f==="not-in");return Tt.create(u,f,g)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class mf extends df{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new mf(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Mt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,i){let o=s;const c=i.getFlattenedFilters();for(const l of c)iy(o,l),o=xu(o,l)})(t._query,e),new Nr(t.firestore,t.converter,xu(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _f extends pf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new _f(t,e)}_apply(t){const e=(function(s,i,o){if(s.startAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uo(i,o)})(t._query,this._field,this._direction);return new Nr(t.firestore,t.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new mi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function sy(n,t="asc"){const e=t,r=ff("orderBy",n);return _f._create(r,e)}class yf extends pf{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new yf(t,e,r)}_apply(t){return new Nr(t.firestore,t.converter,ac(t._query,this._limit,this._limitType))}}function Vw(n){return yf._create("limit",n,"F")}function Bg(n,t,e){if(typeof(e=pn(e))=="string"){if(e==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V0(t)&&e.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Vt.fromString(e));if(!Z.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fo(n,new Z(r))}if(e instanceof re)return Fo(n,e._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(e)}.`)}function Ug(n,t){if(!Array.isArray(n)||n.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iy(n,t){const e=(function(s,i){for(const o of s)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class xw{convertValue(t,e="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw it(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return xr(t,((s,i)=>{r[s]=this.convertValue(i,e)})),r}convertVectorValue(t){const e=t.fields?.[ni].arrayValue?.values?.map((r=>zt(r.doubleValue)));return new Cn(e)}convertGeoPoint(t){return new Rn(zt(t.latitude),zt(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=jc(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const e=Kn(t);return new kt(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Vt.fromString(t);ct(i_(r),9688,{name:t});const s=new us(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(e)||Zt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Ji{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class os extends ny{constructor(t,e,r,s,i,o){super(t,e,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(ff("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=os._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:ne("string",os._jsonSchemaVersion),bundleSource:ne("string","DocumentSnapshot"),bundleName:ne("string"),bundle:ne("string")};class Ua extends os{data(t={}){return super.data(t)}}class zs{constructor(t,e,r,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new Ji(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Ua(this._firestore,this._userDataWriter,r.key,r,new Ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((c=>{const l=new Ua(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ji(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const l=new Ua(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ji(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:Nw(c.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ih.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(e.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Nw(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:n})}}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:ne("string",zs._jsonSchemaVersion),bundleSource:ne("string","QuerySnapshot"),bundleName:ne("string"),bundle:ne("string")};class oy extends xw{constructor(t){super(),this.firestore=t}convertBytes(t){return new nn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new re(this.firestore,null,e)}}function Qu(n,t,e,...r){n=ns(n,re);const s=ns(n.firestore,pi),i=cf(s);let o;return o=typeof(t=pn(t))=="string"||t instanceof el?ww(i,"updateDoc",n._key,t,e,r):bw(i,"updateDoc",n._key,t),Af(s,[o.toMutation(n._key,Le.exists(!0))])}function ay(n){return Af(ns(n.firestore,pi),[new Qc(n._key,Le.none())])}function cy(n,t){const e=ns(n.firestore,pi),r=qs(n),s=Dw(n.converter,t);return Af(e,[Tw(cf(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Le.exists(!1))]).then((()=>r))}function ly(n,...t){n=pn(n);let e={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Fg(t[r])||(e=t[r++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Fg(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let i,o,c;if(n instanceof re)o=ns(n.firestore,pi),c=Hc(n._key.path),i={next:l=>{t[r]&&t[r](kw(o,n,l))},error:t[r+1],complete:t[r+2]};else{const l=ns(n,Nr);o=ns(l.firestore,pi),c=l._query;const u=new oy(o);i={next:f=>{t[r]&&t[r](new zs(o,u,l,f))},error:t[r+1],complete:t[r+2]},Pw(n._query)}return(function(u,f,d,g){const m=new dw(g),C=new Gb(f,m,d);return u.asyncQueue.enqueueAndForget((async()=>Fb(await xg(u),C))),()=>{m.Nu(),u.asyncQueue.enqueueAndForget((async()=>Bb(await xg(u),C)))}})(X_(o),c,s,i)}function Af(n,t){return(function(r,s){const i=new yr;return r.asyncQueue.enqueueAndForget((async()=>Jb(await mw(r),s,i))),i.promise})(X_(n),t)}function kw(n,t,e){const r=e.docs.get(t._key),s=new oy(n);return new os(n,s,t._key,r,new Ji(e.hasPendingWrites,e.fromCache),t.converter)}class Mw{constructor(t){let e;this.kind="persistent",t?.tabManager?(t.tabManager._initialize(t),e=t.tabManager):(e=Bw(void 0),e._initialize(t)),this._onlineComponentProvider=e._onlineComponentProvider,this._offlineComponentProvider=e._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function Ow(n){return new Mw(n)}class Lw{constructor(t){this.forceOwnership=t,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Ho.provider,this._offlineComponentProvider={build:e=>new Q_(e,t?.cacheSizeBytes,this.forceOwnership)}}}class Fw{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(t){this._onlineComponentProvider=Ho.provider,this._offlineComponentProvider={build:e=>new fw(e,t?.cacheSizeBytes)}}}function Bw(n){return new Lw(n?.forceOwnership)}function Uw(){return new Fw}function uy(){return new lf("serverTimestamp")}(function(t,e=!0){(function(s){gi=s})(O1),So(new Ys("firestore",((r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),c=new pi(new a6(r.getProvider("auth-internal")),new u6(o,r.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new us(u.options.projectId,f)})(o,s),o);return i={useFetchStreams:e,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),mr(yp,Ap,t),mr(yp,Ap,"esm2020")})();var jw="firebase",Gw="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(jw,Gw,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="firebasestorage.googleapis.com",Hw="storageBucket",Kw=120*1e3,qw=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends _s{constructor(t,e,r=0){super(Jl(t),`Firebase Storage: ${e} (${Jl(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Jl(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function Jl(n){return"storage/"+n}function zw(){const n="An unknown error occurred, please check the error payload for server response.";return new Vn(Pn.UNKNOWN,n)}function Qw(){return new Vn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ww(){return new Vn(Pn.CANCELED,"User canceled the upload/download.")}function Yw(n){return new Vn(Pn.INVALID_URL,"Invalid URL '"+n+"'.")}function Xw(n){return new Vn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function jg(n){return new Vn(Pn.INVALID_ARGUMENT,n)}function fy(){return new Vn(Pn.APP_DELETED,"The Firebase app was deleted.")}function Jw(n){return new Vn(Pn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=cn.makeFromUrl(t,e)}catch{return new cn(t,"")}if(r.path==="")return r;throw Xw(t)}static makeFromUrl(t,e){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(q){q.path_=decodeURIComponent(q.path)}const f="v[A-Za-z0-9_]+",d=e.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${f}/b/${s}/o${g}`,"i"),C={bucket:1,path:3},x=e===hy?"(?:storage.googleapis.com|storage.cloud.google.com)":e,k="([^?#]*)",G=new RegExp(`^https?://${x}/${s}/${k}`,"i"),U=[{regex:c,indices:l,postModify:i},{regex:m,indices:C,postModify:u},{regex:G,indices:{bucket:1,path:2},postModify:u}];for(let q=0;q<U.length;q++){const tt=U[q],rt=tt.regex.exec(t);if(rt){const I=rt[tt.indices.bucket];let A=rt[tt.indices.path];A||(A=""),r=new cn(I,A),tt.postModify(r);break}}if(r==null)throw Yw(t);return r}}class Zw{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n,t,e){let r=1,s=null,i=null,o=!1,c=0;function l(){return c===2}let u=!1;function f(...k){u||(u=!0,t.apply(null,k))}function d(k){s=setTimeout(()=>{s=null,n(m,l())},k)}function g(){i&&clearTimeout(i)}function m(k,...G){if(u){g();return}if(k){g(),f.call(null,k,...G);return}if(l()||o){g(),f.call(null,k,...G);return}r<64&&(r*=2);let U;c===1?(c=2,U=0):U=(r+Math.random())*1e3,d(U)}let C=!1;function x(k){C||(C=!0,g(),!u&&(s!==null?(k||(c=2),clearTimeout(s),d(0)):k||(c=1)))}return d(0),i=setTimeout(()=>{o=!0,x(!0)},e),x}function t4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n){return n!==void 0}function Gg(n,t,e,r){if(r<t)throw jg(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw jg(`Invalid value for '${n}'. Expected ${e} or less.`)}function n4(n){const t=encodeURIComponent;let e="?";for(const r in n)if(n.hasOwnProperty(r)){const s=t(r)+"="+t(n[r]);e=e+s+"&"}return e=e.slice(0,-1),e}var Ac;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ac||(Ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(n,t){const e=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=t.indexOf(n)!==-1;return e||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t,e,r,s,i,o,c,l,u,f,d,g=!0,m=!1){this.url_=t,this.method_=e,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=d,this.retry=g,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,x)=>{this.resolve_=C,this.reject_=x,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new Ia(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=c=>{const l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const c=i.getErrorCode()===Ac.NO_ERROR,l=i.getStatus();if(!c||r4(l,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Ac.ABORT;r(!1,new Ia(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Ia(u,i))})},e=(r,s)=>{const i=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());e4(l)?i(l):i()}catch(l){o(l)}else if(c!==null){const l=zw();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(s.canceled){const l=this.appDelete_?fy():Ww();o(l)}else{const l=Qw();o(l)}};this.canceled_?e(!1,new Ia(!1,null,!0)):this.backoffId_=$w(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&t4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ia{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function i4(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function o4(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function a4(n,t){t&&(n["X-Firebase-GMPID"]=t)}function c4(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function l4(n,t,e,r,s,i,o=!0,c=!1){const l=n4(n.urlParams),u=n.url+l,f=Object.assign({},n.headers);return a4(f,t),i4(f,e),o4(f,i),c4(f,r),new s4(u,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function h4(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,e){this._service=t,e instanceof cn?this._location=e:this._location=cn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new vc(t,e)}get root(){const t=new cn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h4(this._location.path)}get storage(){return this._service}get parent(){const t=u4(this._location.path);if(t===null)return null;const e=new cn(this._location.bucket,t);return new vc(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw Jw(t)}}function Hg(n,t){const e=t?.[Hw];return e==null?null:cn.makeFromBucketSpec(e,n)}function f4(n,t,e,r={}){n.host=`${t}:${e}`;const s=kc(t);s&&(w1(`https://${n.host}/b`),qE("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:GE(i,n.app.options.projectId))}class d4{constructor(t,e,r,s,i,o=!1){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=hy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kw,this._maxUploadRetryTime=qw,this._requests=new Set,s!=null?this._bucket=cn.makeFromBucketSpec(s,this._host):this._bucket=Hg(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,t):this._bucket=Hg(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Gg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Gg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(M1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vc(this,t)}_makeRequest(t,e,r,s,i=!0){if(this._deleted)return new Zw(fy());{const o=l4(t,this._appId,r,s,e,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,e){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,s).getPromise()}}const Kg="@firebase/storage",qg="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="storage";function p4(n=WI(),t){n=pn(n);const r=k1(n,dy).getImmediate({identifier:t}),s=UE("storage");return s&&g4(r,...s),r}function g4(n,t,e,r={}){f4(n,t,e,r)}function m4(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new d4(e,r,s,t,O1)}function _4(){So(new Ys(dy,m4,"PUBLIC").setMultipleInstances(!0)),mr(Kg,qg,""),mr(Kg,qg,"esm2020")}_4();const y4={apiKey:"AIzaSyAo-asycc7bdBDPMoOJ7EDP9hbVDeg9Hrs",authDomain:"bug-report-ce99b.firebaseapp.com",projectId:"bug-report-ce99b",storageBucket:"bug-report-ce99b.firebasestorage.app",messagingSenderId:"1090635700217",appId:"1:1090635700217:web:ed04a55b86508d25014f28",measurementId:"G-MPXMZXYFHE"},py=L1(y4),Fn=yw(py,{localCache:Ow({tabManager:Uw()})});p4(py);console.log("db :",Fn);const Wu=Pt([]),Yu=Pt(!1),gy=qu(Fn,"reports"),A4=ry(gy,sy("createdAt","desc"),Vw(20)),my=ly(A4,{includeMetadataChanges:!0},n=>{const t=n.docs.map(e=>{const r=e.data();let s=r.createdAt;if(s&&s.seconds){const i=new Date(s.seconds*1e3),o=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),l=String(i.getDate()).padStart(2,"0"),u=String(i.getHours()).padStart(2,"0"),f=String(i.getMinutes()).padStart(2,"0");s=`${o}-${c}-${l} ${u}:${f}`}return{id:e.id,...r,images:r.images||[],createdAt:s}});Wu.value=t,!Yu.value&&t.length>0&&(Yu.value=!0),console.log("Firestore :",Wu.value)},n=>{console.error("Firestore  :",n)}),v4=async n=>{try{const t=await cy(gy,{...n,createdAt:uy(),reactions:{"":0,"":0,"":0,"":0,"":0}});return console.log("  :",t.id),t.id}catch(t){throw console.error("  :",t),t}},E4=async(n,t)=>{try{const e=qs(Fn,"reports",n);await Qu(e,t),console.log("  :",n)}catch(e){console.error("  :",e)}},I4=async n=>{try{const t=qs(Fn,"reports",n);await ay(t),console.log("  :",n)}catch(t){console.error("  :",t)}};Vc(()=>my());function _y(){return{reports:Wu,isFetched:Yu,addReport:v4,updateReport:E4,removeReport:I4,unsubscribe:my}}const T4={class:"modal_box"},b4={key:0,class:"modal_title"},vf={__name:"Modal",props:{type:String,title:String,message:String},emits:["confirm","cancel","close"],setup(n,{emit:t}){const e=t;let r="";const s=i=>{i.key==="Escape"&&e("close")};return cs(()=>{r=document.body.style.overflow,document.body.style.overflow="hidden",window.addEventListener("keydown",s)}),Vc(()=>{document.body.style.overflow=r,window.removeEventListener("keydown",s)}),(i,o)=>(at(),dt("div",{class:"modal_overlay",onClick:o[3]||(o[3]=ph(c=>e("close"),["self"]))},[N("div",T4,[n.title?(at(),dt("h3",b4,ge(n.title),1)):fe("",!0),n.message?(at(),dt("p",{key:1,class:$e(["modal_message",{notice_message:n.title===""}])},ge(n.message),3)):fe("",!0),n.type==="help"?gd(i.$slots,"help",{key:2}):gd(i.$slots,"default",{key:3}),N("div",{class:$e(["modal_buttons",`type_${n.type}`])},[n.type==="confirm"?(at(),dt(Xt,{key:0},[N("button",{class:"btn_cancel",onClick:o[0]||(o[0]=c=>e("cancel"))},""),N("button",{class:"btn_confirm",onClick:o[1]||(o[1]=c=>e("confirm"))},"")],64)):(at(),dt("button",{key:1,class:"btn_ok",onClick:o[2]||(o[2]=c=>e("confirm"))},""))],2)])]))}},w4={key:0,class:"select_list"},R4=["onClick"],Xu={__name:"CustomSelect",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:t}){const e=[" "," "," "," "],r=t,s=Pt(!1),i=()=>{s.value=!s.value},o=c=>{r("update:modelValue",c),s.value=!1};return(c,l)=>(at(),dt("div",{class:"custom_select",onClick:i},[N("span",{class:$e({placeholder:!n.modelValue})},ge(n.modelValue||""),3),s.value?(at(),dt("ul",w4,[(at(),dt(Xt,null,ba(e,(u,f)=>N("li",{key:f,onClick:ph(d=>o(u),["stop"])},ge(u),9,R4)),64))])):fe("",!0)]))}},C4={class:"report_form"},S4={class:"form_row"},P4={class:"form_field"},V4={class:"form_field"},x4=["placeholder"],D4={class:"form_field"},N4=["disabled"],zg={__name:"ReportForm",setup(n){const t=yh(),{getRandomMessage:e}=VE(),{addReport:r}=_y(),s=Pt(""),i=Pt(""),o=Pt(""),c=Pt(null),l=()=>{const m=c.value;if(!m)return;m.style.height="auto";const C=Math.min(m.scrollHeight,130);m.style.height=`${C}px`,m.style.overflowY=m.scrollHeight>130?"auto":"hidden",m.value.trim()?m.style.padding="10px 16px":m.style.padding="10px 16px 0"},u=Oe(()=>{const m=new Date,C=m.getFullYear(),x=String(m.getMonth()+1).padStart(2,"0"),k=String(m.getDate()).padStart(2,"0"),G=String(m.getHours()).padStart(2,"0"),B=String(m.getMinutes()).padStart(2,"0");return`${C}-${x}-${k} ${G}:${B}`}),f=Oe(()=>s.value&&o.value),d=()=>{let m=i.value.replace(/\D/g,"");m.length>=5&&(m=m.replace(/(\d{4})(\d)/,"$1-$2")),m.length>=8&&(m=m.replace(/(\d{4}-\d{2})(\d)/,"$1-$2")),m.length>=11&&(m=m.replace(/(\d{4}-\d{2}-\d{2})(\d)/,"$1 $2")),m.length>=14&&(m=m.replace(/(\d{4}-\d{2}-\d{2} \d{2})(\d)/,"$1:$2")),i.value=m},g=async()=>{const m=new Date,C=m.toISOString().slice(0,16).replace("T"," "),x=i.value||m.toISOString().slice(0,16).replace("T"," "),k={category:s.value,occurredAt:x,content:o.value,createdAt:C,isOpen:!1,isEditing:!1,iconSrc:"/src/assets/images/open_icon.png"};try{await r(k);const G=e();t.openModal("alert"," .",G),s.value="",i.value="",o.value=""}catch(G){console.error("  :",G),t.openModal("alert"," ","   .")}};return(m,C)=>(at(),dt(Xt,null,[N("section",C4,[C[6]||(C[6]=N("h2",null," ",-1)),N("form",{class:"form_wrapper",onSubmit:ph(g,["prevent"])},[N("div",S4,[N("div",P4,[C[3]||(C[3]=N("label",null,"",-1)),Ut(Xu,{modelValue:s.value,"onUpdate:modelValue":C[0]||(C[0]=x=>s.value=x)},null,8,["modelValue"])]),N("div",V4,[C[4]||(C[4]=N("label",{for:"time"},"",-1)),An(N("input",{id:"time",type:"text","onUpdate:modelValue":C[1]||(C[1]=x=>i.value=x),placeholder:u.value,onInput:d,maxlength:"16"},null,40,x4),[[lr,i.value]])])]),N("div",D4,[C[5]||(C[5]=N("label",{for:"content"},"",-1)),An(N("textarea",{id:"content","onUpdate:modelValue":C[2]||(C[2]=x=>o.value=x),placeholder:"  ",ref_key:"textareaRef",ref:c,onInput:l},null,544),[[lr,o.value]])]),N("button",{class:"submit_btn",disabled:!f.value},"",8,N4)],32)]),mt(t)&&mt(t).isOpen.value?(at(),un(vf,{key:0,type:mt(t).modalType.value,title:mt(t).modalTitle.value,message:mt(t).modalMessage.value,onConfirm:mt(t).confirm,onCancel:mt(t).cancel,onClose:mt(t).closeModal},null,8,["type","title","message","onConfirm","onCancel","onClose"])):fe("",!0)],64))}},k4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAPOSURBVHgB7VhdUtRAEO6e3S2p0irjCYgnkBuIJ2ABxX0jKFg+wgmAE8CjPyjhbUGReALwBK43CCdwLcsSasm0Pdn872R3E7I+UHxVWztJJjNfema6v26AW9xwIJRAs7luNBp/TInSJEEGUu0+ERkDHYU8R4ldFNi9urjXcZzdLhTE2ASftlZnpRRziF6TXzOhBIigA4gdgXTwub13Ns47IwkqYkS4z8ObUCEI0EXCreOjdwfD+uEIclv81Zua4dVS8Q87PFGXTRNcZ0dHE/nDCMDgiWZ0cyDCNltzC4oSHCRHXbakzT/n5NP7b1AC88/WHgshLW7OJrfJMJJaggutNQuJ9hPkbO/S23Acu/Am16HVsswe1Xe42UyQfKLbl3XdAJi2nHN8+GEFKkS7bbv8N7/YemkD4bK6J/19Dg+zfUX2hjoU4YEgINdDbwMmBG/KW4dg76q92p97BEEKvijAmdP/2onAse0uHyA7vJYS5rJ9BgkCRaeNpLBhwhAIX6MLpGb2eeqQNC3LqP2t/wyvjw/3SkWaolh8vqrm9CORd3n1IHkYUxasX9Rj6wF7/f8Gir1Do2Emn6ROMUmOp9g3Guocb0G0Wq/ZnVz57ootM5/rpgg5BILpzytoGhLGSVlQBf6ozaEIrk3OOwXfKcNs7U5jObczYrykGdGRPiRSTEdtIheuTS6O3xLEWV5/Si4xiiEEC0BFm8WlV8vjkOOlsU4O3/6AfIYRQRpqwQLk/FCI0lYxexS5UYplGOpQCh6E36YEBZPkgep21eQASlrwS/sjqxrYingwST6t36smN0AQE6cJAseZS/JobztJMtW/InKQJUjo/YouEI1RL2tIliLHhjGjNqS9R9qCMrYg6pKgIST9yFPacgl3lF7F9CERJFzJYtB/BWkGxoQiyX/bUBJBShAyTBFMWbB3t+eGbU5oxrJgFUjmK9TrpfxliqDSZxDuAQRDJyCrRnIOtU2y8VqjB9EJ2zoBWTXSApkGFNQAwaSAZNNbzaY1saVWkQf6YsKHTiAPEOxnVvEy1+7UdmBCYOe+k8x/dOmsPqtDXGHXcRpcsShYNTxR33Dab1yoAKq2U5v6vcus4rQz60/D+3mDLCytbrJ2jV4K9OFZkbpKFnF9x0/eY+3J5AJXNT5BHckkVCGIn3V94lrtyLoOVeVLqXTlU323ZWjGySU3kqBPsvWCpRVulq1o5UHtOT4U1qgyythZW1hXYYvN5BWCxqDlqtpOkfpOyQKmZWCj8Yhjo6FyCCZtDgyMLONZKavYShLPoddzq6rt3OJG4R9UyOMP7scZawAAAABJRU5ErkJggg==",M4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALxSURBVHgB7ZhBbxJBFMffm0XaI9+g26PxUv0E208goY3iSaqYmHho+wmAk1d7M2kReqNVET8B9OZJvRiPrt8ATUxs2Z3nG2CXlQ6wLMuaGP4JMPNmZue3b97OzgNgpf9cCP9A2exBRqz/zIIUGwjCdoW4aDVe2rq+iQPuPigekIQSFzNBOyJU3jROyuP9DUhQu/limQiec3Fd02zdvHXnx9cvHz8EjYl5cAhXCpg6XO8wQZYhtvoWgq575Wy2WvWu1ykFCeg6HNXfnlX3hpXKzv1im38ths0YaeMul0+9ngKWLI3nwMUblWC970mvDGgG25YKqIPrT0puO5t/avoGXuZRkexg36kxmOeLXEm5DyAtRMoQYVcIeK972kLAdUAt41DsKVuisW1ArwyEDz27ixyDjbrt38ykCXL5J4UeOZ8Q5QFvARzEaKpfNWku92wD5oJTMXeyTYhe3ClPmQZfPwjHY8pBuEE/jZTnGO6bro14CZpn1U2YC85/IPo3jkS1a9dluOb5SWXcrvVgj9xSEEhKtKi3ZqqPvHRvQ0Q4pWbjuA4weiimwSlptxmG2vJcS1IU3r0+voAZCgOntJN/XOcJrDBwSloPcnz4ryF00zbECvd3zE2Dmwg4j5YJtzDgsuEWAkwCLjKg2iqSgIsMCJL8jZqWCBcdMChCe9wUF5xS7IeFOOGUFj4P8vvZyt0rDstoMlFscEpxHFgtBTkokm+MA04p2hIL+X1ac1xwSpE82Gy8qufyj0CljeNt6sDZPK+e6sapdBPWf2cmpZixAXqQMKeMtV98/iOTY/aQPfwizJil5ySeBkd8MvsVpP2w4xIDjCotIOcLfl4q0pebEINS4Jij2uj6s8fp1YFhMi0Ja3ww2HMgZcMCcJxw1UbbEH0OP1ajNDpHPUoVuJhRyQ1vG20DHIgqCnwrSXQXO800OLPiDOwQYhd1gURhPHObphl5cYGzO6PEMbkVTAPmxlIxx/8eSOEczQO30korhdAfqQG2SzafVEcAAAAASUVORK5CYII=",O4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAP9SURBVHgB7VhdbtNAEJ7ZJAIJJMwJMCegNwBOUNNCCU8YCIjH9ARJT9A+IijCfSuFgjkB5QblBuYEBCEEKPUOs/7ddbZxfnmo+klVbe9m9tvZ+V2Ac5xxIMwAz+s6rdYvV6J0SZCD1LhCRM7IRCG/ocQBChyc/Ll8HIY7A5gSExO82+7cklKsIsYe/8yFGUAEx4B4LJD23u/vHk3ym1qCihgRvmHxLiwQBBghYf/w4OXeuHlYQ67Pu+5ZxKuj4j885oUGrJrsvSodXeSNEYDDC63Y1kCELdZmH6YlOEqOBqzJgP/Cj+9efYEZcOfe05tCSJ8fb+lmMo6kleBa+6mPRG80ckH8N94Mw2BqI7eh3fbdITW3+dHTSN622WXTJgBNzYWHb18/ggVifz+I+N+d9faTAAgfqm8ysXO4Xp0rqh+UU+QOQUBRjPEmLAnxxbgLme0qW03XriFI2Y4yHIXpbpeCMAgG7EBB/i4lrFbnjBIEKryNpAhgyRAIn4oXJK86bjiJ5/tO43fze/5++HZ3pkwzLdbvd9SaSSaK/55c1Z3R0GDzT7PUHnDU/2+gMjq0Wq4+YngxSc6nmCoNbYG3gvWNZx6B7AkBn6px7O6DTlfG8JCNf+vw4HU4VhAhp0Bwk3UFXQNNOYYGVeIvnjkVQQ0IZY/3s6ICugrsBTkV5CVsJ2OIvTo5rJTySCtFhxkHpbhWWCVRBDUQBHuEaQrLSEL+XO4Cwjo57JiDwthRGAQFzIH3B7s7TKZfLMTEdHJq7MPB7latICrNqVq2zUVQQRHQSU5NrgZzE0yEiNGcbvs2k2yYE6eVZFXHmRUGQdS8CbLAOQ05daxVm1zb6HRhDphxEOMfSCJnW0tQEqyiRi63OSalwmk/lQMqt++Mk8OKcZPUkEw3o4epQVlqEG1NUFUw0VaacbCrO0TuOGpMzYFalO2ENE/R1KAgEUlMd0JIKzVSIcsQ1jiXEZ7Ii7OWIGdoEDQ0OLw0jPJnbmhqNbgo6P0KDYdf9TGDoKrPILcBBMdWQC4a+hrKJKpthaUexOLIbAXkomEWyDRSQY0Q1AtIVr3vef7Sjrrdfu5C0uGlsBXIIwTTzqo85saFxjYsCUM62db7H1s7a+/qEB9xmPicvfnrGx0nFs3NcP9FBAuAuttpXPy5w6zKttOSz5PvpwnhYNsrgi0U9eHRNPcqVZT3O0nzXtaeYwqLsQm9SlKHugjisUFC3Fo7cl2H6uZLVekqpiZhy7HIGVv11FYca+3HfMugqmJ0YYFQNsdO4dddo0xcEuX3KqyxldMugiagFam7nWnud2a8wPQdbLVucG50VA/BpN0RwcidGlfKKreSxG8wHEaLuts5x5nCPxmq5MYgrihXAAAAAElFTkSuQmCC",L4={class:"report_list"},F4={class:"filter_wrapper"},B4={class:"filter_row"},U4={class:"form_field category_box"},j4={class:"form_field"},G4={class:"filter_row"},H4={class:"form_field"},K4=["disabled"],q4={key:0,class:"empty_text"},z4={key:1,class:"empty_text"},Q4={key:2,class:"report_items"},W4={class:"item_inner"},Y4={class:"item_left"},X4=["onClick"],J4=["src"],Z4={class:"item_right"},$4={class:"item_info"},t5={class:"item_row"},e5={class:"item_field"},n5={key:0,class:"item_category"},r5={class:"item_field"},s5={key:0,class:"item_date"},i5=["onUpdate:modelValue"],o5={class:"item_registered web"},a5={key:0,class:"item_detail"},c5={class:"item_field"},l5={class:"item_contents"},u5={key:0,class:"item_content"},h5=["onUpdate:modelValue"],f5={class:"item_buttons"},d5=["onClick"],p5=["onClick"],g5={class:"item_registered mob"},m5={class:"reaction_wrapper"},_5=["onClick"],y5={class:"count"},A5={class:"comment_section"},v5=["onClick"],E5=["src"],I5={key:0,class:"comment_area"},T5={class:"comment_list"},b5=["onUpdate:modelValue"],w5={class:"comment_icons"},R5=["onClick"],C5={class:"comment_content"},S5={class:"comment_date"},P5={key:0,class:"comment_icons"},V5=["onClick"],x5=["onClick"],D5={class:"comment_input_row"},N5=["onUpdate:modelValue","onKeyup"],k5=["onClick"],Qg={__name:"ReportList",setup(n){const t=new URL("data:image/png;base64,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",import.meta.url).href,e=new URL("data:image/png;base64,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",import.meta.url).href,r=new URL("data:image/png;base64,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",import.meta.url).href,s=new URL("data:image/png;base64,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",import.meta.url).href,i=yh(),{reports:o,isFetched:c,removeReport:l,updateReport:u}=_y(),f=["","","","",""],d=Pt({}),g=async(P,L)=>{const M=o.value.find(S=>S.id===P);if(!M)return;M.reactions||(M.reactions={},f.forEach(S=>M.reactions[S]=0));const st=d.value[P]||[],et=st.includes(L),E=et?Math.max(0,(M.reactions[L]||0)-1):(M.reactions[L]||0)+1,b=qs(Fn,"reports",P);await Qu(b,{[`reactions.${L}`]:E}),M.reactions[L]=E,et?(d.value[P]=st.filter(S=>S!==L),localStorage.removeItem(`${P}_${L}`)):(d.value[P]=[...st,L],localStorage.setItem(`${P}_${L}`,"true"))};cs(()=>{o.value.forEach(P=>{d.value[P.id]=f.filter(L=>localStorage.getItem(`${P.id}_${L}`)==="true")})});const m=Pt(!1),C=Pt(".");let x=null,k=null;ro(c,P=>{P?(clearTimeout(k),m.value=!1,clearInterval(x)):k=setTimeout(()=>{m.value=!0,x=setInterval(()=>{C.value=C.value.length<3?C.value+".":"."},500)},600)}),Eo(()=>{clearTimeout(k),clearInterval(x)});const G=Pt(""),B=Pt(""),U=Pt(""),q=Oe(()=>G.value||B.value.trim()||U.value.trim()),tt=()=>{B.value=B.value.replace(/[^\d]/g,"").substring(0,8)},rt=Oe(()=>o.value.filter(P=>{const L=!G.value||P.category===G.value,M=!B.value||P.occurredAt&&P.occurredAt.replace(/[-:\s]/g,"").includes(B.value),st=!U.value||P.content&&P.content.toLowerCase().includes(U.value.toLowerCase());return L&&M&&st})),I=()=>{console.log(" :",{category:G.value,date:B.value,keyword:U.value})},A=P=>{const L=o.value.find(M=>M.id===P);L&&(L.isRotating=!0,setTimeout(()=>L.isOpen=!L.isOpen,300),setTimeout(()=>L.isRotating=!1,600))},y=P=>o.value[P].isEditing=!0,R=async P=>{const L=o.value[P];L.isEditing=!1;try{await u(L.id,{category:L.category,occurredAt:L.occurredAt,content:L.content,createdAt:L.createdAt}),i.openModal("alert"," "," .")}catch(M){console.error(" :",M),i.openModal("alert"," ","   .")}},w=P=>{const L=o.value[P];i.openModal("confirm"," ","?",{onConfirm:async()=>{try{await l(L.id),await new Promise(M=>setTimeout(M,300)),i.openModal("alert"," "," .")}catch(M){console.error("  :",M),i.openModal("alert"," ","   .")}}})},T=P=>{if(!P)return"-";try{return typeof P.toDate=="function"?P.toDate().toLocaleString("ko-KR",{hour12:!1}):P}catch(L){return console.error("  :",L),"-"}},v=Pt({}),vt=Pt({}),Lt=Pt({}),Dt=Pt({}),Rt=localStorage.getItem("localUserId")||(()=>{const P=crypto.randomUUID();return localStorage.setItem("localUserId",P),P})(),Et=P=>{Dt.value[P]=!Dt.value[P],Dt.value[P]&&!v.value[P]&&ye(P)},ye=P=>{const L=qu(Fn,"reports",P,"comments"),M=ry(L,sy("createdAt","asc"));ly(M,st=>{v.value[P]=st.docs.map(et=>({id:et.id,...et.data()}))})},Ke=async P=>{const L=vt.value[P];if(!L?.trim())return;const M=qu(Fn,"reports",P,"comments");await cy(M,{content:L.trim(),authorId:Rt,createdAt:uy()}),vt.value[P]=""},Ve=P=>{Lt.value[P.id]=P.content},se=async(P,L)=>{const M=Lt.value[L];if(!M?.trim())return;const st=qs(Fn,"reports",P,"comments",L);await Qu(st,{content:M.trim()}),delete Lt.value[L]},sn=async(P,L)=>{const M=qs(Fn,"reports",P,"comments",L);await ay(M)},Be=Pt(!1),Ue=()=>Be.value=window.scrollY>300;cs(()=>window.addEventListener("scroll",Ue)),Eo(()=>window.removeEventListener("scroll",Ue));const ce=()=>window.scrollTo({top:0,behavior:"smooth"});return(P,L)=>(at(),dt("section",L4,[L[11]||(L[11]=N("h2",null," ",-1)),N("div",F4,[N("div",B4,[N("div",U4,[L[3]||(L[3]=N("label",{class:"label_text"},"",-1)),Ut(Xu,{modelValue:G.value,"onUpdate:modelValue":L[0]||(L[0]=M=>G.value=M),showAll:!0},null,8,["modelValue"])]),N("div",j4,[L[4]||(L[4]=N("label",{class:"label_text",for:"searchDate"},"",-1)),An(N("input",{id:"searchDate",type:"text","onUpdate:modelValue":L[1]||(L[1]=M=>B.value=M),placeholder:"YYYYMMDD",maxlength:"8",onInput:tt},null,544),[[lr,B.value]])])]),N("div",G4,[N("div",H4,[L[5]||(L[5]=N("label",{class:"label_text",for:"searchKeyword"},"",-1)),An(N("input",{id:"searchKeyword",type:"text","onUpdate:modelValue":L[2]||(L[2]=M=>U.value=M),placeholder:" "},null,512),[[lr,U.value]])]),N("button",{class:"search_btn",disabled:!q.value,onClick:I},"  ",8,K4)])]),L[12]||(L[12]=N("div",{class:"line"},null,-1)),m.value?(at(),dt("p",q4,"    "+ge(C.value),1)):rt.value.length?(at(),dt("div",Q4,[(at(!0),dt(Xt,null,ba(rt.value,(M,st)=>(at(),dt("div",{key:M.id,class:"report_item"},[N("div",W4,[N("div",Y4,[N("div",{class:$e(["item_icon",{rotating:M.isRotating}]),onClick:et=>A(M.id)},[Ut(Ro,{name:"fade",mode:"out-in"},{default:as(()=>[(at(),dt("img",{key:M.isOpen,src:M.isOpen?mt(e):mt(t),alt:"toggle icon",class:"icon_img"},null,8,J4))]),_:2},1024)],10,X4)]),N("div",Z4,[N("div",$4,[N("div",t5,[N("div",e5,[L[6]||(L[6]=N("label",null,"",-1)),M.isEditing?(at(),un(Xu,{key:1,modelValue:M.category,"onUpdate:modelValue":et=>M.category=et,class:"edit_select"},null,8,["modelValue","onUpdate:modelValue"])):(at(),dt("p",n5,ge(M.category),1))]),N("div",r5,[L[7]||(L[7]=N("label",null,"",-1)),M.isEditing?An((at(),dt("input",{key:1,type:"text","onUpdate:modelValue":et=>M.occurredAt=et,placeholder:"YYYY-MM-DD HH:MM",maxlength:"16"},null,8,i5)),[[lr,M.occurredAt]]):(at(),dt("p",s5,ge(M.occurredAt),1))])]),N("p",o5,"  "+ge(T(M.createdAt)),1)]),M.isOpen?(at(),dt("div",a5,[N("div",c5,[L[8]||(L[8]=N("label",null,"",-1)),N("div",l5,[M.isEditing?An((at(),dt("textarea",{key:1,"onUpdate:modelValue":et=>M.content=et,class:"edit_textarea",rows:"3"},null,8,h5)),[[lr,M.content]]):(at(),dt("p",u5,ge(M.content),1))])]),N("div",f5,[N("button",{class:"btn_edit",onClick:et=>M.isEditing?R(st):y(st)},ge(M.isEditing?"":""),9,d5),N("button",{class:"btn_delete",onClick:et=>w(st)},"  ",8,p5)])])):fe("",!0),N("p",g5," "+ge(M.createdAt),1),N("div",m5,[(at(),dt(Xt,null,ba(f,(et,E)=>N("button",{key:E,class:$e(["reaction_btn",{active:d.value[M.id]?.includes(et)}]),onClick:b=>g(M.id,et)},[N("p",null,ge(et),1),N("p",y5,ge(M.reactions?.[et]||0),1)],10,_5)),64))]),N("div",A5,[N("div",{class:"comment_header",onClick:et=>Et(M.id)},[N("img",{src:Dt.value[M.id]?mt(s):mt(r),alt:" ",class:"comment_toggle_icon"},null,8,E5),L[9]||(L[9]=N("p",{class:"comment_title"},"",-1))],8,v5),Ut(Ro,{name:"fade"},{default:as(()=>[Dt.value[M.id]?(at(),dt("div",I5,[N("div",T5,[(at(!0),dt(Xt,null,ba(v.value[M.id],et=>(at(),dt("div",{key:et.id,class:"comment_item"},[Lt.value[et.id]!==void 0?(at(),dt(Xt,{key:0},[An(N("input",{"onUpdate:modelValue":E=>Lt.value[et.id]=E,class:"comment_edit_input"},null,8,b5),[[lr,Lt.value[et.id]]]),N("div",w5,[N("img",{src:k4,alt:"",class:"comment_icon_btn",onClick:E=>se(M.id,et.id)},null,8,R5)])],64)):(at(),dt(Xt,{key:1},[N("p",C5,ge(et.content),1),N("p",S5,ge(T(et.createdAt)),1),et.authorId===mt(Rt)?(at(),dt("div",P5,[N("img",{src:M4,alt:"",class:"comment_icon_btn",onClick:E=>Ve(et)},null,8,V5),N("img",{src:O4,alt:"",class:"comment_icon_btn",onClick:E=>sn(M.id,et.id)},null,8,x5)])):fe("",!0)],64))]))),128))]),N("div",D5,[An(N("input",{"onUpdate:modelValue":et=>vt.value[M.id]=et,placeholder:" ",class:"comment_input",onKeyup:cv(et=>Ke(M.id),["enter"])},null,40,N5),[[lr,vt.value[M.id]]]),N("button",{class:"comment_submit_btn",onClick:et=>Ke(M.id)},"  ",8,k5)])])):fe("",!0)]),_:2},1024)])])])]))),128))])):(at(),dt("p",z4,"   . ")),An(N("button",{class:"btn_top",onClick:ce},[...L[10]||(L[10]=[hn('<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_1904_442)"><path d="M20 5C32 5 35 8 35 20C35 32 32 35 20 35C8 35 5 32 5 20C5 8 8 5 20 5Z" fill="#6000B4" fill-opacity="0.1" stroke="#6000B4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 21.6666L20 16.6666L25 21.6666" stroke="#6000B4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_1904_442"><rect width="40" height="40" fill="white"></rect></clipPath></defs></svg>',1)])],512),[[c1,Be.value]]),mt(i)&&mt(i).isOpen.value?(at(),un(vf,{key:3,type:mt(i).modalType.value,title:mt(i).modalTitle.value,message:mt(i).modalMessage.value,onConfirm:mt(i).confirm,onCancel:mt(i).cancel,onClose:mt(i).closeModal},null,8,["type","title","message","onConfirm","onCancel","onClose"])):fe("",!0)]))}},Vs=Pt("light");function M5(){const n=()=>{Vs.value=Vs.value==="light"?"dark":"light",document.documentElement.setAttribute("data-theme",Vs.value)},t=e=>{Vs.value=e,document.documentElement.setAttribute("data-theme",Vs.value)};return cs(()=>{const e=localStorage.getItem("theme");t(e||"light")}),{theme:Vs,toggleTheme:n}}const O5="data:image/png;base64,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",L5="data:image/png;base64,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",F5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgmSURBVHgB7VlLjxvFFj6nuv3IoJt4GVbT3Ksrru7i4rC4PCSIR2IRHhIJEgIJiZlBPMQGJr/A4Q/AICGxAGEiIQURUEawgAWKDausyMAqK2J2sMJCPMZuVxXn1KurPZ64A14gMWWVuu1+1HfO+c5Xp8oAh+2w/b0bVrmpk/Vavx5pbOd1+fSkLr/45RZ9ZjjYHM29t9Vr1VdWtrQQJxXqjkLQWuivFcD2l8Mnzh80xkbz0+w3zHt5bdoZ1/S7v8ifzg5G88eIm1h0A4MfNxp9lap1mWqk3hEKXp5376njl7LmkX9c1YhdTeCpA4FH6m2d6N59/37/+t3/uZDNe3YPpusyUR2ZAqia3hBHV/o89iJ8Cw2Ypkf6MoE7ZKKBBgA+kjHzb0bZV0JnZIAmzxN46myEPUeFKqOvc4EpYd895Z6a8/a4Xu8vwndDA+7/1/vbBLpNHenF2rw8wd09NdlHhVPHP9ggymTKAOYPaDJTM3jzG38EckRWf27W90VwUlevE+ghj2OclVKvQfvO9nuvwR8xoJN98DJ58SXzIttRCdglQGvfD14clu5tXWrR713DdwOYj0wdf26Pik45EphgZ3a8ndGZkTiKJ2SqvnbOoq5gkqqt2+/pbR2EE+eDv5ApIa5Swh4jz0DeUDipyeFYwdrwyuYwvvfU8YvEdewRdVaV5Tt4rys2QLAByhrjDRLGGdfp/LHd3ad2y2NfauX1PRpbZTQ+RUZTlyO5Mj4x/KzsuIMjILBLtDnmeI9S6NE88A/e+tEWgb9M8FYdbQJ4w39jTAHeJjVlAkcC1W0kCVf/d2fvXPzOwfDMSIq9NRp7NBUh71pjnbwzF+rsDw9kF1n6NkxCOfrQ961Z8A8dv3iO4LxWgPWAIyPMuUloSx/+nfNCFEctku5//1824sq1TcqF/BVSo4CB8Ky1Hnmzs9CAKcouc4+4iCYCQg+uXVkvJe3D5HkC0A1c97wHR504F5hWdiSOhTk6aUU2gmhHRBbd2+8q8/ybrza380QPGEPOic1GNFV3oQEkmZ3gfaIPDbUZX2etl1q/SopiuA2GGua+wH8L0FAGlZ8LXKS8cRwZZ5yJkE6wm93dy0rObE5fsRQiFUxZAeHk4gikamDBU0f97rUZ6qCWfQcMS3x3nncAtf/uAdoeG6ON8Wa+YDNQt9Ia9OKxhp8/N8hTikIKVloTOL/QgN+a4zMS1CaFdmtvRZ8te5+1HlYtYA/Wctz9xh/neRJ+1rgELGDU/lpssDcI3cTXyTpvdeIxf/j0+TWVTJ+ZUl5Ofp2cncVbqRYKBtz6YT+qb1AnPllZMu1EJVljhI+MBenuB7of40goc52fdXTi7yxEg2fWqmKqbABzn9L6WyODaJIPTR7wd6MqpDIJ4D7gic0Df87GShcx5fLHGl8kPU0d2fXLz35XBdfCWihYmsKjxmtEGaaFT95QJmBR9yhA63GhUGMhsS4X/HfzpFEhilycH3kCp6viqmzAVE9P22SzoJRLTogAOVl1wOmEax9HMX4GrFa5ozcCDaV8ftjIqU5VXGnVG2mAFg8SZlSGELzqAQEWk5fLDQhzBaqSlFqpBed1JwgmqjQvtKvCqmwAcfwOp/Msk7baRHRyWHjagUQvpRY4hOc8eC+fBf28IpljVhVXZQOcTHqqFIMZLztJjMoIO/PaJNdR5MhYdFEpjItl1T+/dAPQTf3u3A3EOeC8GvQ+GAIu6b3W2xoo0IhzIZQg4Xlh37F8A1xp4Au34GVTywAG+sRqZCgS6GMnOgMQy88KHSJsizysLO+VVciCQ132suewB+DlM6pGg+FWpaSLjHbGFbWRq2ZNkacrh6CyAUXR5uoXnxNGcSLV4d9mEtMZo62URhVryCv3GxTGVG3VVahIUm1K4khxjBvQ50axPuAcKRY6vj4yntdh3rAetwZ6YwUsl0Id2gopALtkDp6D4P3A40CzIItgZvD9CoZRcefWC1aSm4+9vVoFWyUDcq1PB0qAK4VLILWTSYiM8JWqo0aYqSFeoelCei0aXnDyeV3kG1WwLQwVe3+ioM+TC4OzhZgt4OLCzBV5RSGX+IihpZJdyBvDbCTsDoUsrtkZXYRIj6a5OLG3s38hXzkCDD7XyAuYjF8qQYdEDvWNcCKKpRq/SOJQ4NnFjQWvXM2jA+85D0B4yWW1wxY21OXmk29mf8iAe/95YWMq4SoNlXlagChUx+i7Uw/paWGWmWCvxwa4NbDdkfC0sfngF/fgSnFVKBe9DzKVqMu1p95Yv2kDqHzuSgHHwh5PSFSufVSYVSEUZOAqVZeOYma+cEbZd9lVHHjDYLYk9/WU+dxG64jtg3AeKKMEreWlz1aeCG4F5b0fl9VRjeQiA6VFPPocgWKBr2NZLiY+s1ACo3XFu0Y3HQHabOX153BWGu22CDCL40UIlvaHEEo5EJcYxQRm3GLASzODx3tJKpTiSusfFYhzcNj+ou0mqo4btyebH/fzVJ2c1hRQx5w3ouicjpq/815Tztdo739C/8DQpu3Zg/7luZlWvZi7QXv8lksb44bsTBoSx7SbzZ12l/XY7C5L5B1uug4Te03TX1UbKpHrsIRWfU18g5Y3xLE8ycnj5GXaUy2OymxRchTymrTbg/Yai8Sf9j63pUQAjqrzRIld63H2vNKT4HEZvG+uUZSISrvff/bCeVhCW4oBO7Snn9fSNfpLaHvcUA6sBnNuOtGIj02TC9t5rb4GS2pLS2Lf2u1elteTLtGkTRRqM31oa/w7Ou7kQu+MPnn+Czhsh+2wLa39Dg6V7kYHEKisAAAAAElFTkSuQmCC",B5={class:"terms_modal"},U5={key:0,class:"termagree_wrapper"},j5={__name:"TermsModal",props:{showAgree:{type:Boolean,default:!0}},emits:["close-terms"],setup(n,{emit:t}){const e=t,r=()=>e("close-terms");return(s,i)=>(at(),dt("div",B5,[Ut(_h,{title:"  ",leftIcon:"close",onLeftAction:r}),N("div",{class:$e(["terms_wrapper",{nofooter:!n.showAgree}])},[i[1]||(i[1]=hn('<div class="terms_inner" data-v-ccb17cbe><p class="termtitle" data-v-ccb17cbe>1 ()</p><p class="termscript" data-v-ccb17cbe>     (Bug Report)   ,  ( &quot;&quot;)   ,      .<br data-v-ccb17cbe>         ,           . </p><p class="termtitle" data-v-ccb17cbe>2 ()</p><p class="termscript" data-v-ccb17cbe>         , ,        .<br data-v-ccb17cbe>        .<br data-v-ccb17cbe>  ID             . </p><p class="termtitle" data-v-ccb17cbe>3 ( )</p><p class="termscript" data-v-ccb17cbe>       ,      .<br data-v-ccb17cbe>          ,     .<br data-v-ccb17cbe>           . </p><p class="termtitle" data-v-ccb17cbe>4 ( )</p><p class="termscript" data-v-ccb17cbe>      ,        .<br data-v-ccb17cbe>        ,       .<br data-v-ccb17cbe>             . </p><p class="termtitle" data-v-ccb17cbe>5 (   )</p><p class="termscript" data-v-ccb17cbe>       , ,  ,   (Firebase, Google )      .<br data-v-ccb17cbe>     , ,        ,<br data-v-ccb17cbe>         , , ,      .<br data-v-ccb17cbe>    , ,    .<br data-v-ccb17cbe>     ,       . </p><p class="termtitle" data-v-ccb17cbe>6 ( )</p><p class="termscript" data-v-ccb17cbe>       Google  .<br data-v-ccb17cbe>  Google   Firebase Authentication  Firestore   ,<br data-v-ccb17cbe>     3  . </p><p class="termtitle" data-v-ccb17cbe>7 (  )</p><p class="termscript" data-v-ccb17cbe>              .<br data-v-ccb17cbe>       <br data-v-ccb17cbe>  , ,      <br data-v-ccb17cbe>      , ,  <br data-v-ccb17cbe>       </p><p class="termtitle" data-v-ccb17cbe>8 ( )</p><p class="termscript" data-v-ccb17cbe>        ,        .<br data-v-ccb17cbe>           . </p><p class="termtitle" data-v-ccb17cbe>9 (  )</p><p class="termscript" data-v-ccb17cbe>     ,          . </p></div>',1)),n.showAgree?(at(),dt("div",U5,[...i[0]||(i[0]=[N("p",{class:"terminfo"},"      .",-1),N("div",{class:"modal_buttons type_confirm"},[N("button",{class:"btn_cancel"},""),N("button",{class:"btn_confirm"},"")],-1)])])):fe("",!0)],2)]))}},yy=ms(j5,[["__scopeId","data-v-ccb17cbe"]]),G5={class:"mypage_wrapper"},H5={class:"menu_wrapper"},K5={class:"right"},q5={class:"submenu_wrapper"},Ay={__name:"index",emits:["close-menu"],setup(n,{emit:t}){const e=t,r=()=>e("close-menu"),s=Pt(null),i=l=>{s.value=s.value===l?null:l},o=Pt(!1),c=()=>o.value=!0;return(l,u)=>(at(),dt(Xt,null,[N("div",G5,[o.value?fe("",!0):(at(),un(_h,{key:0,title:"BUG REPORT",leftIcon:"close-menu",onLeftAction:r})),N("div",H5,[N("div",{class:$e(["menu_inner",{open:s.value==="info"}]),onClick:u[0]||(u[0]=f=>i("info"))},[u[3]||(u[3]=hn('<div class="left"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_16_667)"><path d="M12.007 1L12.245 1.005C13.4393 1.05368 14.5918 1.45796 15.5548 2.166C16.5178 2.87404 17.2474 3.85357 17.65 4.979L17.728 5.212C18.1463 6.55144 18.0819 7.99512 17.546 9.292L17.453 9.502L17.503 9.5C18.0387 9.48757 18.5675 9.62176 19.0325 9.88806C19.4974 10.1544 19.8807 10.5427 20.141 11.011L20.222 11.169C20.5351 11.8354 20.5817 12.5963 20.3523 13.296C20.123 13.9957 19.6349 14.5813 18.988 14.933L18.798 15.029L17 15.85V16.813L18.166 17.979L18.306 18.133C18.7843 18.7 19.0322 19.426 19.0008 20.1671C18.9693 20.9083 18.6607 21.6106 18.136 22.135C17.049 23.223 15.309 23.296 14.106 22.279L13.946 22.133L12 20.185L10.054 22.132C9.5387 22.6495 8.8503 22.9582 8.12115 22.9988C7.392 23.0394 6.67357 22.8091 6.104 22.352L5.954 22.224C4.784 21.151 4.67 19.345 5.72 18.104L5.866 17.946L7 16.812V15.85L5.166 15.01L4.985 14.917C4.34545 14.5619 3.865 13.9767 3.6412 13.2802C3.41741 12.5837 3.46703 11.8282 3.78 11.167C4.01943 10.6687 4.39494 10.2483 4.86315 9.95442C5.33137 9.6605 5.87318 9.50504 6.426 9.506L6.556 9.509L6.526 9.445C6.24952 8.82172 6.0795 8.1565 6.023 7.477L6.006 7.217V7C6.00594 5.44762 6.60757 3.95564 7.68446 2.83753C8.76136 1.71942 10.2297 1.06221 11.781 1.004L12.005 1H12.007ZM12.01 16H12C11.7348 16 11.4804 16.1054 11.2929 16.2929C11.1054 16.4804 11 16.7348 11 17C11 17.2652 11.1054 17.5196 11.2929 17.7071C11.4804 17.8946 11.7348 18 12 18H12.01C12.2752 18 12.5296 17.8946 12.7171 17.7071C12.9046 17.5196 13.01 17.2652 13.01 17C13.01 16.7348 12.9046 16.4804 12.7171 16.2929C12.5296 16.1054 12.2752 16 12.01 16ZM12.01 13H12C11.7348 13 11.4804 13.1054 11.2929 13.2929C11.1054 13.4804 11 13.7348 11 14C11 14.2652 11.1054 14.5196 11.2929 14.7071C11.4804 14.8946 11.7348 15 12 15H12.01C12.2752 15 12.5296 14.8946 12.7171 14.7071C12.9046 14.5196 13.01 14.2652 13.01 14C13.01 13.7348 12.9046 13.4804 12.7171 13.2929C12.5296 13.1054 12.2752 13 12.01 13ZM12.01 8H12C11.7348 8 11.4804 8.10536 11.2929 8.29289C11.1054 8.48043 11 8.73478 11 9C11 9.26522 11.1054 9.51957 11.2929 9.70711C11.4804 9.89464 11.7348 10 12 10H12.01C12.2752 10 12.5296 9.89464 12.7171 9.70711C12.9046 9.51957 13.01 9.26522 13.01 9C13.01 8.73478 12.9046 8.48043 12.7171 8.29289C12.5296 8.10536 12.2752 8 12.01 8ZM10.01 5H10C9.73478 5 9.48043 5.10536 9.29289 5.29289C9.10536 5.48043 9 5.73478 9 6C9 6.26522 9.10536 6.51957 9.29289 6.70711C9.48043 6.89464 9.73478 7 10 7H10.01C10.2752 7 10.5296 6.89464 10.7171 6.70711C10.9046 6.51957 11.01 6.26522 11.01 6C11.01 5.73478 10.9046 5.48043 10.7171 5.29289C10.5296 5.10536 10.2752 5 10.01 5ZM14.01 5H14C13.7348 5 13.4804 5.10536 13.2929 5.29289C13.1054 5.48043 13 5.73478 13 6C13 6.26522 13.1054 6.51957 13.2929 6.70711C13.4804 6.89464 13.7348 7 14 7H14.01C14.2752 7 14.5296 6.89464 14.7171 6.70711C14.9046 6.51957 15.01 6.26522 15.01 6C15.01 5.73478 14.9046 5.48043 14.7171 5.29289C14.5296 5.10536 14.2752 5 14.01 5Z" fill="url(#paint0_linear_16_667)"></path></g><defs><linearGradient id="paint0_linear_16_667" x1="3.50312" y1="1" x2="25.8872" y2="12.6032" gradientUnits="userSpaceOnUse"><stop stop-color="#6000B4"></stop><stop offset="1" stop-color="#006192"></stop></linearGradient><clipPath id="clip0_16_667"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg><p class="menutitle"> </p></div>',1)),N("div",K5,[(at(),dt("svg",{class:$e(["arrow_icon",{rotated:s.value==="info"}]),width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[...u[2]||(u[2]=[N("path",{d:"M6 4L10 8L6 12",stroke:"#848A9C","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2))])],2),Ut(Ro,{name:"submenu"},{default:as(()=>[An(N("div",q5,[...u[4]||(u[4]=[N("div",{class:"submenu_inner"},[N("p",{class:"submenutitle"}," ID ")],-1),N("div",{class:"submenu_inner"},[N("p",{class:"submenutitle"}," ")],-1)])],512),[[c1,s.value==="info"]])]),_:1}),N("div",{class:"menu_inner",onClick:c},[...u[5]||(u[5]=[hn('<div class="left"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_16_745)"><path d="M9 5H7C6.46957 5 5.96086 5.21071 5.58579 5.58579C5.21071 5.96086 5 6.46957 5 7V19C5 19.5304 5.21071 20.0391 5.58579 20.4142C5.96086 20.7893 6.46957 21 7 21H17C17.5304 21 18.0391 20.7893 18.4142 20.4142C18.7893 20.0391 19 19.5304 19 19V7C19 6.46957 18.7893 5.96086 18.4142 5.58579C18.0391 5.21071 17.5304 5 17 5H15" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 5C9 4.46957 9.21071 3.96086 9.58579 3.58579C9.96086 3.21071 10.4696 3 11 3H13C13.5304 3 14.0391 3.21071 14.4142 3.58579C14.7893 3.96086 15 4.46957 15 5C15 5.53043 14.7893 6.03914 14.4142 6.41421C14.0391 6.78929 13.5304 7 13 7H11C10.4696 7 9.96086 6.78929 9.58579 6.41421C9.21071 6.03914 9 5.53043 9 5Z" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 12H15" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 16H15" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_16_745"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg><p class="menutitle"></p></div><div class="right"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 4L10 8L6 12" stroke="#848A9C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>',2)])]),u[6]||(u[6]=hn('<div class="menu_inner"><div class="left"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_16_727)"><path d="M14 8V6C14 5.46957 13.7893 4.96086 13.4142 4.58579C13.0391 4.21071 12.5304 4 12 4H5C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6V18C3 18.5304 3.21071 19.0391 3.58579 19.4142C3.96086 19.7893 4.46957 20 5 20H12C12.5304 20 13.0391 19.7893 13.4142 19.4142C13.7893 19.0391 14 18.5304 14 18V16" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9 12H21L18 9" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18 15L21 12" stroke="#535765" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_16_727"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg><p class="menutitle"></p></div><div class="right"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 4L10 8L6 12" stroke="#848A9C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div></div>',1))])]),Ut(Ro,{name:"fade"},{default:as(()=>[o.value?(at(),un(yy,{key:0,showAgree:!1,onCloseTerms:u[1]||(u[1]=f=>o.value=!1)})):fe("",!0)]),_:1})],64))}},z5={id:"app",class:"app_wrap"},Q5={class:"btns_wrapper"},W5=["src"],Y5={class:"btns_inner"},X5=["src","alt"],J5={class:"main_content"},Z5={key:0,class:"tab_wrapper"},$5={key:1,class:"desktop_layout"},t7={key:2,class:"mobile_layout"},e7={key:0,class:"mypage_overlay"},n7={__name:"index",setup(n){const t=Pt(!1),e=()=>{t.value=!0},r=()=>{t.value=!1},s=yh(),i=Pt("form"),o=Pt(!1),{theme:c,toggleTheme:l}=M5(),u=["1.   ","2.  ID  ","3.   ","4.  ","5.  ","6.   "],f=()=>{const g=u.join(`
`);s.openModal("alert","",g)},d=()=>{o.value=window.innerWidth<1024};return cs(()=>{d(),window.addEventListener("resize",d)}),Eo(()=>window.removeEventListener("resize",d)),(g,m)=>(at(),dt("div",z5,[Ut(_h,{title:"BUG REPORT",rightIcon:"menu",onRightAction:e}),N("div",Q5,[N("button",{class:"noti_btn",onClick:f},[N("img",{src:mt(F5),alt:" "},null,8,W5)]),N("div",Y5,[N("button",{class:"theme_toggle_btn",onClick:m[0]||(m[0]=(...C)=>mt(l)&&mt(l)(...C))},[N("img",{src:mt(c)==="light"?mt(O5):mt(L5),alt:mt(c)==="light"?" ":" "},null,8,X5)]),N("button",{class:"help_btn",onClick:m[1]||(m[1]=C=>mt(s).openModal("help",""))},[...m[4]||(m[4]=[hn('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-90b2ca35><g clip-path="url(#clip0_1904_299)" data-v-90b2ca35><path d="M12 2L12.642 2.005L13.258 2.022L13.557 2.035L14.136 2.069L14.689 2.115C19.376 2.57 21.339 4.448 21.855 9.021L21.885 9.311L21.931 9.864L21.972 10.591L21.978 10.741L21.995 11.358L22 12L21.995 12.642L21.978 13.258L21.965 13.557L21.931 14.136L21.885 14.689C21.43 19.376 19.552 21.339 14.979 21.855L14.689 21.885L14.136 21.931L13.409 21.972L13.259 21.978L12.642 21.995L12 22L11.358 21.995L10.742 21.978L10.443 21.965L9.86398 21.931L9.31098 21.885C4.62398 21.43 2.66098 19.552 2.14498 14.979L2.11498 14.689L2.06898 14.136L2.02798 13.409L2.02198 13.259L2.00498 12.642L2.00098 12.324V11.676L2.00498 11.358L2.02198 10.742L2.03498 10.443L2.06898 9.864L2.11498 9.311C2.56998 4.624 4.44798 2.661 9.02098 2.145L9.31098 2.115L9.86398 2.069L10.591 2.028L10.741 2.022L11.358 2.005C11.568 2.002 11.782 2 12 2ZM12 11H11L10.883 11.007C10.6399 11.0359 10.4159 11.153 10.2534 11.336C10.0909 11.519 10.0011 11.7552 10.0011 12C10.0011 12.2448 10.0909 12.481 10.2534 12.664C10.4159 12.847 10.6399 12.9641 10.883 12.993L11 13V16L11.007 16.117C11.0333 16.3402 11.1341 16.5481 11.293 16.707C11.4519 16.8659 11.6598 16.9667 11.883 16.993L12 17H13L13.117 16.993C13.3402 16.9667 13.548 16.8659 13.707 16.707C13.8659 16.5481 13.9667 16.3402 13.993 16.117L14 16L13.993 15.883C13.9691 15.679 13.8829 15.4873 13.7462 15.3339C13.6095 15.1806 13.4289 15.0731 13.229 15.026L13.117 15.006L13 15V12L12.993 11.883C12.9667 11.6598 12.8659 11.4519 12.707 11.293C12.548 11.1341 12.3402 11.0333 12.117 11.007L12 11ZM12.01 8L11.883 8.007C11.6399 8.03591 11.4159 8.15296 11.2534 8.33597C11.0909 8.51897 11.0011 8.75524 11.0011 9C11.0011 9.24476 11.0909 9.48103 11.2534 9.66403C11.4159 9.84704 11.6399 9.96409 11.883 9.993L12 10L12.127 9.993C12.37 9.96409 12.594 9.84704 12.7566 9.66403C12.9191 9.48103 13.0089 9.24476 13.0089 9C13.0089 8.75524 12.9191 8.51897 12.7566 8.33597C12.594 8.15296 12.37 8.03591 12.127 8.007L12.01 8Z" fill="url(#paint0_linear_1904_299)" data-v-90b2ca35></path></g><defs data-v-90b2ca35><linearGradient id="paint0_linear_1904_299" x1="2.00098" y1="2" x2="25.0434" y2="17.4656" gradientUnits="userSpaceOnUse" data-v-90b2ca35><stop stop-color="#6000B4" data-v-90b2ca35></stop><stop offset="1" stop-color="#006192" data-v-90b2ca35></stop></linearGradient><clipPath id="clip0_1904_299" data-v-90b2ca35><rect width="24" height="24" fill="white" data-v-90b2ca35></rect></clipPath></defs></svg>',1)])])])]),N("main",J5,[o.value?(at(),dt("div",Z5,[N("button",{class:$e({active:i.value==="form"}),onClick:m[2]||(m[2]=C=>i.value="form")},"   ",2),N("button",{class:$e({active:i.value==="list"}),onClick:m[3]||(m[3]=C=>i.value="list")},"   ",2)])):fe("",!0),o.value?(at(),dt("div",t7,[i.value==="form"?(at(),un(zg,{key:0})):(at(),un(Qg,{key:1}))])):(at(),dt("div",$5,[Ut(zg),Ut(Qg)]))]),Ut(Ro,{name:"mypage-slide",appear:!1},{default:as(()=>[t.value?(at(),dt("div",e7,[Ut(Ay,{onCloseMenu:r})])):fe("",!0)]),_:1}),mt(s)&&mt(s).isOpen.value?(at(),un(vf,{key:0,type:mt(s).modalType.value,title:mt(s).modalTitle.value,message:mt(s).modalMessage.value,onConfirm:mt(s).confirm,onCancel:mt(s).cancel,onClose:mt(s).closeModal},{help:as(()=>[...m[5]||(m[5]=[N("div",{class:"help_list"},[N("p",{class:"help_text"},"1.  // ."),N("p",{class:"help_text"},"2.    ."),N("p",{class:"help_text"},"3.     .")],-1),N("div",{class:"line"},null,-1),N("div",{class:"help_actions"},[N("div",{class:"help_action"},[N("img",{src:bE,alt:""}),N("p",null,"")]),N("div",{class:"help_action"},[N("img",{src:wE,alt:""}),N("p",null,"")])],-1)])]),_:1},8,["type","title","message","onConfirm","onCancel","onClose"])):fe("",!0)]))}},r7=ms(n7,[["__scopeId","data-v-90b2ca35"]]),s7={},i7={class:"groupjoin_wrapper"};function o7(n,t){return at(),dt("div",i7,[...t[0]||(t[0]=[hn('<p class="title">BUG REPORT</p><div class="groupid_wrapper"><div class="form_field"><input type="text" placeholder=" ID  ."></div><button class="submit_btn"> </button></div><div class="groupidcreate_wrapper"><p>   ID  .</p><button class="btn_secondary"> ID </button></div>',3)])])}const a7=ms(s7,[["render",o7]]),c7={},l7={class:"groupcreate_wrapper"};function u7(n,t){return at(),dt("div",l7,[...t[0]||(t[0]=[hn('<p class="title">BUG REPORT</p><div class="groupid_wrapper"><p>  ID .<br>    ID. </p><div class="filter_row"><div class="form_field"><input type="text" placeholder="+ "></div><button class="confirm_btn"> </button></div><button class="submit_btn"> ID </button></div><p class="back"></p>',3)])])}const h7=ms(c7,[["render",u7]]),f7=gE({history:createWebHashHistory("./"),routes:[{path:"/",redirect:"/splash"},{path:"/splash",component:AE},{path:"/signup",component:TE},{path:"/report",component:r7},{path:"/mypage",component:Ay},{path:"/signup/terms",component:yy},{path:"/signup/groupjoin",component:a7},{path:"/signup/groupcreate",component:h7}]});console.log("main.js ");const vy=hv(_v);console.log("app ");vy.use(f7);vy.mount("#app");console.log("mount ");
